{
  "__inputs": [
    {
      "name": "DS_INFLUXDB",
      "label": "InfluxDB",
      "description": "",
      "type": "datasource",
      "pluginId": "influxdb",
      "pluginName": "InfluxDB"
    },
    {
      "name": "VAR_DB",
      "type": "constant",
      "label": "Database",
      "value": "telegraf",
      "description": ""
    },
    {
      "name": "VAR_RP",
      "type": "constant",
      "label": "Retention Policy",
      "value": "autogen",
      "description": ""
    },
    {
      "name": "VAR_POLLING_INTERVAL",
      "type": "constant",
      "label": "polling_interval",
      "value": "60.0",
      "description": ""
    },
    {
      "name": "VAR_FC_DATA_RATE",
      "type": "constant",
      "label": "fc_data_rate",
      "value": "0.85",
      "description": ""
    },
    {
      "name": "VAR_5M_IN_MS",
      "type": "constant",
      "label": "5m_in_ms",
      "value": "300000",
      "description": ""
    }
  ],
  "__requires": [
    {
      "type": "panel",
      "id": "agenty-flowcharting-panel",
      "name": "FlowCharting",
      "version": "0.7.0"
    },
    {
      "type": "grafana",
      "id": "grafana",
      "name": "Grafana",
      "version": "7.5.7"
    },
    {
      "type": "panel",
      "id": "graph",
      "name": "Graph",
      "version": ""
    },
    {
      "type": "datasource",
      "id": "influxdb",
      "name": "InfluxDB",
      "version": "1.0.0"
    },
    {
      "type": "panel",
      "id": "piechart",
      "name": "Pie chart v2",
      "version": ""
    },
    {
      "type": "panel",
      "id": "stat",
      "name": "Stat",
      "version": ""
    },
    {
      "type": "panel",
      "id": "table",
      "name": "Table",
      "version": ""
    },
    {
      "type": "panel",
      "id": "text",
      "name": "Text",
      "version": ""
    }
  ],
  "annotations": {
    "list": [
      {
        "builtIn": 1,
        "datasource": "$data_source",
        "enable": false,
        "hide": true,
        "iconColor": "rgba(0, 211, 255, 1)",
        "name": "Annotations & Alerts",
        "showIn": 0,
        "type": "dashboard"
      }
    ]
  },
  "editable": true,
  "gnetId": null,
  "graphTooltip": 0,
  "id": null,
  "iteration": 1667835589694,
  "links": [],
  "panels": [
    {
      "datasource": "$data_source",
      "description": "![Cisco UCS Architecture](/public/img/utm/ucs_architecture.png)\nUTM collector - v$utm_collector_ver  \nUTM GUI - v0.52  \nby Paresh Gupta",
      "fieldConfig": {
        "defaults": {},
        "overrides": []
      },
      "gridPos": {
        "h": 3,
        "w": 24,
        "x": 0,
        "y": 0
      },
      "id": 97,
      "options": {
        "content": "<table style=\"margin: 0px; padding: 0px; border: 1px; border-collapse: collapse;\" width=\"100%\">\n<tbody>\n<tr style=\"margin: 0px; padding: 0px;\">\n<td style=\"width: 15%; margin: 0px; padding: 0px; border: none;\" valign=\"middle\"><img id='cisco_logo' style=\"display: block; margin-left: auto; margin-right: auto;\" src='/public/img/utm/cisco_logo.png' width=\"120\" />\n</td>\n<td style=\"width: 70%; margin: 0px; padding: 0px; border: none;\">\n<h2 style=\"text-align: center; margin: 2px;\"><span style=\"color: #0085FC;\"><strong>UTM - UCS Traffic Monitoring</strong></span></h2>\n<h5 style=\"text-align: center; margin: 0px;\"><span style=\"color: #6666FF;\">Monitoring <span style=\"color: #ff00ff;\">$num_domain</span> UCS domains containing <span style=\"color: #ff00ff;\">$num_chassis</span> chassis with <span style=\"color: #ff00ff;\">$num_servers</span>  servers across <span style=\"color: #ff00ff;\">$num_locations</span> locations</span></h5>\n</td>\n<td style=\"width: 15%; margin: 0px; border: none;\" valign=\"middle\"><img id='your_logo' style=\"display: block; margin-left: auto; margin-right: auto;\" src='/public/img/utm/your_logo.png' alt=\"\" width=\"120\"/>\n</td>\n</tr>\n</tbody>\n</table>",
        "mode": "html"
      },
      "pluginVersion": "7.5.7",
      "targets": [
        {
          "groupBy": [
            {
              "params": [
                "$__interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "orderByTime": "ASC",
          "policy": "default",
          "refId": "A",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "mean"
              }
            ]
          ],
          "tags": []
        }
      ],
      "timeFrom": null,
      "timeShift": null,
      "transparent": true,
      "type": "text"
    },
    {
      "datasource": "$data_source",
      "fieldConfig": {
        "defaults": {},
        "overrides": []
      },
      "flowchartsData": {
        "flowcharts": [
          {
            "allowDrawio": false,
            "bgColor": null,
            "center": true,
            "csv": "",
            "download": false,
            "editorTheme": "dark",
            "editorUrl": "https://www.draw.io",
            "enableAnim": true,
            "grid": false,
            "lock": true,
            "name": "Main",
            "scale": true,
            "tooltip": true,
            "type": "xml",
            "url": "http://<YourUrl>/<Your XML/drawio file/api>",
            "xml": "<mxGraphModel>\n    <root>\n        <mxCell id=\"U3Yb-M3iW0U3TkC6f_VT-0\"/>\n        <mxCell id=\"qjMXR-8qFvfJkbGcyA1T-0\" value=\"\" style=\"rounded=1;whiteSpace=wrap;html=1;spacing=0;strokeColor=none;fontColor=#FFFFFF;fontSize=13;arcSize=50;fillColor=#E6E6E6;\" parent=\"U3Yb-M3iW0U3TkC6f_VT-0\" vertex=\"1\">\n            <mxGeometry y=\"558\" width=\"1220\" height=\"20\" as=\"geometry\"/>\n        </mxCell>\n        <UserObject label=\"Locations\" link=\"/d/ri2OFp4Wz/locations\" id=\"qjMXR-8qFvfJkbGcyA1T-1\">\n            <mxCell style=\"rounded=1;whiteSpace=wrap;html=1;spacing=0;strokeColor=none;fontColor=#FFFFFF;fontSize=10;arcSize=50;fillColor=#0085FC;\" parent=\"U3Yb-M3iW0U3TkC6f_VT-0\" vertex=\"1\">\n                <mxGeometry x=\"30\" y=\"560\" width=\"140\" height=\"16\" as=\"geometry\"/>\n            </mxCell>\n        </UserObject>\n        <UserObject label=\"UCS Domain Overview\" link=\"/d/Inte2EIWk/ucs-domain-overview\" id=\"qjMXR-8qFvfJkbGcyA1T-2\">\n            <mxCell style=\"rounded=1;whiteSpace=wrap;html=1;spacing=0;strokeColor=none;fontColor=#FFFFFF;fontSize=10;arcSize=50;fillColor=#676767;\" parent=\"U3Yb-M3iW0U3TkC6f_VT-0\" vertex=\"1\">\n                <mxGeometry x=\"200\" y=\"560\" width=\"140\" height=\"16\" as=\"geometry\"/>\n            </mxCell>\n        </UserObject>\n        <UserObject label=\"UCS Domain Traffic\" link=\"/d/W7LSukHWz/ucs-domain-traffic\" id=\"qjMXR-8qFvfJkbGcyA1T-3\">\n            <mxCell style=\"rounded=1;whiteSpace=wrap;html=1;spacing=0;strokeColor=none;fontColor=#FFFFFF;fontSize=10;arcSize=50;fillColor=#676767;\" parent=\"U3Yb-M3iW0U3TkC6f_VT-0\" vertex=\"1\">\n                <mxGeometry x=\"370\" y=\"560\" width=\"140\" height=\"16\" as=\"geometry\"/>\n            </mxCell>\n        </UserObject>\n        <UserObject label=\"UCS Chassis Traffic\" link=\"/d/KOM8ZHNWz/ucs-chassis-traffic\" id=\"qjMXR-8qFvfJkbGcyA1T-4\">\n            <mxCell style=\"rounded=1;whiteSpace=wrap;html=1;spacing=0;strokeColor=none;fontColor=#FFFFFF;fontSize=10;arcSize=50;fillColor=#676767;\" parent=\"U3Yb-M3iW0U3TkC6f_VT-0\" vertex=\"1\">\n                <mxGeometry x=\"540\" y=\"560\" width=\"140\" height=\"16\" as=\"geometry\"/>\n            </mxCell>\n        </UserObject>\n        <UserObject label=\"Server Traffic\" link=\"/d/Z0M_N1vWz/service-profile-stats\" id=\"qjMXR-8qFvfJkbGcyA1T-5\">\n            <mxCell style=\"rounded=1;whiteSpace=wrap;html=1;spacing=0;strokeColor=none;fontColor=#FFFFFF;fontSize=10;arcSize=50;fillColor=#676767;\" parent=\"U3Yb-M3iW0U3TkC6f_VT-0\" vertex=\"1\">\n                <mxGeometry x=\"710\" y=\"560\" width=\"140\" height=\"16\" as=\"geometry\"/>\n            </mxCell>\n        </UserObject>\n        <UserObject label=\"Congestion Monitoring\" link=\"/d/Sve32sDZk/congestion-monitoring\" id=\"qjMXR-8qFvfJkbGcyA1T-6\">\n            <mxCell style=\"rounded=1;whiteSpace=wrap;html=1;spacing=0;strokeColor=none;fontColor=#FFFFFF;fontSize=10;arcSize=50;fillColor=#676767;\" parent=\"U3Yb-M3iW0U3TkC6f_VT-0\" vertex=\"1\">\n                <mxGeometry x=\"880\" y=\"560\" width=\"140\" height=\"16\" as=\"geometry\"/>\n            </mxCell>\n        </UserObject>\n        <UserObject label=\"Power Consumption\" link=\"/d/CXwb3tn4z/power-consumption\" id=\"qjMXR-8qFvfJkbGcyA1T-7\">\n            <mxCell style=\"rounded=1;whiteSpace=wrap;html=1;spacing=0;strokeColor=none;fontColor=#FFFFFF;fontSize=10;arcSize=50;fillColor=#676767;\" parent=\"U3Yb-M3iW0U3TkC6f_VT-0\" vertex=\"1\">\n                <mxGeometry x=\"1050\" y=\"560\" width=\"140\" height=\"16\" as=\"geometry\"/>\n            </mxCell>\n        </UserObject>\n    </root>\n</mxGraphModel>",
            "zoom": "100%"
          }
        ]
      },
      "format": "short",
      "graphId": "flowchart_96",
      "gridPos": {
        "h": 2,
        "w": 24,
        "x": 0,
        "y": 3
      },
      "id": 96,
      "newFlag": false,
      "pluginVersion": "7.1.0",
      "rulesData": {
        "rulesData": [
          {
            "aggregation": "current",
            "alias": "Locations",
            "colors": [
              "rgba(50, 172, 45, 0.97)"
            ],
            "column": "Time",
            "dateFormat": "YYYY-MM-DD HH:mm:ss",
            "decimals": 2,
            "gradient": false,
            "hidden": false,
            "invert": false,
            "linkData": [
              {
                "hidden": false,
                "linkOn": "a",
                "linkParams": false,
                "linkUrl": "/d/ri2OFp4Wz/locations?from=${__from}&to=${__to}",
                "pattern": "locations"
              }
            ],
            "linkProp": "id",
            "mappingType": 1,
            "metricType": "serie",
            "order": 1,
            "overlayIcon": false,
            "pattern": "FIEnvStats.last",
            "rangeData": [],
            "reduce": true,
            "refId": "A",
            "sanitize": false,
            "shapeData": [],
            "shapeProp": "id",
            "stringThresholds": [],
            "textData": [],
            "textProp": "id",
            "thresholds": [],
            "tooltip": false,
            "tooltipColors": false,
            "tooltipLabel": "",
            "tooltipOn": "a",
            "tpDirection": "v",
            "tpGraph": true,
            "tpGraphHigh": null,
            "tpGraphLow": null,
            "tpGraphScale": "linear",
            "tpGraphSize": "100%",
            "tpGraphType": "line",
            "type": "number",
            "unit": "short",
            "valueData": []
          },
          {
            "aggregation": "current",
            "alias": "domain_overview",
            "colors": [
              "rgba(50, 172, 45, 0.97)"
            ],
            "column": "Time",
            "dateFormat": "YYYY-MM-DD HH:mm:ss",
            "decimals": 2,
            "gradient": false,
            "hidden": false,
            "invert": false,
            "linkData": [
              {
                "hidden": false,
                "linkOn": "a",
                "linkParams": false,
                "linkUrl": "/d/Inte2EIWk/ucs-domain-overview?from=${__from}&to=${__to}",
                "pattern": "domain_overview"
              }
            ],
            "linkProp": "id",
            "mappingType": 1,
            "metricType": "serie",
            "order": 2,
            "overlayIcon": false,
            "pattern": "FIEnvStats.last",
            "rangeData": [],
            "reduce": true,
            "refId": "A",
            "sanitize": false,
            "shapeData": [],
            "shapeProp": "id",
            "stringThresholds": [],
            "textData": [],
            "textProp": "id",
            "thresholds": [],
            "tooltip": false,
            "tooltipColors": false,
            "tooltipLabel": "",
            "tooltipOn": "a",
            "tpDirection": "v",
            "tpGraph": true,
            "tpGraphHigh": null,
            "tpGraphLow": null,
            "tpGraphScale": "linear",
            "tpGraphSize": "100%",
            "tpGraphType": "line",
            "type": "number",
            "unit": "short",
            "valueData": []
          },
          {
            "aggregation": "current",
            "alias": "domain_traffic",
            "colors": [
              "rgba(50, 172, 45, 0.97)"
            ],
            "column": "Time",
            "dateFormat": "YYYY-MM-DD HH:mm:ss",
            "decimals": 2,
            "gradient": false,
            "hidden": false,
            "invert": false,
            "linkData": [
              {
                "hidden": false,
                "linkOn": "a",
                "linkParams": false,
                "linkUrl": "/d/W7LSukHWz/ucs-domain-traffic?from=${__from}&to=${__to}",
                "pattern": "domain_traffic"
              }
            ],
            "linkProp": "id",
            "mappingType": 1,
            "metricType": "serie",
            "order": 3,
            "overlayIcon": false,
            "pattern": "FIEnvStats.last",
            "rangeData": [],
            "reduce": true,
            "refId": "A",
            "sanitize": false,
            "shapeData": [],
            "shapeProp": "id",
            "stringThresholds": [],
            "textData": [],
            "textProp": "id",
            "thresholds": [],
            "tooltip": false,
            "tooltipColors": false,
            "tooltipLabel": "",
            "tooltipOn": "a",
            "tpDirection": "v",
            "tpGraph": true,
            "tpGraphHigh": null,
            "tpGraphLow": null,
            "tpGraphScale": "linear",
            "tpGraphSize": "100%",
            "tpGraphType": "line",
            "type": "number",
            "unit": "short",
            "valueData": []
          },
          {
            "aggregation": "current",
            "alias": "chassis",
            "colors": [
              "rgba(50, 172, 45, 0.97)"
            ],
            "column": "Time",
            "dateFormat": "YYYY-MM-DD HH:mm:ss",
            "decimals": 2,
            "gradient": false,
            "hidden": false,
            "invert": false,
            "linkData": [
              {
                "hidden": false,
                "linkOn": "a",
                "linkParams": false,
                "linkUrl": "/d/KOM8ZHNWz/ucs-chassis-traffic?from=${__from}&to=${__to}",
                "pattern": "chassis"
              }
            ],
            "linkProp": "id",
            "mappingType": 1,
            "metricType": "serie",
            "order": 4,
            "overlayIcon": false,
            "pattern": "FIEnvStats.last",
            "rangeData": [],
            "reduce": true,
            "refId": "A",
            "sanitize": false,
            "shapeData": [],
            "shapeProp": "id",
            "stringThresholds": [],
            "textData": [],
            "textProp": "id",
            "thresholds": [],
            "tooltip": false,
            "tooltipColors": false,
            "tooltipLabel": "",
            "tooltipOn": "a",
            "tpDirection": "v",
            "tpGraph": true,
            "tpGraphHigh": null,
            "tpGraphLow": null,
            "tpGraphScale": "linear",
            "tpGraphSize": "100%",
            "tpGraphType": "line",
            "type": "number",
            "unit": "short",
            "valueData": []
          },
          {
            "aggregation": "current",
            "alias": "Ingress Congestion",
            "colors": [
              "rgba(50, 172, 45, 0.97)"
            ],
            "column": "Time",
            "dateFormat": "YYYY-MM-DD HH:mm:ss",
            "decimals": 2,
            "gradient": false,
            "hidden": false,
            "invert": false,
            "linkData": [
              {
                "hidden": false,
                "linkOn": "a",
                "linkParams": false,
                "linkUrl": "/d/Sve32sDZk/fi-uplink-port-ingress-congestion-monitoring?var-location=${location}&from=${__from}&to=${__to}",
                "pattern": "ingress_congestion"
              }
            ],
            "linkProp": "id",
            "mappingType": 1,
            "metricType": "serie",
            "order": 5,
            "overlayIcon": false,
            "pattern": "FIEnvStats.last",
            "rangeData": [],
            "reduce": true,
            "refId": "A",
            "sanitize": false,
            "shapeData": [],
            "shapeProp": "id",
            "stringThresholds": [],
            "textData": [],
            "textProp": "id",
            "thresholds": [],
            "tooltip": false,
            "tooltipColors": false,
            "tooltipLabel": "",
            "tooltipOn": "a",
            "tpDirection": "v",
            "tpGraph": true,
            "tpGraphHigh": null,
            "tpGraphLow": null,
            "tpGraphScale": "linear",
            "tpGraphSize": "100%",
            "tpGraphType": "line",
            "type": "number",
            "unit": "short",
            "valueData": []
          }
        ]
      },
      "targets": [
        {
          "groupBy": [
            {
              "params": [
                "$__interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "measurement": "FIEnvStats",
          "orderByTime": "ASC",
          "policy": "default",
          "query": "SELECT last(\"load\") FROM \"FIEnvStats\" WHERE (\"location\" =~ /^$location$/)",
          "rawQuery": true,
          "refId": "A",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "load"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "last"
              }
            ]
          ],
          "tags": [
            {
              "key": "location",
              "operator": "=~",
              "value": "/^$location$/"
            }
          ]
        }
      ],
      "timeFrom": null,
      "timeShift": null,
      "transparent": true,
      "type": "agenty-flowcharting-panel",
      "valueName": "current",
      "version": "0.7.0"
    },
    {
      "datasource": "$data_source",
      "fieldConfig": {
        "defaults": {},
        "overrides": []
      },
      "gridPos": {
        "h": 2,
        "w": 24,
        "x": 0,
        "y": 5
      },
      "id": 5,
      "options": {
        "content": "\n<h2 style=\"text-align: center;\"><span style=\"color: #6666FF;\"><strong>Locations - </span><span style=\"color: #ff00ff;\"> $location</span></strong></h2>\n",
        "mode": "html"
      },
      "pluginVersion": "7.5.7",
      "targets": [
        {
          "groupBy": [
            {
              "params": [
                "$__interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "orderByTime": "ASC",
          "policy": "default",
          "refId": "A",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "mean"
              }
            ]
          ],
          "tags": []
        }
      ],
      "timeFrom": null,
      "timeShift": null,
      "transparent": true,
      "type": "text"
    },
    {
      "collapsed": false,
      "datasource": "$data_source",
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 7
      },
      "id": 119,
      "panels": [],
      "title": "Top 10 Ports and Servers -  $location",
      "type": "row"
    },
    {
      "cacheTimeout": null,
      "datasource": "$data_source",
      "fieldConfig": {
        "defaults": {
          "decimals": 2,
          "mappings": [
            {
              "id": 0,
              "op": "=",
              "text": "N/A",
              "type": 1,
              "value": "null"
            }
          ],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "semi-dark-purple",
                "value": null
              }
            ]
          },
          "unit": "bps"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 2,
        "w": 12,
        "x": 0,
        "y": 8
      },
      "id": 109,
      "interval": "[[polling_interval]]s",
      "links": [],
      "maxDataPoints": 100,
      "options": {
        "colorMode": "background",
        "fieldOptions": {
          "calcs": [
            "mean"
          ]
        },
        "graphMode": "area",
        "justifyMode": "auto",
        "orientation": "auto",
        "reduceOptions": {
          "calcs": [
            "mean"
          ],
          "fields": "",
          "values": false
        },
        "text": {},
        "textMode": "auto"
      },
      "pluginVersion": "7.5.7",
      "targets": [
        {
          "alias": "$col",
          "groupBy": [
            {
              "params": [
                "$__interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "orderByTime": "ASC",
          "policy": "default",
          "query": "select sum(RX)*8 as \"Total - RX Eth\" from (SELECT max(\"bytes_rx_delta\")/[[polling_interval]] AS \"RX\" FROM \"$db\".\"$rp\".\"FIUplinkPortStats\" WHERE (\"location\" =~ /^$location$/ and \"transport\" = 'Eth' AND \"channel\" != '') AND $timeFilter GROUP BY time([[__interval_ms]]ms),domain,fi_id,port) where $timeFilter GROUP BY time([[__interval_ms]]ms)",
          "rawQuery": true,
          "refId": "A",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "mean"
              }
            ]
          ],
          "tags": []
        },
        {
          "alias": "$col",
          "groupBy": [
            {
              "params": [
                "$__interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "orderByTime": "ASC",
          "policy": "default",
          "query": "select sum(TX)*8 as \"Total - TX Eth\" from (SELECT max(\"bytes_tx_delta\")/[[polling_interval]] AS \"TX\" FROM \"$db\".\"$rp\".\"FIUplinkPortStats\" WHERE (\"location\" =~ /^$location$/ and \"transport\" = 'Eth' AND \"channel\" != '') AND $timeFilter GROUP BY time([[__interval_ms]]ms),domain,fi_id,port) where $timeFilter GROUP BY time([[__interval_ms]]ms)",
          "rawQuery": true,
          "refId": "B",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "mean"
              }
            ]
          ],
          "tags": []
        }
      ],
      "timeFrom": null,
      "timeShift": null,
      "type": "stat"
    },
    {
      "cacheTimeout": null,
      "datasource": "$data_source",
      "fieldConfig": {
        "defaults": {
          "decimals": 2,
          "mappings": [
            {
              "id": 0,
              "op": "=",
              "text": "N/A",
              "type": 1,
              "value": "null"
            }
          ],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "semi-dark-blue",
                "value": null
              }
            ]
          },
          "unit": "bps"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 2,
        "w": 12,
        "x": 12,
        "y": 8
      },
      "id": 107,
      "interval": "[[polling_interval]]s",
      "links": [],
      "maxDataPoints": 100,
      "options": {
        "colorMode": "background",
        "fieldOptions": {
          "calcs": [
            "mean"
          ]
        },
        "graphMode": "area",
        "justifyMode": "auto",
        "orientation": "auto",
        "reduceOptions": {
          "calcs": [
            "mean"
          ],
          "fields": "",
          "values": false
        },
        "text": {},
        "textMode": "auto"
      },
      "pluginVersion": "7.5.7",
      "targets": [
        {
          "alias": "$col",
          "groupBy": [
            {
              "params": [
                "$__interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "orderByTime": "ASC",
          "policy": "default",
          "query": "select sum(RX)*8 as \"Total - RX FC\" from (SELECT max(\"bytes_rx_delta\")/[[polling_interval]] AS \"RX\" FROM \"$db\".\"$rp\".\"FIUplinkPortStats\" WHERE (\"location\" =~ /^$location$/ and \"transport\" = 'FC' AND \"channel\" != '') AND $timeFilter GROUP BY time([[__interval_ms]]ms),domain,fi_id,port) where $timeFilter GROUP BY time([[__interval_ms]]ms)",
          "rawQuery": true,
          "refId": "A",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "mean"
              }
            ]
          ],
          "tags": []
        },
        {
          "alias": "$col",
          "groupBy": [
            {
              "params": [
                "$__interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "hide": false,
          "orderByTime": "ASC",
          "policy": "default",
          "query": "select sum(TX)*8 as \"Total - TX FC\" from (SELECT max(\"bytes_tx_delta\")/[[polling_interval]] AS \"TX\" FROM \"$db\".\"$rp\".\"FIUplinkPortStats\" WHERE (\"location\" =~ /^$location$/ and \"transport\" = 'FC' AND \"channel\" != '') AND $timeFilter GROUP BY time([[__interval_ms]]ms),domain,fi_id,port) where $timeFilter GROUP BY time([[__interval_ms]]ms)",
          "rawQuery": true,
          "refId": "B",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "mean"
              }
            ]
          ],
          "tags": []
        }
      ],
      "timeFrom": null,
      "timeShift": null,
      "type": "stat"
    },
    {
      "cacheTimeout": null,
      "datasource": "$data_source",
      "fieldConfig": {
        "defaults": {
          "custom": {
            "align": "left",
            "filterable": false
          },
          "decimals": 1,
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "#EAB839",
                "value": 0.5
              },
              {
                "color": "red",
                "value": 0.75
              }
            ]
          },
          "unit": "percent"
        },
        "overrides": [
          {
            "matcher": {
              "id": "byName",
              "options": "domain"
            },
            "properties": [
              {
                "id": "links",
                "value": [
                  {
                    "title": "Details traffic monitoring of UCS domain ${__value.raw}",
                    "url": "d/W7LSukHWz/ucs-domain-traffic?orgId=1&var-domain=${__value.raw}&${__url_time_range}&var-fi_id=${__data.fields[\"fi_id\"]}&var-uplink=${__data.fields[\"port\"]}"
                  }
                ]
              },
              {
                "id": "displayName",
                "value": "Domain"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "fi_id"
            },
            "properties": [
              {
                "id": "custom.width",
                "value": 80
              },
              {
                "id": "displayName",
                "value": "FI"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "port"
            },
            "properties": [
              {
                "id": "custom.width",
                "value": 80
              },
              {
                "id": "displayName",
                "value": "Port"
              }
            ]
          },
          {
            "matcher": {
              "id": "byRegexp",
              "options": "/%/"
            },
            "properties": [
              {
                "id": "unit",
                "value": "percentunit"
              },
              {
                "id": "custom.displayMode",
                "value": "gradient-gauge"
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 13,
        "w": 6,
        "x": 0,
        "y": 10
      },
      "id": 180,
      "interval": "[[polling_interval]]s",
      "links": [],
      "options": {
        "frameIndex": 1,
        "showHeader": true,
        "sortBy": []
      },
      "pluginVersion": "7.5.7",
      "repeatDirection": "h",
      "targets": [
        {
          "aggregation": "Last",
          "alias": "",
          "decimals": 2,
          "displayAliasType": "Warning / Critical",
          "displayType": "Regular",
          "displayValueWithAlias": "Never",
          "groupBy": [
            {
              "params": [
                "$__interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "hide": false,
          "orderByTime": "ASC",
          "policy": "default",
          "query": "select top(\"RX\",domain,fi_id,port,10) as \"Avg % RX\" from (SELECT (mean(\"bytes_rx_delta\") *8/ [[polling_interval]])/(last(oper_speed)*1000000000) as \"RX\" FROM \"$db\".\"$rp\".\"FIUplinkPortStats\" WHERE (\"location\" =~ /^$location$/ and \"transport\" = 'Eth' AND \"channel\" != '' and \"oper_state\" = 'up') AND $timeFilter GROUP BY domain,fi_id,port) where $timeFilter",
          "rawQuery": true,
          "refId": "A",
          "resultFormat": "table",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "mean"
              }
            ]
          ],
          "tags": [],
          "units": "none",
          "valueHandler": "Number Threshold"
        },
        {
          "aggregation": "Last",
          "alias": "",
          "decimals": 2,
          "displayAliasType": "Warning / Critical",
          "displayType": "Regular",
          "displayValueWithAlias": "Never",
          "groupBy": [
            {
              "params": [
                "$__interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "hide": false,
          "orderByTime": "ASC",
          "policy": "default",
          "query": "select top(\"RX\",domain,fi_id,port,10) as \"Peak % RX\" from (SELECT (max(\"bytes_rx_delta\") *8/ [[polling_interval]])/(max(oper_speed)*1000000000) as \"RX\" FROM \"$db\".\"$rp\".\"FIUplinkPortStats\" WHERE (\"location\" =~ /^$location$/ and \"transport\" = 'Eth' AND \"channel\" != '' and \"oper_state\" = 'up') AND $timeFilter GROUP BY domain,fi_id,port) where $timeFilter",
          "rawQuery": true,
          "refId": "B",
          "resultFormat": "table",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "mean"
              }
            ]
          ],
          "tags": [],
          "units": "none",
          "valueHandler": "Number Threshold"
        }
      ],
      "timeFrom": null,
      "timeShift": null,
      "title": "Top 10 FI Uplink Ports - RX Eth - $location",
      "transformations": [
        {
          "id": "filterFieldsByName",
          "options": {
            "include": {
              "names": [
                "domain",
                "fi_id",
                "port",
                "Peak % RX",
                "Avg % RX"
              ]
            }
          }
        }
      ],
      "type": "table"
    },
    {
      "cacheTimeout": null,
      "datasource": "$data_source",
      "fieldConfig": {
        "defaults": {
          "custom": {
            "align": "left",
            "filterable": false
          },
          "decimals": 1,
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "#EAB839",
                "value": 0.5
              },
              {
                "color": "red",
                "value": 0.75
              }
            ]
          },
          "unit": "percent"
        },
        "overrides": [
          {
            "matcher": {
              "id": "byName",
              "options": "domain"
            },
            "properties": [
              {
                "id": "links",
                "value": [
                  {
                    "title": "Details traffic monitoring of UCS domain ${__value.raw}",
                    "url": "d/W7LSukHWz/ucs-domain-traffic?orgId=1&var-domain=${__value.raw}&${__url_time_range}&var-fi_id=${__data.fields[\"fi_id\"]}&var-uplink=${__data.fields[\"port\"]}"
                  }
                ]
              },
              {
                "id": "displayName",
                "value": "Domain"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "fi_id"
            },
            "properties": [
              {
                "id": "custom.width",
                "value": 80
              },
              {
                "id": "displayName",
                "value": "FI"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "port"
            },
            "properties": [
              {
                "id": "custom.width",
                "value": 80
              },
              {
                "id": "displayName",
                "value": "Port"
              }
            ]
          },
          {
            "matcher": {
              "id": "byRegexp",
              "options": "/%/"
            },
            "properties": [
              {
                "id": "unit",
                "value": "percentunit"
              },
              {
                "id": "custom.displayMode",
                "value": "gradient-gauge"
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 13,
        "w": 6,
        "x": 6,
        "y": 10
      },
      "id": 179,
      "interval": "[[polling_interval]]s",
      "links": [],
      "options": {
        "frameIndex": 1,
        "showHeader": true,
        "sortBy": []
      },
      "pluginVersion": "7.5.7",
      "repeatDirection": "h",
      "targets": [
        {
          "aggregation": "Last",
          "alias": "",
          "decimals": 2,
          "displayAliasType": "Warning / Critical",
          "displayType": "Regular",
          "displayValueWithAlias": "Never",
          "groupBy": [
            {
              "params": [
                "$__interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "hide": false,
          "orderByTime": "ASC",
          "policy": "default",
          "query": "select top(\"TX\",domain,fi_id,port,10) as \"Avg % TX\" from (SELECT (mean(\"bytes_tx_delta\") *8/ [[polling_interval]])/(last(oper_speed)*1000000000) as \"TX\" FROM \"$db\".\"$rp\".\"FIUplinkPortStats\" WHERE (\"location\" =~ /^$location$/ and \"transport\" = 'Eth' AND \"channel\" != '' and \"oper_state\" = 'up') AND $timeFilter GROUP BY domain,fi_id,port) where $timeFilter",
          "rawQuery": true,
          "refId": "A",
          "resultFormat": "table",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "mean"
              }
            ]
          ],
          "tags": [],
          "units": "none",
          "valueHandler": "Number Threshold"
        },
        {
          "aggregation": "Last",
          "alias": "",
          "decimals": 2,
          "displayAliasType": "Warning / Critical",
          "displayType": "Regular",
          "displayValueWithAlias": "Never",
          "groupBy": [
            {
              "params": [
                "$__interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "hide": false,
          "orderByTime": "ASC",
          "policy": "default",
          "query": "select top(\"TX\",domain,fi_id,port,10) as \"Peak % TX\" from (SELECT (max(\"bytes_tx_delta\") *8/ [[polling_interval]])/(max(oper_speed)*1000000000) as \"TX\" FROM \"$db\".\"$rp\".\"FIUplinkPortStats\" WHERE (\"location\" =~ /^$location$/ and \"transport\" = 'Eth' AND \"channel\" != '' and \"oper_state\" = 'up') AND $timeFilter GROUP BY domain,fi_id,port) where $timeFilter",
          "rawQuery": true,
          "refId": "B",
          "resultFormat": "table",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "mean"
              }
            ]
          ],
          "tags": [],
          "units": "none",
          "valueHandler": "Number Threshold"
        }
      ],
      "timeFrom": null,
      "timeShift": null,
      "title": "Top 10 FI Uplink Ports - TX Eth - $location",
      "transformations": [
        {
          "id": "filterFieldsByName",
          "options": {
            "include": {
              "names": [
                "domain",
                "fi_id",
                "port",
                "Avg % TX",
                "Peak % TX"
              ]
            }
          }
        }
      ],
      "type": "table"
    },
    {
      "cacheTimeout": null,
      "datasource": "$data_source",
      "fieldConfig": {
        "defaults": {
          "custom": {
            "align": "left",
            "filterable": false
          },
          "decimals": 1,
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "#EAB839",
                "value": 0.5
              },
              {
                "color": "red",
                "value": 0.75
              }
            ]
          },
          "unit": "percent"
        },
        "overrides": [
          {
            "matcher": {
              "id": "byName",
              "options": "domain"
            },
            "properties": [
              {
                "id": "links",
                "value": [
                  {
                    "title": "Details traffic monitoring of UCS domain ${__value.raw}",
                    "url": "d/W7LSukHWz/ucs-domain-traffic?orgId=1&var-domain=${__value.raw}&${__url_time_range}&var-fi_id=${__data.fields[\"fi_id\"]}&var-uplink=${__data.fields[\"port\"]}"
                  }
                ]
              },
              {
                "id": "displayName",
                "value": "Domain"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "fi_id"
            },
            "properties": [
              {
                "id": "custom.width",
                "value": 80
              },
              {
                "id": "displayName",
                "value": "FI"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "port"
            },
            "properties": [
              {
                "id": "custom.width",
                "value": 80
              },
              {
                "id": "displayName",
                "value": "Port"
              }
            ]
          },
          {
            "matcher": {
              "id": "byRegexp",
              "options": "/%/"
            },
            "properties": [
              {
                "id": "unit",
                "value": "percentunit"
              },
              {
                "id": "custom.displayMode",
                "value": "gradient-gauge"
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 13,
        "w": 6,
        "x": 12,
        "y": 10
      },
      "id": 99,
      "interval": "[[polling_interval]]s",
      "links": [],
      "options": {
        "frameIndex": 1,
        "showHeader": true,
        "sortBy": []
      },
      "pluginVersion": "7.5.7",
      "repeat": "fi_id",
      "repeatDirection": "h",
      "targets": [
        {
          "aggregation": "Last",
          "alias": "",
          "decimals": 2,
          "displayAliasType": "Warning / Critical",
          "displayType": "Regular",
          "displayValueWithAlias": "Never",
          "groupBy": [
            {
              "params": [
                "$__interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "hide": false,
          "orderByTime": "ASC",
          "policy": "default",
          "query": "select top(\"RX\",domain,fi_id,port,10) as \"Avg % RX\" from (SELECT (mean(\"bytes_rx_delta\") *8/ [[polling_interval]])/(last(oper_speed)*1000000000*[[fc_data_rate]]) as \"RX\" FROM \"$db\".\"$rp\".\"FIUplinkPortStats\" WHERE (\"location\" =~ /^$location$/ and \"transport\" = 'FC' AND \"channel\" != '' and \"oper_state\" = 'up') AND $timeFilter GROUP BY domain,fi_id,port) where $timeFilter",
          "rawQuery": true,
          "refId": "A",
          "resultFormat": "table",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "mean"
              }
            ]
          ],
          "tags": [],
          "units": "none",
          "valueHandler": "Number Threshold"
        },
        {
          "aggregation": "Last",
          "alias": "",
          "decimals": 2,
          "displayAliasType": "Warning / Critical",
          "displayType": "Regular",
          "displayValueWithAlias": "Never",
          "groupBy": [
            {
              "params": [
                "$__interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "hide": false,
          "orderByTime": "ASC",
          "policy": "default",
          "query": "select top(\"RX\",domain,fi_id,port,10) as \"Peak % RX\" from (SELECT (max(\"bytes_rx_delta\") *8/ [[polling_interval]])/(max(oper_speed)*1000000000*[[fc_data_rate]]) as \"RX\" FROM \"$db\".\"$rp\".\"FIUplinkPortStats\" WHERE (\"location\" =~ /^$location$/ and \"transport\" = 'FC' AND \"channel\" != '' and \"oper_state\" = 'up') AND $timeFilter GROUP BY domain,fi_id,port) where $timeFilter",
          "rawQuery": true,
          "refId": "B",
          "resultFormat": "table",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "mean"
              }
            ]
          ],
          "tags": [],
          "units": "none",
          "valueHandler": "Number Threshold"
        }
      ],
      "timeFrom": null,
      "timeShift": null,
      "title": "Top 10 FI Uplink Ports - RX FC - $location",
      "transformations": [
        {
          "id": "filterFieldsByName",
          "options": {
            "include": {
              "names": [
                "domain",
                "fi_id",
                "port",
                "Peak % RX",
                "Avg % RX"
              ]
            }
          }
        }
      ],
      "type": "table"
    },
    {
      "cacheTimeout": null,
      "datasource": "$data_source",
      "fieldConfig": {
        "defaults": {
          "custom": {
            "align": "left",
            "filterable": false
          },
          "decimals": 1,
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "#EAB839",
                "value": 0.5
              },
              {
                "color": "red",
                "value": 0.75
              }
            ]
          },
          "unit": "percent"
        },
        "overrides": [
          {
            "matcher": {
              "id": "byName",
              "options": "domain"
            },
            "properties": [
              {
                "id": "links",
                "value": [
                  {
                    "title": "Details traffic monitoring of UCS domain ${__value.raw}",
                    "url": "d/W7LSukHWz/ucs-domain-traffic?orgId=1&var-domain=${__value.raw}&${__url_time_range}&var-fi_id=${__data.fields[\"fi_id\"]}&var-uplink=${__data.fields[\"port\"]}"
                  }
                ]
              },
              {
                "id": "displayName",
                "value": "Domain"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "fi_id"
            },
            "properties": [
              {
                "id": "custom.width",
                "value": 80
              },
              {
                "id": "displayName",
                "value": "FI"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "port"
            },
            "properties": [
              {
                "id": "custom.width",
                "value": 80
              },
              {
                "id": "displayName",
                "value": "Port"
              }
            ]
          },
          {
            "matcher": {
              "id": "byRegexp",
              "options": "/%/"
            },
            "properties": [
              {
                "id": "unit",
                "value": "percentunit"
              },
              {
                "id": "custom.displayMode",
                "value": "gradient-gauge"
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 13,
        "w": 6,
        "x": 18,
        "y": 10
      },
      "id": 178,
      "interval": "[[polling_interval]]s",
      "links": [],
      "options": {
        "frameIndex": 1,
        "showHeader": true,
        "sortBy": []
      },
      "pluginVersion": "7.5.7",
      "repeatDirection": "h",
      "targets": [
        {
          "aggregation": "Last",
          "alias": "",
          "decimals": 2,
          "displayAliasType": "Warning / Critical",
          "displayType": "Regular",
          "displayValueWithAlias": "Never",
          "groupBy": [
            {
              "params": [
                "$__interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "hide": false,
          "orderByTime": "ASC",
          "policy": "default",
          "query": "select top(\"TX\",domain,fi_id,port,10) as \"Avg % TX\" from (SELECT (mean(\"bytes_tx_delta\") *8/ [[polling_interval]])/(last(oper_speed)*1000000000*[[fc_data_rate]]) as \"TX\" FROM \"$db\".\"$rp\".\"FIUplinkPortStats\" WHERE (\"location\" =~ /^$location$/ and \"transport\" = 'FC' AND \"channel\" != '' and \"oper_state\" = 'up') AND $timeFilter GROUP BY domain,fi_id,port) where $timeFilter",
          "rawQuery": true,
          "refId": "A",
          "resultFormat": "table",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "mean"
              }
            ]
          ],
          "tags": [],
          "units": "none",
          "valueHandler": "Number Threshold"
        },
        {
          "aggregation": "Last",
          "alias": "",
          "decimals": 2,
          "displayAliasType": "Warning / Critical",
          "displayType": "Regular",
          "displayValueWithAlias": "Never",
          "groupBy": [
            {
              "params": [
                "$__interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "hide": false,
          "orderByTime": "ASC",
          "policy": "default",
          "query": "select top(\"TX\",domain,fi_id,port,10) as \"Peak % TX\" from (SELECT (max(\"bytes_tx_delta\") *8/ [[polling_interval]])/(max(oper_speed)*1000000000*[[fc_data_rate]]) as \"TX\" FROM \"$db\".\"$rp\".\"FIUplinkPortStats\" WHERE (\"location\" =~ /^$location$/ and \"transport\" = 'FC' AND \"channel\" != '' and \"oper_state\" = 'up') AND $timeFilter GROUP BY domain,fi_id,port) where $timeFilter",
          "rawQuery": true,
          "refId": "B",
          "resultFormat": "table",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "mean"
              }
            ]
          ],
          "tags": [],
          "units": "none",
          "valueHandler": "Number Threshold"
        }
      ],
      "timeFrom": null,
      "timeShift": null,
      "title": "Top 10 FI Uplink Ports - TX FC - $location",
      "transformations": [
        {
          "id": "filterFieldsByName",
          "options": {
            "include": {
              "names": [
                "domain",
                "fi_id",
                "port",
                "Avg % TX",
                "Peak % TX"
              ]
            }
          }
        }
      ],
      "type": "table"
    },
    {
      "cacheTimeout": null,
      "datasource": "$data_source",
      "fieldConfig": {
        "defaults": {
          "custom": {
            "align": "left",
            "filterable": false
          },
          "decimals": 1,
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "orange",
                "value": 5000000000
              },
              {
                "color": "red",
                "value": 8000000000
              }
            ]
          },
          "unit": "bps"
        },
        "overrides": [
          {
            "matcher": {
              "id": "byName",
              "options": "domain"
            },
            "properties": [
              {
                "id": "links",
                "value": [
                  {
                    "targetBlank": false,
                    "title": "Detailed traffic monitoring of UCS domain ${__value.raw}",
                    "url": "d/W7LSukHWz/ucs-domain-traffic?orgId=1&var-domain=${__value.raw}&${__url_time_range}"
                  }
                ]
              },
              {
                "id": "displayName",
                "value": "Domain"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "service_profile"
            },
            "properties": [
              {
                "id": "links",
                "value": [
                  {
                    "targetBlank": false,
                    "title": "Detailed traffic monitoring of service profile ${__value.raw}",
                    "url": "d/Z0M_N1vWz/service-profile-stats?orgId=1&var-domain=${__data.fields[domain]}&var-service_profile=${__value.raw}&${__url_time_range}"
                  }
                ]
              },
              {
                "id": "displayName",
                "value": "Service Profile"
              }
            ]
          },
          {
            "matcher": {
              "id": "byRegexp",
              "options": "/X/"
            },
            "properties": [
              {
                "id": "custom.displayMode",
                "value": "gradient-gauge"
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 13,
        "w": 6,
        "x": 0,
        "y": 23
      },
      "id": 183,
      "interval": "[[polling_interval]]s",
      "links": [],
      "options": {
        "frameIndex": 1,
        "showHeader": true,
        "sortBy": [
          {
            "desc": true,
            "displayName": "RX"
          }
        ]
      },
      "pluginVersion": "7.5.7",
      "repeatDirection": "h",
      "targets": [
        {
          "aggregation": "Last",
          "alias": "",
          "decimals": 2,
          "displayAliasType": "Warning / Critical",
          "displayType": "Regular",
          "displayValueWithAlias": "Never",
          "groupBy": [
            {
              "params": [
                "$__interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "hide": false,
          "orderByTime": "ASC",
          "policy": "default",
          "query": "select top(\"RX\", domain,service_profile,10) as \"Avg RX\" from (select sum(RX)*8 as \"RX\" from (SELECT mean(\"bytes_rx_delta\")/[[polling_interval]] AS \"RX\" FROM \"$db\".\"$rp\".\"VnicStats\" WHERE (\"location\" =~ /^$location$/ AND \"transport\" = 'Eth') AND $timeFilter GROUP BY domain,chassis,service_profile,vif_name) where $timeFilter  group by service_profile,domain) where $timeFilter",
          "rawQuery": true,
          "refId": "A",
          "resultFormat": "table",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "mean"
              }
            ]
          ],
          "tags": [],
          "units": "none",
          "valueHandler": "Number Threshold"
        },
        {
          "aggregation": "Last",
          "alias": "",
          "decimals": 2,
          "displayAliasType": "Warning / Critical",
          "displayType": "Regular",
          "displayValueWithAlias": "Never",
          "groupBy": [
            {
              "params": [
                "$__interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "hide": false,
          "orderByTime": "ASC",
          "policy": "default",
          "query": "select top(\"RX\", domain,service_profile,10) as \"Peak RX\" from (select sum(RX)*8 as \"RX\" from (SELECT max(\"bytes_rx_delta\")/[[polling_interval]] AS \"RX\" FROM \"$db\".\"$rp\".\"VnicStats\" WHERE (\"location\" =~ /^$location$/ AND \"transport\" = 'Eth') AND $timeFilter GROUP BY domain,chassis,service_profile,vif_name) where $timeFilter  group by service_profile,domain) where $timeFilter",
          "rawQuery": true,
          "refId": "B",
          "resultFormat": "table",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "mean"
              }
            ]
          ],
          "tags": [],
          "units": "none",
          "valueHandler": "Number Threshold"
        }
      ],
      "timeFrom": null,
      "timeShift": null,
      "title": "Top 10 Servers - RX Eth - $location",
      "transformations": [
        {
          "id": "filterFieldsByName",
          "options": {
            "include": {
              "names": [
                "Avg RX",
                "domain",
                "service_profile",
                "Peak RX"
              ]
            }
          }
        }
      ],
      "type": "table"
    },
    {
      "cacheTimeout": null,
      "datasource": "$data_source",
      "fieldConfig": {
        "defaults": {
          "custom": {
            "align": "left",
            "filterable": false
          },
          "decimals": 1,
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "orange",
                "value": 5000000000
              },
              {
                "color": "red",
                "value": 8000000000
              }
            ]
          },
          "unit": "bps"
        },
        "overrides": [
          {
            "matcher": {
              "id": "byName",
              "options": "domain"
            },
            "properties": [
              {
                "id": "links",
                "value": [
                  {
                    "targetBlank": false,
                    "title": "Detailed traffic monitoring of UCS domain ${__value.raw}",
                    "url": "d/W7LSukHWz/ucs-domain-traffic?orgId=1&var-domain=${__value.raw}&${__url_time_range}"
                  }
                ]
              },
              {
                "id": "displayName",
                "value": "Domain"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "service_profile"
            },
            "properties": [
              {
                "id": "links",
                "value": [
                  {
                    "targetBlank": false,
                    "title": "Detailed traffic monitoring of service profile ${__value.raw}",
                    "url": "d/Z0M_N1vWz/service-profile-stats?orgId=1&var-domain=${__data.fields[domain]}&var-service_profile=${__value.raw}&${__url_time_range}"
                  }
                ]
              },
              {
                "id": "displayName",
                "value": "Service Profile"
              }
            ]
          },
          {
            "matcher": {
              "id": "byRegexp",
              "options": "/X/"
            },
            "properties": [
              {
                "id": "custom.displayMode",
                "value": "gradient-gauge"
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 13,
        "w": 6,
        "x": 6,
        "y": 23
      },
      "id": 182,
      "interval": "[[polling_interval]]s",
      "links": [],
      "options": {
        "frameIndex": 1,
        "showHeader": true,
        "sortBy": [
          {
            "desc": true,
            "displayName": "RX"
          }
        ]
      },
      "pluginVersion": "7.5.7",
      "repeatDirection": "h",
      "targets": [
        {
          "aggregation": "Last",
          "alias": "",
          "decimals": 2,
          "displayAliasType": "Warning / Critical",
          "displayType": "Regular",
          "displayValueWithAlias": "Never",
          "groupBy": [
            {
              "params": [
                "$__interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "hide": false,
          "orderByTime": "ASC",
          "policy": "default",
          "query": "select top(\"TX\", domain,service_profile,10) as \"Avg TX\" from (select sum(TX)*8 as \"TX\" from (SELECT mean(\"bytes_tx_delta\")/[[polling_interval]] AS \"TX\" FROM \"$db\".\"$rp\".\"VnicStats\" WHERE (\"location\" =~ /^$location$/ AND \"transport\" = 'Eth') AND $timeFilter GROUP BY domain,chassis,service_profile,vif_name) where $timeFilter  group by service_profile,domain) where $timeFilter",
          "rawQuery": true,
          "refId": "A",
          "resultFormat": "table",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "mean"
              }
            ]
          ],
          "tags": [],
          "units": "none",
          "valueHandler": "Number Threshold"
        },
        {
          "aggregation": "Last",
          "alias": "",
          "decimals": 2,
          "displayAliasType": "Warning / Critical",
          "displayType": "Regular",
          "displayValueWithAlias": "Never",
          "groupBy": [
            {
              "params": [
                "$__interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "hide": false,
          "orderByTime": "ASC",
          "policy": "default",
          "query": "select top(\"TX\", domain,service_profile,10) as \"Peak TX\" from (select sum(TX)*8 as \"TX\" from (SELECT max(\"bytes_tx_delta\")/[[polling_interval]] AS \"TX\" FROM \"$db\".\"$rp\".\"VnicStats\" WHERE (\"location\" =~ /^$location$/ AND \"transport\" = 'Eth') AND $timeFilter GROUP BY domain,chassis,service_profile,vif_name) where $timeFilter  group by service_profile,domain) where $timeFilter",
          "rawQuery": true,
          "refId": "B",
          "resultFormat": "table",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "mean"
              }
            ]
          ],
          "tags": [],
          "units": "none",
          "valueHandler": "Number Threshold"
        }
      ],
      "timeFrom": null,
      "timeShift": null,
      "title": "Top 10 Servers - TX Eth - $location",
      "transformations": [
        {
          "id": "filterFieldsByName",
          "options": {
            "include": {
              "names": [
                "Avg TX",
                "domain",
                "service_profile",
                "Peak TX"
              ]
            }
          }
        }
      ],
      "type": "table"
    },
    {
      "cacheTimeout": null,
      "datasource": "$data_source",
      "fieldConfig": {
        "defaults": {
          "custom": {
            "align": "left",
            "filterable": false
          },
          "decimals": 1,
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "orange",
                "value": 5000000000
              },
              {
                "color": "red",
                "value": 8000000000
              }
            ]
          },
          "unit": "bps"
        },
        "overrides": [
          {
            "matcher": {
              "id": "byName",
              "options": "domain"
            },
            "properties": [
              {
                "id": "links",
                "value": [
                  {
                    "targetBlank": false,
                    "title": "Detailed traffic monitoring of UCS domain ${__value.raw}",
                    "url": "d/W7LSukHWz/ucs-domain-traffic?orgId=1&var-domain=${__value.raw}&${__url_time_range}"
                  }
                ]
              },
              {
                "id": "displayName",
                "value": "Domain"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "service_profile"
            },
            "properties": [
              {
                "id": "links",
                "value": [
                  {
                    "targetBlank": false,
                    "title": "Detailed traffic monitoring of service profile ${__value.raw}",
                    "url": "d/Z0M_N1vWz/service-profile-stats?orgId=1&var-domain=${__data.fields[domain]}&var-service_profile=${__value.raw}&${__url_time_range}"
                  }
                ]
              },
              {
                "id": "displayName",
                "value": "Service Profile"
              }
            ]
          },
          {
            "matcher": {
              "id": "byRegexp",
              "options": "/X/"
            },
            "properties": [
              {
                "id": "custom.displayMode",
                "value": "gradient-gauge"
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 13,
        "w": 6,
        "x": 12,
        "y": 23
      },
      "id": 165,
      "interval": "[[polling_interval]]s",
      "links": [],
      "options": {
        "frameIndex": 1,
        "showHeader": true,
        "sortBy": [
          {
            "desc": true,
            "displayName": "RX"
          }
        ]
      },
      "pluginVersion": "7.5.7",
      "repeatDirection": "h",
      "targets": [
        {
          "aggregation": "Last",
          "alias": "",
          "decimals": 2,
          "displayAliasType": "Warning / Critical",
          "displayType": "Regular",
          "displayValueWithAlias": "Never",
          "groupBy": [
            {
              "params": [
                "$__interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "hide": false,
          "orderByTime": "ASC",
          "policy": "default",
          "query": "select top(\"RX\", domain,service_profile,10) as \"Avg RX\" from (select sum(RX)*8 as \"RX\" from (SELECT mean(\"bytes_rx_delta\")/[[polling_interval]] AS \"RX\" FROM \"$db\".\"$rp\".\"VnicStats\" WHERE (\"location\" =~ /^$location$/ AND \"transport\" = 'FC') AND $timeFilter GROUP BY domain,chassis,service_profile,vif_name) where $timeFilter  group by service_profile,domain) where $timeFilter",
          "rawQuery": true,
          "refId": "A",
          "resultFormat": "table",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "mean"
              }
            ]
          ],
          "tags": [],
          "units": "none",
          "valueHandler": "Number Threshold"
        },
        {
          "aggregation": "Last",
          "alias": "",
          "decimals": 2,
          "displayAliasType": "Warning / Critical",
          "displayType": "Regular",
          "displayValueWithAlias": "Never",
          "groupBy": [
            {
              "params": [
                "$__interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "hide": false,
          "orderByTime": "ASC",
          "policy": "default",
          "query": "select top(\"RX\", domain,service_profile,10) as \"Peak RX\" from (select sum(RX)*8 as \"RX\" from (SELECT max(\"bytes_rx_delta\")/[[polling_interval]] AS \"RX\" FROM \"$db\".\"$rp\".\"VnicStats\" WHERE (\"location\" =~ /^$location$/ AND \"transport\" = 'FC') AND $timeFilter GROUP BY domain,chassis,service_profile,vif_name) where $timeFilter  group by service_profile,domain) where $timeFilter",
          "rawQuery": true,
          "refId": "B",
          "resultFormat": "table",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "mean"
              }
            ]
          ],
          "tags": [],
          "units": "none",
          "valueHandler": "Number Threshold"
        }
      ],
      "timeFrom": null,
      "timeShift": null,
      "title": "Top 10 Servers - RX FC - $location",
      "transformations": [
        {
          "id": "filterFieldsByName",
          "options": {
            "include": {
              "names": [
                "Avg RX",
                "domain",
                "service_profile",
                "Peak RX"
              ]
            }
          }
        }
      ],
      "type": "table"
    },
    {
      "cacheTimeout": null,
      "datasource": "$data_source",
      "fieldConfig": {
        "defaults": {
          "custom": {
            "align": "left",
            "filterable": false
          },
          "decimals": 1,
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "orange",
                "value": 5000000000
              },
              {
                "color": "red",
                "value": 8000000000
              }
            ]
          },
          "unit": "bps"
        },
        "overrides": [
          {
            "matcher": {
              "id": "byName",
              "options": "domain"
            },
            "properties": [
              {
                "id": "links",
                "value": [
                  {
                    "targetBlank": false,
                    "title": "Detailed traffic monitoring of UCS domain ${__value.raw}",
                    "url": "d/W7LSukHWz/ucs-domain-traffic?orgId=1&var-domain=${__value.raw}&${__url_time_range}"
                  }
                ]
              },
              {
                "id": "displayName",
                "value": "Domain"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "service_profile"
            },
            "properties": [
              {
                "id": "links",
                "value": [
                  {
                    "targetBlank": false,
                    "title": "Detailed traffic monitoring of service profile ${__value.raw}",
                    "url": "d/Z0M_N1vWz/service-profile-stats?orgId=1&var-domain=${__data.fields[domain]}&var-service_profile=${__value.raw}&${__url_time_range}"
                  }
                ]
              },
              {
                "id": "displayName",
                "value": "Service Profile"
              }
            ]
          },
          {
            "matcher": {
              "id": "byRegexp",
              "options": "/X/"
            },
            "properties": [
              {
                "id": "custom.displayMode",
                "value": "gradient-gauge"
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 13,
        "w": 6,
        "x": 18,
        "y": 23
      },
      "id": 181,
      "interval": "[[polling_interval]]s",
      "links": [],
      "options": {
        "frameIndex": 1,
        "showHeader": true,
        "sortBy": [
          {
            "desc": true,
            "displayName": "RX"
          }
        ]
      },
      "pluginVersion": "7.5.7",
      "repeatDirection": "h",
      "targets": [
        {
          "aggregation": "Last",
          "alias": "",
          "decimals": 2,
          "displayAliasType": "Warning / Critical",
          "displayType": "Regular",
          "displayValueWithAlias": "Never",
          "groupBy": [
            {
              "params": [
                "$__interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "hide": false,
          "orderByTime": "ASC",
          "policy": "default",
          "query": "select top(\"TX\", domain,service_profile,10) as \"Avg TX\" from (select sum(TX)*8 as \"TX\" from (SELECT mean(\"bytes_tx_delta\")/[[polling_interval]] AS \"TX\" FROM \"$db\".\"$rp\".\"VnicStats\" WHERE (\"location\" =~ /^$location$/ AND \"transport\" = 'FC') AND $timeFilter GROUP BY domain,chassis,service_profile,vif_name) where $timeFilter  group by service_profile,domain) where $timeFilter",
          "rawQuery": true,
          "refId": "A",
          "resultFormat": "table",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "mean"
              }
            ]
          ],
          "tags": [],
          "units": "none",
          "valueHandler": "Number Threshold"
        },
        {
          "aggregation": "Last",
          "alias": "",
          "decimals": 2,
          "displayAliasType": "Warning / Critical",
          "displayType": "Regular",
          "displayValueWithAlias": "Never",
          "groupBy": [
            {
              "params": [
                "$__interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "hide": false,
          "orderByTime": "ASC",
          "policy": "default",
          "query": "select top(\"TX\", domain,service_profile,10) as \"Peak TX\" from (select sum(TX)*8 as \"TX\" from (SELECT max(\"bytes_tx_delta\")/[[polling_interval]] AS \"TX\" FROM \"$db\".\"$rp\".\"VnicStats\" WHERE (\"location\" =~ /^$location$/ AND \"transport\" = 'FC') AND $timeFilter GROUP BY domain,chassis,service_profile,vif_name) where $timeFilter  group by service_profile,domain) where $timeFilter",
          "rawQuery": true,
          "refId": "B",
          "resultFormat": "table",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "mean"
              }
            ]
          ],
          "tags": [],
          "units": "none",
          "valueHandler": "Number Threshold"
        }
      ],
      "timeFrom": null,
      "timeShift": null,
      "title": "Top 10 Servers - TX FC - $location",
      "transformations": [
        {
          "id": "filterFieldsByName",
          "options": {
            "include": {
              "names": [
                "Avg TX",
                "domain",
                "service_profile",
                "Peak TX"
              ]
            }
          }
        }
      ],
      "type": "table"
    },
    {
      "collapsed": true,
      "datasource": "$data_source",
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 36
      },
      "id": 17,
      "panels": [
        {
          "datasource": "$data_source",
          "fieldConfig": {
            "defaults": {
              "custom": {
                "align": "left",
                "filterable": false
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  }
                ]
              }
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "Domain"
                },
                "properties": [
                  {
                    "id": "links",
                    "value": [
                      {
                        "targetBlank": false,
                        "title": "Overview of UCS domain ${__value.raw}",
                        "url": "d/Inte2EIWk/ucs-domain-overview?orgId=1&var-domain=${__value.raw}&from=${__from}&to=${__to}"
                      }
                    ]
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "UCSM firmware"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 163
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 10,
            "w": 12,
            "x": 0,
            "y": 9
          },
          "id": 74,
          "interval": "[[polling_interval]]s",
          "links": [],
          "options": {
            "showHeader": true,
            "sortBy": []
          },
          "pluginVersion": "7.5.7",
          "targets": [
            {
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "domain"
                  ],
                  "type": "tag"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "hide": false,
              "limit": "1",
              "measurement": "FIEnvStats",
              "orderByTime": "DESC",
              "policy": "autogen",
              "query": "SELECT last(\"model\") AS \"Model\", last(\"mode\") AS \"Mode\", last(\"ucsm_fw_ver\") AS \"UCSM firmware\", last(\"fi_fw_sys_ver\") AS \"FI System Firmware\" FROM \"$db\".\"$rp\".\"FIEnvStats\" WHERE (\"location\" =~ /^$location$/ AND \"fi_id\" = 'A') AND $timeFilter group by  \"domain\"",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "table",
              "select": [
                [
                  {
                    "params": [
                      "model"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "last"
                  },
                  {
                    "params": [
                      "Model"
                    ],
                    "type": "alias"
                  }
                ],
                [
                  {
                    "params": [
                      "mode"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "last"
                  },
                  {
                    "params": [
                      "Mode"
                    ],
                    "type": "alias"
                  }
                ],
                [
                  {
                    "params": [
                      "ucsm_fw_ver"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "last"
                  },
                  {
                    "params": [
                      "UCSM firmware"
                    ],
                    "type": "alias"
                  }
                ],
                [
                  {
                    "params": [
                      "fi_fw_sys_ver"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "last"
                  },
                  {
                    "params": [
                      "FI System firmware"
                    ],
                    "type": "alias"
                  }
                ]
              ],
              "tags": [
                {
                  "key": "location",
                  "operator": "=~",
                  "value": "/^$location$/"
                },
                {
                  "condition": "AND",
                  "key": "fi_id",
                  "operator": "=",
                  "value": "A"
                }
              ]
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "UCS Domains - $location",
          "transformations": [
            {
              "id": "organize",
              "options": {
                "excludeByName": {
                  "Time": true
                },
                "indexByName": {},
                "renameByName": {
                  "domain": "Domain"
                }
              }
            }
          ],
          "type": "table"
        },
        {
          "cacheTimeout": null,
          "datasource": "$data_source",
          "fieldConfig": {
            "defaults": {
              "mappings": [
                {
                  "id": 0,
                  "op": "=",
                  "text": "N/A",
                  "type": 1,
                  "value": "null"
                }
              ],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "semi-dark-blue",
                    "value": null
                  },
                  {
                    "color": "semi-dark-blue"
                  }
                ]
              },
              "unit": "none"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 2,
            "w": 12,
            "x": 12,
            "y": 9
          },
          "id": 158,
          "interval": "[[polling_interval]]s",
          "links": [],
          "maxDataPoints": 100,
          "options": {
            "colorMode": "background",
            "fieldOptions": {
              "calcs": [
                "mean"
              ]
            },
            "graphMode": "area",
            "justifyMode": "auto",
            "orientation": "horizontal",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "text": {},
            "textMode": "value"
          },
          "pluginVersion": "7.5.7",
          "targets": [
            {
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "hide": false,
              "measurement": "FIServerPortStats",
              "orderByTime": "ASC",
              "policy": "autogen",
              "query": "select count(last) from (SELECT last(\"oper_state\") FROM \"$db\".\"$rp\".\"FIUplinkPortStats\" WHERE (\"location\" =~ /^$location$/ AND \"channel\" != '' and $timeFilter)  group by domain,fi_id,port) where $timeFilter",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": [
                {
                  "key": "location",
                  "operator": "=~",
                  "value": "/^$location$/"
                },
                {
                  "condition": "AND",
                  "key": "channel",
                  "operator": "!=",
                  "value": " "
                }
              ]
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "FI Uplink and Other Ports - $location",
          "type": "stat"
        },
        {
          "cacheTimeout": null,
          "datasource": "$data_source",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              }
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "Not UP"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "light-red",
                      "mode": "fixed"
                    }
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "UP"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "light-green",
                      "mode": "fixed"
                    }
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 5,
            "w": 6,
            "x": 12,
            "y": 11
          },
          "id": 31,
          "interval": "[[polling_interval]]s",
          "links": [],
          "maxDataPoints": 3,
          "options": {
            "displayLabels": [],
            "legend": {
              "displayMode": "table",
              "placement": "right",
              "values": [
                "value",
                "percent"
              ]
            },
            "pieType": "donut",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "text": {}
          },
          "pluginVersion": "7.1.1",
          "targets": [
            {
              "alias": "$col",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "hide": false,
              "measurement": "FIServerPortStats",
              "orderByTime": "ASC",
              "policy": "autogen",
              "query": "select count(last) as \"UP\" from (SELECT last(\"oper_state\") FROM \"$db\".\"$rp\".\"FIUplinkPortStats\" WHERE (\"location\" =~ /^$location$/ AND \"channel\" != '' and oper_state = 'up' and $timeFilter)  group by domain,fi_id,port) where $timeFilter",
              "rawQuery": true,
              "refId": "C",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": [
                {
                  "key": "location",
                  "operator": "=~",
                  "value": "/^$location$/"
                },
                {
                  "condition": "AND",
                  "key": "channel",
                  "operator": "!=",
                  "value": " "
                }
              ]
            },
            {
              "alias": "$col",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "hide": false,
              "measurement": "FIServerPortStats",
              "orderByTime": "ASC",
              "policy": "autogen",
              "query": "select count(last) as \"Not UP\" from (SELECT last(\"oper_state\") FROM \"$db\".\"$rp\".\"FIUplinkPortStats\" WHERE (\"location\" =~ /^$location$/ AND \"channel\" != '' and oper_state != 'up' and $timeFilter)  group by domain,fi_id,port) where $timeFilter",
              "rawQuery": true,
              "refId": "D",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": [
                {
                  "key": "location",
                  "operator": "=~",
                  "value": "/^$location$/"
                },
                {
                  "condition": "AND",
                  "key": "channel",
                  "operator": "!=",
                  "value": " "
                }
              ]
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "FI Uplink Ports - Operational State - $location",
          "transformations": [
            {
              "id": "filterFieldsByName",
              "options": {}
            }
          ],
          "type": "piechart"
        },
        {
          "cacheTimeout": null,
          "datasource": "$data_source",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              }
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "10 Gbps"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "light-purple",
                      "mode": "fixed"
                    }
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "40 Gbps"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "light-yellow",
                      "mode": "fixed"
                    }
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 5,
            "w": 6,
            "x": 18,
            "y": 11
          },
          "id": 144,
          "interval": "[[polling_interval]]s",
          "links": [],
          "maxDataPoints": 3,
          "options": {
            "displayLabels": [],
            "legend": {
              "displayMode": "table",
              "placement": "right",
              "values": [
                "value",
                "percent"
              ]
            },
            "pieType": "donut",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "text": {}
          },
          "targets": [
            {
              "alias": "$col",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "measurement": "FIServerPortStats",
              "orderByTime": "ASC",
              "policy": "autogen",
              "query": "select count(last) AS \"1 Gbps\" from (SELECT last(\"oper_state\") FROM \"$db\".\"$rp\".\"FIUplinkPortStats\" WHERE (\"location\" =~ /^$location$/ AND \"channel\" != '' AND transport='Eth' AND \"oper_speed\" = 1) and $timeFilter group by domain,fi_id,port) where $timeFilter",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": [
                {
                  "key": "location",
                  "operator": "=~",
                  "value": "/^$location$/"
                },
                {
                  "condition": "AND",
                  "key": "channel",
                  "operator": "!=",
                  "value": " "
                }
              ]
            },
            {
              "alias": "$col",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "measurement": "FIServerPortStats",
              "orderByTime": "ASC",
              "policy": "autogen",
              "query": "select count(last) AS \"10 Gbps\" from (SELECT last(\"oper_state\") FROM \"$db\".\"$rp\".\"FIUplinkPortStats\" WHERE (\"location\" =~ /^$location$/ AND \"channel\" != '' AND transport='Eth' AND  \"oper_speed\" = 10) and $timeFilter group by domain,fi_id,port) where $timeFilter",
              "rawQuery": true,
              "refId": "B",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": [
                {
                  "key": "location",
                  "operator": "=~",
                  "value": "/^$location$/"
                },
                {
                  "condition": "AND",
                  "key": "channel",
                  "operator": "!=",
                  "value": " "
                }
              ]
            },
            {
              "alias": "$col",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "measurement": "FIServerPortStats",
              "orderByTime": "ASC",
              "policy": "autogen",
              "query": "select count(last) AS \"40 Gbps\" from (SELECT last(\"oper_state\") FROM \"$db\".\"$rp\".\"FIUplinkPortStats\" WHERE (\"location\" =~ /^$location$/ AND \"channel\" != '' AND transport='Eth' AND  \"oper_speed\" = 40) and $timeFilter group by domain,fi_id,port) where $timeFilter",
              "rawQuery": true,
              "refId": "C",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": [
                {
                  "key": "location",
                  "operator": "=~",
                  "value": "/^$location$/"
                },
                {
                  "condition": "AND",
                  "key": "channel",
                  "operator": "!=",
                  "value": " "
                }
              ]
            },
            {
              "alias": "$col",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "measurement": "FIServerPortStats",
              "orderByTime": "ASC",
              "policy": "autogen",
              "query": "select count(last) AS \"25 Gbps\" from (SELECT last(\"oper_state\") FROM \"$db\".\"$rp\".\"FIUplinkPortStats\" WHERE (\"location\" =~ /^$location$/ AND \"channel\" != '' AND transport='Eth' AND  \"oper_speed\" = 25) and $timeFilter group by domain,fi_id,port) where $timeFilter",
              "rawQuery": true,
              "refId": "D",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": [
                {
                  "key": "location",
                  "operator": "=~",
                  "value": "/^$location$/"
                },
                {
                  "condition": "AND",
                  "key": "channel",
                  "operator": "!=",
                  "value": " "
                }
              ]
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "FI Uplink Ports -  Ethernet Speed - $location",
          "type": "piechart"
        },
        {
          "cacheTimeout": null,
          "datasource": "$data_source",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              }
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "FC"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "semi-dark-green",
                      "mode": "fixed"
                    }
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "Ethernet"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "semi-dark-blue",
                      "mode": "fixed"
                    }
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 5,
            "w": 6,
            "x": 12,
            "y": 16
          },
          "id": 32,
          "interval": "[[polling_interval]]s",
          "links": [],
          "maxDataPoints": 3,
          "options": {
            "displayLabels": [],
            "legend": {
              "displayMode": "table",
              "placement": "right",
              "values": [
                "percent",
                "value"
              ]
            },
            "pieType": "donut",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "text": {}
          },
          "targets": [
            {
              "alias": "$col",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "measurement": "FIServerPortStats",
              "orderByTime": "ASC",
              "policy": "autogen",
              "query": "select count(last) AS \"FC\" from (SELECT last(\"oper_state\") FROM \"$db\".\"$rp\".\"FIUplinkPortStats\" WHERE (\"location\" =~ /^$location$/ AND \"channel\" != '' AND \"transport\" = 'FC') and $timeFilter group by domain,fi_id,port) where $timeFilter",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": [
                {
                  "key": "location",
                  "operator": "=~",
                  "value": "/^$location$/"
                },
                {
                  "condition": "AND",
                  "key": "channel",
                  "operator": "!=",
                  "value": " "
                }
              ]
            },
            {
              "alias": "$col",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "measurement": "FIServerPortStats",
              "orderByTime": "ASC",
              "policy": "autogen",
              "query": "select count(last) AS \"Ethernet\" from (SELECT last(\"oper_state\") FROM \"$db\".\"$rp\".\"FIUplinkPortStats\" WHERE (\"location\" =~ /^$location$/ AND \"channel\" != '' AND \"transport\" = 'Eth') and $timeFilter group by domain,fi_id,port) where $timeFilter",
              "rawQuery": true,
              "refId": "B",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": [
                {
                  "key": "location",
                  "operator": "=~",
                  "value": "/^$location$/"
                },
                {
                  "condition": "AND",
                  "key": "channel",
                  "operator": "!=",
                  "value": " "
                }
              ]
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "FI Uplink Ports - Transport - $location",
          "type": "piechart"
        },
        {
          "cacheTimeout": null,
          "datasource": "$data_source",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              }
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "8G"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "light-purple",
                      "mode": "fixed"
                    }
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 5,
            "w": 6,
            "x": 18,
            "y": 16
          },
          "id": 35,
          "interval": "[[polling_interval]]s",
          "links": [],
          "maxDataPoints": 3,
          "options": {
            "displayLabels": [],
            "legend": {
              "displayMode": "table",
              "placement": "right",
              "values": [
                "value",
                "percent"
              ]
            },
            "pieType": "donut",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "text": {}
          },
          "targets": [
            {
              "alias": "$col",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "measurement": "FIServerPortStats",
              "orderByTime": "ASC",
              "policy": "autogen",
              "query": "select count(last) AS \"4G\" from (SELECT last(\"oper_state\") FROM \"$db\".\"$rp\".\"FIUplinkPortStats\" WHERE (\"location\" =~ /^$location$/ AND \"channel\" != '' AND transport='FC' and \"oper_speed\" = 4) and $timeFilter group by domain,fi_id,port) where $timeFilter",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": [
                {
                  "key": "location",
                  "operator": "=~",
                  "value": "/^$location$/"
                },
                {
                  "condition": "AND",
                  "key": "channel",
                  "operator": "!=",
                  "value": " "
                }
              ]
            },
            {
              "alias": "$col",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "measurement": "FIServerPortStats",
              "orderByTime": "ASC",
              "policy": "autogen",
              "query": "select count(last) AS \"8G\" from (SELECT last(\"oper_state\") FROM \"$db\".\"$rp\".\"FIUplinkPortStats\" WHERE (\"location\" =~ /^$location$/ AND \"channel\" != '' AND transport='FC' and \"oper_speed\" = 8) and $timeFilter group by domain,fi_id,port) where $timeFilter",
              "rawQuery": true,
              "refId": "B",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": [
                {
                  "key": "location",
                  "operator": "=~",
                  "value": "/^$location$/"
                },
                {
                  "condition": "AND",
                  "key": "channel",
                  "operator": "!=",
                  "value": " "
                }
              ]
            },
            {
              "alias": "$col",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "measurement": "FIServerPortStats",
              "orderByTime": "ASC",
              "policy": "autogen",
              "query": "select count(last) AS \"16G\" from (SELECT last(\"oper_state\") FROM \"$db\".\"$rp\".\"FIUplinkPortStats\" WHERE (\"location\" =~ /^$location$/ AND \"channel\" != '' AND transport='FC' and \"oper_speed\" = 16) and $timeFilter group by domain,fi_id,port) where $timeFilter",
              "rawQuery": true,
              "refId": "C",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": [
                {
                  "key": "location",
                  "operator": "=~",
                  "value": "/^$location$/"
                },
                {
                  "condition": "AND",
                  "key": "channel",
                  "operator": "!=",
                  "value": " "
                }
              ]
            },
            {
              "alias": "$col",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "measurement": "FIServerPortStats",
              "orderByTime": "ASC",
              "policy": "autogen",
              "query": "select count(last) AS \"32G\" from (SELECT last(\"oper_state\") FROM \"$db\".\"$rp\".\"FIUplinkPortStats\" WHERE (\"location\" =~ /^$location$/ AND \"channel\" != '' AND transport='FC' and \"oper_speed\" = 32) and $timeFilter group by domain,fi_id,port) where $timeFilter",
              "rawQuery": true,
              "refId": "D",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": [
                {
                  "key": "location",
                  "operator": "=~",
                  "value": "/^$location$/"
                },
                {
                  "condition": "AND",
                  "key": "channel",
                  "operator": "!=",
                  "value": " "
                }
              ]
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "FI Uplink Ports - FC Speed - $location",
          "type": "piechart"
        },
        {
          "cacheTimeout": null,
          "datasource": "$data_source",
          "fieldConfig": {
            "defaults": {
              "mappings": [
                {
                  "id": 0,
                  "op": "=",
                  "text": "N/A",
                  "type": 1,
                  "value": "null"
                }
              ],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "#299c46",
                    "value": null
                  },
                  {
                    "color": "#299c46",
                    "value": 1
                  },
                  {
                    "color": "#299c46"
                  }
                ]
              },
              "unit": "none"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 6,
            "w": 3,
            "x": 0,
            "y": 19
          },
          "id": 3,
          "interval": "[[polling_interval]]s",
          "links": [],
          "maxDataPoints": 100,
          "options": {
            "colorMode": "value",
            "fieldOptions": {
              "calcs": [
                "mean"
              ]
            },
            "graphMode": "area",
            "justifyMode": "auto",
            "orientation": "auto",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "text": {},
            "textMode": "auto"
          },
          "pluginVersion": "7.5.7",
          "targets": [
            {
              "alias": "$col",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "orderByTime": "ASC",
              "policy": "default",
              "query": "select count(domain) as \"# Domains\" from (SELECT last(\"model\") FROM \"$db\".\"$rp\".\"FIEnvStats\" WHERE \"location\" =~ /^$location$/ and $timeFilter GROUP BY domain) where $timeFilter",
              "rawQuery": true,
              "refId": "B",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": []
            },
            {
              "alias": "$col",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "orderByTime": "ASC",
              "policy": "default",
              "query": "select sum(count) as \"# Chassis\" from (select count(distinct(chassis)) from (SELECT last(\"model\") FROM \"$db\".\"$rp\".\"Servers\" WHERE (\"location\" =~ /^$location$/ AND chassis!='') AND $timeFilter GROUP BY service_profile,domain,chassis,id) group by domain) where $timeFilter",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": []
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "$location",
          "type": "stat"
        },
        {
          "cacheTimeout": null,
          "datasource": "$data_source",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              }
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "Other"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "semi-dark-orange",
                      "mode": "fixed"
                    }
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "OK"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "light-green",
                      "mode": "fixed"
                    }
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 6,
            "w": 4,
            "x": 3,
            "y": 19
          },
          "id": 12,
          "interval": "[[polling_interval]]s",
          "links": [],
          "maxDataPoints": 3,
          "options": {
            "displayLabels": [],
            "legend": {
              "displayMode": "table",
              "placement": "right",
              "values": [
                "percent",
                "value"
              ]
            },
            "pieType": "donut",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "text": {}
          },
          "targets": [
            {
              "alias": "$col",
              "groupBy": [
                {
                  "params": [
                    "[[polling_interval]]s"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "hide": false,
              "measurement": "BladeServers",
              "orderByTime": "ASC",
              "policy": "autogen",
              "query": "select count(id) AS \"OK\" from (SELECT last(\"model\") FROM \"$db\".\"$rp\".\"Servers\" WHERE (\"location\" =~ /^$location$/ AND \"oper_state\" = 'ok') AND $timeFilter GROUP BY domain,chassis,server,id) where $timeFilter",
              "rawQuery": true,
              "refId": "B",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "oper_state"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "count"
                  },
                  {
                    "params": [
                      "Operation state - UP"
                    ],
                    "type": "alias"
                  }
                ]
              ],
              "tags": [
                {
                  "key": "location",
                  "operator": "=~",
                  "value": "/^$location$/"
                },
                {
                  "condition": "AND",
                  "key": "oper_state",
                  "operator": "=",
                  "value": "ok"
                }
              ]
            },
            {
              "alias": "$col",
              "groupBy": [
                {
                  "params": [
                    "[[polling_interval]]s"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "hide": false,
              "measurement": "BladeServers",
              "orderByTime": "ASC",
              "policy": "autogen",
              "query": "select count(id) AS \"Other\" from (SELECT last(\"model\") FROM \"$db\".\"$rp\".\"Servers\" WHERE (\"location\" =~ /^$location$/ AND \"oper_state\" != 'ok') AND $timeFilter GROUP BY domain,chassis,blade,id) where $timeFilter",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "oper_state"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "count"
                  },
                  {
                    "params": [
                      "Other"
                    ],
                    "type": "alias"
                  }
                ]
              ],
              "tags": [
                {
                  "key": "location",
                  "operator": "=~",
                  "value": "/^$location$/"
                },
                {
                  "condition": "AND",
                  "key": "oper_state",
                  "operator": "!=",
                  "value": "ok"
                }
              ]
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "Server Operational State - $location",
          "type": "piechart"
        },
        {
          "cacheTimeout": null,
          "datasource": "$data_source",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              }
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "Blade Servers"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "light-purple",
                      "mode": "fixed"
                    }
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "Rack Servers"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "light-blue",
                      "mode": "fixed"
                    }
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 6,
            "w": 5,
            "x": 7,
            "y": 19
          },
          "id": 2,
          "interval": "[[polling_interval]]s",
          "links": [],
          "maxDataPoints": 3,
          "options": {
            "displayLabels": [],
            "legend": {
              "displayMode": "table",
              "placement": "right",
              "values": [
                "percent",
                "value"
              ]
            },
            "pieType": "donut",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "text": {}
          },
          "targets": [
            {
              "alias": "$col",
              "groupBy": [
                {
                  "params": [
                    "[[polling_interval]]s"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "linear"
                  ],
                  "type": "fill"
                }
              ],
              "measurement": "BladeServers",
              "orderByTime": "ASC",
              "policy": "autogen",
              "query": "select count(id) AS \"Blade Servers\" from (SELECT last(\"model\") FROM \"$db\".\"$rp\".\"Servers\" WHERE (\"location\" =~ /^$location$/ AND \"type\" = 'blade') AND $timeFilter GROUP BY domain,chassis,server,id) where $timeFilter",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "model"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "count"
                  },
                  {
                    "params": [
                      "Number of servers"
                    ],
                    "type": "alias"
                  }
                ]
              ],
              "tags": [
                {
                  "key": "location",
                  "operator": "=~",
                  "value": "/^$location$/"
                }
              ]
            },
            {
              "alias": "$col",
              "groupBy": [
                {
                  "params": [
                    "[[polling_interval]]s"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "linear"
                  ],
                  "type": "fill"
                }
              ],
              "measurement": "BladeServers",
              "orderByTime": "ASC",
              "policy": "autogen",
              "query": "select count(id) AS \"Rack Servers\" from (SELECT last(\"model\") FROM \"$db\".\"$rp\".\"Servers\" WHERE (\"location\" =~ /^$location$/ AND \"type\" = 'rack') AND $timeFilter GROUP BY domain,chassis,server,id) where $timeFilter",
              "rawQuery": true,
              "refId": "B",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "model"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "count"
                  },
                  {
                    "params": [
                      "Number of servers"
                    ],
                    "type": "alias"
                  }
                ]
              ],
              "tags": [
                {
                  "key": "location",
                  "operator": "=~",
                  "value": "/^$location$/"
                }
              ]
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "Server Types - $location",
          "type": "piechart"
        },
        {
          "cacheTimeout": null,
          "datasource": "$data_source",
          "fieldConfig": {
            "defaults": {
              "mappings": [
                {
                  "id": 0,
                  "op": "=",
                  "text": "N/A",
                  "type": 1,
                  "value": "null"
                }
              ],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "semi-dark-purple",
                    "value": null
                  },
                  {
                    "color": "semi-dark-purple"
                  }
                ]
              },
              "unit": "none"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 2,
            "w": 12,
            "x": 12,
            "y": 21
          },
          "id": 159,
          "interval": "[[polling_interval]]s",
          "links": [],
          "maxDataPoints": 100,
          "options": {
            "colorMode": "background",
            "fieldOptions": {
              "calcs": [
                "mean"
              ]
            },
            "graphMode": "area",
            "justifyMode": "auto",
            "orientation": "horizontal",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "text": {},
            "textMode": "value"
          },
          "pluginVersion": "7.5.7",
          "targets": [
            {
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "measurement": "FIServerPortStats",
              "orderByTime": "ASC",
              "policy": "autogen",
              "query": "select count(last) from (SELECT last(\"oper_state\") FROM \"$db\".\"$rp\".\"FIServerPortStats\" WHERE (\"location\" =~ /^$location$/ AND \"channel\" != '') and $timeFilter group by domain,fi_id,port) where $timeFilter",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": [
                {
                  "key": "location",
                  "operator": "=~",
                  "value": "/^$location$/"
                },
                {
                  "condition": "AND",
                  "key": "channel",
                  "operator": "!=",
                  "value": " "
                }
              ]
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "FI Server Ports - $location",
          "type": "stat"
        },
        {
          "cacheTimeout": null,
          "datasource": "$data_source",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 5,
            "w": 6,
            "x": 12,
            "y": 23
          },
          "id": 29,
          "interval": "[[polling_interval]]s",
          "links": [],
          "maxDataPoints": 3,
          "options": {
            "displayLabels": [],
            "legend": {
              "displayMode": "table",
              "placement": "right",
              "values": [
                "percent",
                "value"
              ]
            },
            "pieType": "donut",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "text": {}
          },
          "targets": [
            {
              "alias": "$col",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "measurement": "FIServerPortStats",
              "orderByTime": "ASC",
              "policy": "autogen",
              "query": "select count(last) AS \"UP\" from (SELECT last(\"oper_state\") FROM \"$db\".\"$rp\".\"FIServerPortStats\" WHERE (\"location\" =~ /^$location$/ AND \"channel\" != '' AND \"oper_state\" = 'up') and $timeFilter group by domain,fi_id,port) where $timeFilter",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": [
                {
                  "key": "location",
                  "operator": "=~",
                  "value": "/^$location$/"
                },
                {
                  "condition": "AND",
                  "key": "channel",
                  "operator": "!=",
                  "value": " "
                }
              ]
            },
            {
              "alias": "$col",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "measurement": "FIServerPortStats",
              "orderByTime": "ASC",
              "policy": "autogen",
              "query": "select count(last) AS \"Not UP\" from (SELECT last(\"oper_state\") FROM \"$db\".\"$rp\".\"FIServerPortStats\" WHERE (\"location\" =~ /^$location$/ AND \"channel\" != '' AND \"oper_state\" != 'up') and $timeFilter group by domain,fi_id,port) where $timeFilter",
              "rawQuery": true,
              "refId": "B",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": [
                {
                  "key": "location",
                  "operator": "=~",
                  "value": "/^$location$/"
                },
                {
                  "condition": "AND",
                  "key": "channel",
                  "operator": "!=",
                  "value": " "
                }
              ]
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "FI Server Ports - Operational State - $location",
          "type": "piechart"
        },
        {
          "cacheTimeout": null,
          "datasource": "$data_source",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 5,
            "w": 6,
            "x": 18,
            "y": 23
          },
          "id": 33,
          "interval": "[[polling_interval]]s",
          "links": [],
          "maxDataPoints": 3,
          "options": {
            "displayLabels": [],
            "legend": {
              "displayMode": "table",
              "placement": "right",
              "values": [
                "percent",
                "value"
              ]
            },
            "pieType": "donut",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "text": {}
          },
          "targets": [
            {
              "alias": "$col",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "measurement": "FIServerPortStats",
              "orderByTime": "ASC",
              "policy": "autogen",
              "query": "select count(last) AS \"1 Gbps\" from (SELECT last(\"oper_state\") FROM \"$db\".\"$rp\".\"FIServerPortStats\" WHERE (\"location\" =~ /^$location$/ AND \"channel\" != '' AND \"oper_speed\" = 1) and $timeFilter group by domain,fi_id,port) where $timeFilter",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": [
                {
                  "key": "location",
                  "operator": "=~",
                  "value": "/^$location$/"
                },
                {
                  "condition": "AND",
                  "key": "channel",
                  "operator": "!=",
                  "value": " "
                }
              ]
            },
            {
              "alias": "$col",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "measurement": "FIServerPortStats",
              "orderByTime": "ASC",
              "policy": "autogen",
              "query": "select count(last) AS \"10 Gbps\" from (SELECT last(\"oper_state\") FROM \"$db\".\"$rp\".\"FIServerPortStats\" WHERE (\"location\" =~ /^$location$/ AND \"channel\" != '' AND \"oper_speed\" = 10) and $timeFilter group by domain,fi_id,port) where $timeFilter",
              "rawQuery": true,
              "refId": "B",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": [
                {
                  "key": "location",
                  "operator": "=~",
                  "value": "/^$location$/"
                },
                {
                  "condition": "AND",
                  "key": "channel",
                  "operator": "!=",
                  "value": " "
                }
              ]
            },
            {
              "alias": "$col",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "measurement": "FIServerPortStats",
              "orderByTime": "ASC",
              "policy": "autogen",
              "query": "select count(last) AS \"40 Gbps\" from (SELECT last(\"oper_state\") FROM \"$db\".\"$rp\".\"FIServerPortStats\" WHERE (\"location\" =~ /^$location$/ AND \"channel\" != '' AND \"oper_speed\" = 40) and $timeFilter group by domain,fi_id,port) where $timeFilter",
              "rawQuery": true,
              "refId": "C",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": [
                {
                  "key": "location",
                  "operator": "=~",
                  "value": "/^$location$/"
                },
                {
                  "condition": "AND",
                  "key": "channel",
                  "operator": "!=",
                  "value": " "
                }
              ]
            },
            {
              "alias": "$col",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "measurement": "FIServerPortStats",
              "orderByTime": "ASC",
              "policy": "autogen",
              "query": "select count(last) AS \"25 Gbps\" from (SELECT last(\"oper_state\") FROM \"$db\".\"$rp\".\"FIServerPortStats\" WHERE (\"location\" =~ /^$location$/ AND \"channel\" != '' AND \"oper_speed\" = 25) and $timeFilter group by domain,fi_id,port) where $timeFilter",
              "rawQuery": true,
              "refId": "D",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": [
                {
                  "key": "location",
                  "operator": "=~",
                  "value": "/^$location$/"
                },
                {
                  "condition": "AND",
                  "key": "channel",
                  "operator": "!=",
                  "value": " "
                }
              ]
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "FI Server Ports - Operational Speed - $location",
          "type": "piechart"
        },
        {
          "cacheTimeout": null,
          "datasource": "$data_source",
          "fieldConfig": {
            "defaults": {
              "mappings": [
                {
                  "id": 0,
                  "op": "=",
                  "text": "N/A",
                  "type": 1,
                  "value": "null"
                }
              ],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "#299c46",
                    "value": null
                  },
                  {
                    "color": "#299c46"
                  }
                ]
              },
              "unit": "none"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "Memory"
                },
                "properties": [
                  {
                    "id": "unit",
                    "value": "mbytes"
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 3,
            "w": 12,
            "x": 0,
            "y": 25
          },
          "id": 7,
          "interval": "[[polling_interval]]s",
          "links": [],
          "maxDataPoints": 100,
          "options": {
            "colorMode": "value",
            "fieldOptions": {
              "calcs": [
                "mean"
              ]
            },
            "graphMode": "none",
            "justifyMode": "auto",
            "orientation": "auto",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "text": {},
            "textMode": "auto"
          },
          "pluginVersion": "7.5.7",
          "targets": [
            {
              "alias": "$col",
              "groupBy": [
                {
                  "params": [
                    "[[polling_interval]]s"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "linear"
                  ],
                  "type": "fill"
                }
              ],
              "measurement": "BladeServers",
              "orderByTime": "ASC",
              "policy": "autogen",
              "query": "select sum(last) as \"Memory\" from (SELECT last(\"memory\") FROM \"$db\".\"$rp\".\"Servers\" WHERE (\"location\" =~ /^$location$/) AND $timeFilter GROUP BY domain,chassis,server,id) where $timeFilter",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "memory"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "sum"
                  }
                ]
              ],
              "tags": [
                {
                  "key": "location",
                  "operator": "=~",
                  "value": "/^$location$/"
                }
              ]
            },
            {
              "alias": "$col",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "orderByTime": "ASC",
              "policy": "default",
              "query": "select sum(last) as \"# CPU\" from (SELECT last(\"num_cpus\") FROM \"$db\".\"$rp\".\"Servers\" WHERE (\"location\" =~ /^$location$/) AND $timeFilter GROUP BY domain,chassis,server,id) where $timeFilter",
              "rawQuery": true,
              "refId": "B",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": []
            },
            {
              "alias": "$col",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "orderByTime": "ASC",
              "policy": "default",
              "query": "select sum(last) as \"# Cores\"  from (SELECT last(\"num_cores\") FROM \"$db\".\"$rp\".\"Servers\" WHERE (\"location\" =~ /^$location$/) AND $timeFilter GROUP BY domain,chassis,server,id) where $timeFilter",
              "rawQuery": true,
              "refId": "C",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": []
            },
            {
              "alias": "$col",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "orderByTime": "ASC",
              "policy": "default",
              "query": "select sum(last) as \"# vEth\" from (SELECT last(\"num_vEths\") FROM \"$db\".\"$rp\".\"Servers\" WHERE (\"location\" =~ /^$location$/) AND $timeFilter GROUP BY domain,chassis,server,id) where $timeFilter",
              "rawQuery": true,
              "refId": "D",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": []
            },
            {
              "alias": "$col",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "orderByTime": "ASC",
              "policy": "default",
              "query": "select sum(last) as \"# vFC\" from (SELECT last(\"num_vFCs\") FROM \"$db\".\"$rp\".\"Servers\" WHERE (\"location\" =~ /^$location$/) AND $timeFilter GROUP BY domain,chassis,server,id) where $timeFilter",
              "rawQuery": true,
              "refId": "E",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": []
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "Resources - $location",
          "type": "stat"
        },
        {
          "datasource": "$data_source",
          "fieldConfig": {
            "defaults": {
              "custom": {
                "align": "center",
                "filterable": false
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              }
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "Service Profile"
                },
                "properties": [
                  {
                    "id": "links",
                    "value": [
                      {
                        "targetBlank": false,
                        "title": "Details of service profile ${__data.fields[service_profile]}",
                        "url": "d/Z0M_N1vWz/service-profile-stats?orgId=1&var-polling_interval=${polling_interval}&var-domain=All&var-service_profile=${__data.fields[\"Service Profile\"]}&var-vif=All&var-bp_port=All&from=${__from}&to=${__to}"
                      }
                    ]
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "Domain"
                },
                "properties": [
                  {
                    "id": "links",
                    "value": [
                      {
                        "targetBlank": false,
                        "title": "UCS domain ${__data.fields[Domain]} overview",
                        "url": "d/W7LSukHWz/ucs-domain-traffic?orgId=1&var-domain=${__data.fields[Domain]}&from=${__from}&to=${__to}"
                      }
                    ]
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "Chassis"
                },
                "properties": [
                  {
                    "id": "links",
                    "value": [
                      {
                        "targetBlank": false,
                        "title": "Details of ${__data.fields[Chassis ID]} in UCS domain ${__data.fields[Domain]}",
                        "url": "d/KOM8ZHNWz/ucs-chassis-traffic?orgId=1&var-polling_interval=${polling_interval}&var-domain=${__data.fields[Domain]}&var-chassis=${__data.fields.Chassis}&from=${__from}&to=${__to}"
                      }
                    ]
                  },
                  {
                    "id": "custom.width",
                    "value": 120
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "Memory"
                },
                "properties": [
                  {
                    "id": "unit",
                    "value": "mbytes"
                  },
                  {
                    "id": "custom.width",
                    "value": 100
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "  "
                },
                "properties": [
                  {
                    "id": "thresholds",
                    "value": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        },
                        {
                          "color": "semi-dark-orange",
                          "value": 1
                        }
                      ]
                    }
                  },
                  {
                    "id": "custom.displayMode",
                    "value": "color-background"
                  },
                  {
                    "id": "custom.width",
                    "value": 20
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "# vEth"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 80
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "# CPU"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 80
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "# Cores"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 80
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "# vFC"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 80
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "Server"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 120
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "Operability"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 120
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 13,
            "w": 24,
            "x": 0,
            "y": 28
          },
          "id": 38,
          "interval": "[[polling_interval]]s",
          "links": [],
          "options": {
            "showHeader": true,
            "sortBy": [
              {
                "desc": true,
                "displayName": "Operability"
              }
            ]
          },
          "pluginVersion": "7.5.7",
          "targets": [
            {
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "orderByTime": "ASC",
              "policy": "default",
              "query": "SELECT last(model) as \"Model\", last(serial) as \"Serial\", last(num_cpus) as \"# CPU\", last(num_cores) as \"# Cores\", last(memory) as \"Memory\", last(operability) as \"Operability\", last(oper_state) as \"Operational State\", last(oper_state_code) as \"oper_state_code\", last(num_vEths) as \"# vEth\", last(num_vFCs) as \"# vFC\" FROM \"$db\".\"$rp\".\"Servers\" WHERE (\"location\" =~ /^$location$/) AND $timeFilter GROUP BY \"service_profile\",domain,chassis,id,location",
              "rawQuery": true,
              "refId": "B",
              "resultFormat": "table",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": []
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "Servers - $location",
          "transform": "table",
          "transformations": [
            {
              "id": "filterFieldsByName",
              "options": {
                "include": {
                  "names": [
                    "chassis",
                    "domain",
                    "id",
                    "location",
                    "service_profile",
                    "Model",
                    "Serial",
                    "# CPU",
                    "# Cores",
                    "Memory",
                    "Operability",
                    "Operational State",
                    "# vEth",
                    "# vFC",
                    "oper_state_code"
                  ]
                }
              }
            },
            {
              "id": "organize",
              "options": {
                "excludeByName": {},
                "indexByName": {
                  "# CPU": 7,
                  "# Cores": 8,
                  "# vEth": 13,
                  "# vFC": 14,
                  "Memory": 9,
                  "Model": 5,
                  "Operability": 10,
                  "Operational State": 11,
                  "Serial": 6,
                  "chassis": 2,
                  "domain": 1,
                  "id": 3,
                  "location": 0,
                  "oper_state_code": 12,
                  "service_profile": 4
                },
                "renameByName": {
                  "Location": "",
                  "chassis": "Chassis",
                  "domain": "Domain",
                  "id": "Server",
                  "location": "Location",
                  "oper_state_code": "  ",
                  "service_profile": "Service Profile"
                }
              }
            }
          ],
          "type": "table"
        }
      ],
      "title": "Inventory",
      "type": "row"
    },
    {
      "collapsed": true,
      "datasource": "$data_source",
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 37
      },
      "id": 151,
      "panels": [
        {
          "cacheTimeout": null,
          "datasource": "$data_source",
          "fieldConfig": {
            "defaults": {
              "mappings": [
                {
                  "id": 0,
                  "op": "=",
                  "text": "N/A",
                  "type": 1,
                  "value": "null"
                }
              ],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "#299c46",
                    "value": null
                  },
                  {
                    "color": "#299c46",
                    "value": 1
                  },
                  {
                    "color": "#299c46"
                  }
                ]
              },
              "unit": "none"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 6,
            "w": 4,
            "x": 0,
            "y": 42
          },
          "id": 138,
          "interval": "[[polling_interval]]s",
          "links": [],
          "maxDataPoints": 100,
          "options": {
            "colorMode": "background",
            "fieldOptions": {
              "calcs": [
                "mean"
              ]
            },
            "graphMode": "area",
            "justifyMode": "auto",
            "orientation": "auto",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "text": {},
            "textMode": "value_and_name"
          },
          "pluginVersion": "7.5.7",
          "targets": [
            {
              "alias": "$col",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "orderByTime": "ASC",
              "policy": "default",
              "query": "select count(domain) as \"# Domains\" from (SELECT last(\"model\") FROM \"$db\".\"$rp\".\"FIEnvStats\" WHERE \"location\" =~ /^$location$/ and $timeFilter GROUP BY domain) where $timeFilter",
              "rawQuery": true,
              "refId": "B",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": []
            },
            {
              "alias": "$col",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "orderByTime": "ASC",
              "policy": "default",
              "query": "select sum(count) as \"# Chassis\" from (select count(distinct(chassis)) from (SELECT last(\"model\") FROM \"$db\".\"$rp\".\"Servers\" WHERE (\"location\" =~ /^$location$/ AND chassis!='') AND $timeFilter GROUP BY time($__interval),service_profile,domain,chassis,id) group by domain) where $timeFilter GROUP BY time($__interval)",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": []
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "$location",
          "type": "stat"
        },
        {
          "aliasColors": {
            "Blade Servers": "rgb(231, 120, 255)",
            "Rack Servers": "rgb(0, 202, 255)"
          },
          "bars": true,
          "cacheTimeout": null,
          "dashLength": 10,
          "dashes": false,
          "datasource": "$data_source",
          "decimals": 0,
          "fieldConfig": {
            "defaults": {},
            "overrides": []
          },
          "fill": 1,
          "fillGradient": 0,
          "gridPos": {
            "h": 6,
            "w": 5,
            "x": 4,
            "y": 42
          },
          "hiddenSeries": false,
          "id": 140,
          "interval": "[[polling_interval]]s",
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "max": false,
            "min": false,
            "rightSide": true,
            "show": true,
            "total": false,
            "values": true
          },
          "lines": false,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": 3,
          "nullPointMode": "null",
          "options": {
            "alertThreshold": true
          },
          "percentage": false,
          "pluginVersion": "7.5.7",
          "pointradius": 2,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": true,
          "steppedLine": false,
          "targets": [
            {
              "alias": "$col",
              "groupBy": [
                {
                  "params": [
                    "[[polling_interval]]s"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "linear"
                  ],
                  "type": "fill"
                }
              ],
              "measurement": "BladeServers",
              "orderByTime": "ASC",
              "policy": "autogen",
              "query": "select count(id) AS \"Blade Servers\" from (SELECT last(\"model\") FROM \"$db\".\"$rp\".\"Servers\" WHERE (\"location\" =~ /^$location$/ AND \"type\" = 'blade') AND $timeFilter GROUP BY time($__interval),domain,chassis,server,id) where $timeFilter GROUP BY time($__interval)",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "model"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "count"
                  },
                  {
                    "params": [
                      "Number of servers"
                    ],
                    "type": "alias"
                  }
                ]
              ],
              "tags": [
                {
                  "key": "location",
                  "operator": "=~",
                  "value": "/^$location$/"
                }
              ]
            },
            {
              "alias": "$col",
              "groupBy": [
                {
                  "params": [
                    "[[polling_interval]]s"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "linear"
                  ],
                  "type": "fill"
                }
              ],
              "measurement": "BladeServers",
              "orderByTime": "ASC",
              "policy": "autogen",
              "query": "select count(id) AS \"Rack Servers\" from (SELECT last(\"model\") FROM \"$db\".\"$rp\".\"Servers\" WHERE (\"location\" =~ /^$location$/ AND \"type\" = 'rack') AND $timeFilter GROUP BY time($__interval),domain,chassis,server,id) where $timeFilter GROUP BY time($__interval)",
              "rawQuery": true,
              "refId": "B",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "model"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "count"
                  },
                  {
                    "params": [
                      "Number of servers"
                    ],
                    "type": "alias"
                  }
                ]
              ],
              "tags": [
                {
                  "key": "location",
                  "operator": "=~",
                  "value": "/^$location$/"
                }
              ]
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "Server Types - $location",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": 0,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        },
        {
          "cacheTimeout": null,
          "datasource": "$data_source",
          "fieldConfig": {
            "defaults": {
              "mappings": [
                {
                  "id": 0,
                  "op": "=",
                  "text": "N/A",
                  "type": 1,
                  "value": "null"
                }
              ],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "semi-dark-blue",
                    "value": null
                  },
                  {
                    "color": "semi-dark-blue"
                  }
                ]
              },
              "unit": "none"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 2,
            "w": 10,
            "x": 9,
            "y": 42
          },
          "id": 142,
          "interval": "[[polling_interval]]s",
          "links": [],
          "maxDataPoints": 100,
          "options": {
            "colorMode": "background",
            "fieldOptions": {
              "calcs": [
                "mean"
              ]
            },
            "graphMode": "area",
            "justifyMode": "auto",
            "orientation": "horizontal",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "text": {},
            "textMode": "value"
          },
          "pluginVersion": "7.5.7",
          "targets": [
            {
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "measurement": "FIServerPortStats",
              "orderByTime": "ASC",
              "policy": "autogen",
              "query": "select count(last) from (SELECT last(\"oper_state\") FROM \"$db\".\"$rp\".\"FIUplinkPortStats\" WHERE (\"location\" =~ /^$location$/ AND \"channel\" != '' and $timeFilter)  group by domain,fi_id,port) where $timeFilter",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": [
                {
                  "key": "location",
                  "operator": "=~",
                  "value": "/^$location$/"
                },
                {
                  "condition": "AND",
                  "key": "channel",
                  "operator": "!=",
                  "value": " "
                }
              ]
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "FI Uplink and Other Ports - $location",
          "type": "stat"
        },
        {
          "cacheTimeout": null,
          "datasource": "$data_source",
          "fieldConfig": {
            "defaults": {
              "mappings": [
                {
                  "id": 0,
                  "op": "=",
                  "text": "N/A",
                  "type": 1,
                  "value": "null"
                }
              ],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "semi-dark-purple",
                    "value": null
                  },
                  {
                    "color": "semi-dark-purple"
                  }
                ]
              },
              "unit": "none"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 2,
            "w": 5,
            "x": 19,
            "y": 42
          },
          "id": 147,
          "interval": "[[polling_interval]]s",
          "links": [],
          "maxDataPoints": 100,
          "options": {
            "colorMode": "background",
            "fieldOptions": {
              "calcs": [
                "mean"
              ]
            },
            "graphMode": "area",
            "justifyMode": "auto",
            "orientation": "horizontal",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "text": {},
            "textMode": "value"
          },
          "pluginVersion": "7.5.7",
          "targets": [
            {
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "measurement": "FIServerPortStats",
              "orderByTime": "ASC",
              "policy": "autogen",
              "query": "select count(last) from (SELECT last(\"oper_state\") FROM \"$db\".\"$rp\".\"FIServerPortStats\" WHERE (\"location\" =~ /^$location$/ AND \"channel\" != '') and $timeFilter group by domain,fi_id,port) where $timeFilter",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": [
                {
                  "key": "location",
                  "operator": "=~",
                  "value": "/^$location$/"
                },
                {
                  "condition": "AND",
                  "key": "channel",
                  "operator": "!=",
                  "value": " "
                }
              ]
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "FI Server Ports - $location",
          "type": "stat"
        },
        {
          "aliasColors": {},
          "bars": true,
          "cacheTimeout": null,
          "dashLength": 10,
          "dashes": false,
          "datasource": "$data_source",
          "decimals": 0,
          "fieldConfig": {
            "defaults": {},
            "overrides": []
          },
          "fill": 1,
          "fillGradient": 0,
          "gridPos": {
            "h": 5,
            "w": 5,
            "x": 9,
            "y": 44
          },
          "hiddenSeries": false,
          "id": 143,
          "interval": "[[polling_interval]]s",
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "max": false,
            "min": false,
            "rightSide": true,
            "show": true,
            "total": false,
            "values": true
          },
          "lines": false,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": 3,
          "nullPointMode": "null",
          "options": {
            "alertThreshold": true
          },
          "percentage": false,
          "pluginVersion": "7.5.7",
          "pointradius": 2,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": true,
          "steppedLine": false,
          "targets": [
            {
              "alias": "$col",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "hide": false,
              "measurement": "FIServerPortStats",
              "orderByTime": "ASC",
              "policy": "autogen",
              "query": "select count(last) as \"UP\" from (SELECT last(\"oper_state\") FROM \"$db\".\"$rp\".\"FIUplinkPortStats\" WHERE (\"location\" =~ /^$location$/ AND \"channel\" != '' and oper_state = 'up' and $timeFilter) GROUP BY time($__interval),domain,fi_id,port) where  $timeFilter GROUP BY time($__interval)",
              "rawQuery": true,
              "refId": "C",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": [
                {
                  "key": "location",
                  "operator": "=~",
                  "value": "/^$location$/"
                },
                {
                  "condition": "AND",
                  "key": "channel",
                  "operator": "!=",
                  "value": " "
                }
              ]
            },
            {
              "alias": "$col",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "hide": false,
              "measurement": "FIServerPortStats",
              "orderByTime": "ASC",
              "policy": "autogen",
              "query": "select count(last) as \"Not UP\" from (SELECT last(\"oper_state\") FROM \"$db\".\"$rp\".\"FIUplinkPortStats\" WHERE (\"location\" =~ /^$location$/ AND \"channel\" != '' and oper_state != 'up' and  $timeFilter) GROUP BY time($__interval),domain,fi_id,port) where  $timeFilter GROUP BY time($__interval)",
              "rawQuery": true,
              "refId": "D",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": [
                {
                  "key": "location",
                  "operator": "=~",
                  "value": "/^$location$/"
                },
                {
                  "condition": "AND",
                  "key": "channel",
                  "operator": "!=",
                  "value": " "
                }
              ]
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "FI Uplink Ports - Operational State - $location",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [
            {
              "id": "filterFieldsByName",
              "options": {}
            }
          ],
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": 0,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        },
        {
          "aliasColors": {
            "1 Gbps": "light-purple",
            "10 Gbps": "dark-purple",
            "40 Gbps": "rgb(118, 0, 205)"
          },
          "bars": true,
          "cacheTimeout": null,
          "dashLength": 10,
          "dashes": false,
          "datasource": "$data_source",
          "decimals": 0,
          "fieldConfig": {
            "defaults": {},
            "overrides": []
          },
          "fill": 1,
          "fillGradient": 0,
          "gridPos": {
            "h": 5,
            "w": 5,
            "x": 14,
            "y": 44
          },
          "hiddenSeries": false,
          "id": 154,
          "interval": "[[polling_interval]]s",
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "max": false,
            "min": false,
            "rightSide": true,
            "show": true,
            "total": false,
            "values": true
          },
          "lines": false,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": 3,
          "nullPointMode": "null",
          "options": {
            "alertThreshold": true
          },
          "percentage": false,
          "pluginVersion": "7.5.7",
          "pointradius": 2,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": true,
          "steppedLine": false,
          "targets": [
            {
              "alias": "$col",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "measurement": "FIServerPortStats",
              "orderByTime": "ASC",
              "policy": "autogen",
              "query": "select count(last) AS \"1 Gbps\" from (SELECT last(\"oper_state\") FROM \"$db\".\"$rp\".\"FIUplinkPortStats\" WHERE (\"location\" =~ /^$location$/  AND \"channel\" != '' AND transport='Eth' AND \"oper_speed\" = 1) and $timeFilter GROUP BY time($__interval),domain,fi_id,port) where $timeFilter GROUP BY time($__interval)",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": [
                {
                  "key": "location",
                  "operator": "=~",
                  "value": "/^$location$/"
                },
                {
                  "condition": "AND",
                  "key": "channel",
                  "operator": "!=",
                  "value": " "
                }
              ]
            },
            {
              "alias": "$col",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "measurement": "FIServerPortStats",
              "orderByTime": "ASC",
              "policy": "autogen",
              "query": "select count(last) AS \"10 Gbps\" from (SELECT last(\"oper_state\") FROM \"$db\".\"$rp\".\"FIUplinkPortStats\" WHERE (\"location\" =~ /^$location$/  AND \"channel\" != '' AND transport='Eth' AND  \"oper_speed\" = 10) and $timeFilter GROUP BY time($__interval),domain,fi_id,port) where $timeFilter GROUP BY time($__interval)",
              "rawQuery": true,
              "refId": "B",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": [
                {
                  "key": "location",
                  "operator": "=~",
                  "value": "/^$location$/"
                },
                {
                  "condition": "AND",
                  "key": "channel",
                  "operator": "!=",
                  "value": " "
                }
              ]
            },
            {
              "alias": "$col",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "measurement": "FIServerPortStats",
              "orderByTime": "ASC",
              "policy": "autogen",
              "query": "select count(last) AS \"40 Gbps\" from (SELECT last(\"oper_state\") FROM \"$db\".\"$rp\".\"FIUplinkPortStats\" WHERE (\"location\" =~ /^$location$/  AND \"channel\" != '' AND transport='Eth' AND \"oper_speed\" = 40) and $timeFilter GROUP BY time($__interval),domain,fi_id,port) where $timeFilter GROUP BY time($__interval)",
              "rawQuery": true,
              "refId": "C",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": [
                {
                  "key": "location",
                  "operator": "=~",
                  "value": "/^$location$/"
                },
                {
                  "condition": "AND",
                  "key": "channel",
                  "operator": "!=",
                  "value": " "
                }
              ]
            },
            {
              "alias": "$col",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "measurement": "FIServerPortStats",
              "orderByTime": "ASC",
              "policy": "autogen",
              "query": "select count(last) AS \"25 Gbps\" from (SELECT last(\"oper_state\") FROM \"$db\".\"$rp\".\"FIUplinkPortStats\" WHERE (\"location\" =~ /^$location$/  AND \"channel\" != '' AND transport='Eth' AND \"oper_speed\" = 25) and $timeFilter GROUP BY time($__interval),domain,fi_id,port) where $timeFilter GROUP BY time($__interval)",
              "rawQuery": true,
              "refId": "D",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": [
                {
                  "key": "location",
                  "operator": "=~",
                  "value": "/^$location$/"
                },
                {
                  "condition": "AND",
                  "key": "channel",
                  "operator": "!=",
                  "value": " "
                }
              ]
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "FI Uplink Ports - Eth Speed - $location",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": 0,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        },
        {
          "aliasColors": {},
          "bars": true,
          "cacheTimeout": null,
          "dashLength": 10,
          "dashes": false,
          "datasource": "$data_source",
          "decimals": 0,
          "fieldConfig": {
            "defaults": {},
            "overrides": []
          },
          "fill": 1,
          "fillGradient": 0,
          "gridPos": {
            "h": 5,
            "w": 5,
            "x": 19,
            "y": 44
          },
          "hiddenSeries": false,
          "id": 152,
          "interval": "[[polling_interval]]s",
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "max": false,
            "min": false,
            "rightSide": true,
            "show": true,
            "total": false,
            "values": true
          },
          "lines": false,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": 3,
          "nullPointMode": "null",
          "options": {
            "alertThreshold": true
          },
          "percentage": false,
          "pluginVersion": "7.5.7",
          "pointradius": 2,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": true,
          "steppedLine": false,
          "targets": [
            {
              "alias": "$col",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "hide": false,
              "measurement": "FIServerPortStats",
              "orderByTime": "ASC",
              "policy": "autogen",
              "query": "select count(last) as \"UP\" from (SELECT last(\"oper_state\") FROM \"$db\".\"$rp\".\"FIServerPortStats\" WHERE (\"location\" =~ /^$location$/ AND \"channel\" != '' and oper_state = 'up' and $timeFilter) GROUP BY time($__interval),domain,fi_id,port) where  $timeFilter GROUP BY time($__interval)",
              "rawQuery": true,
              "refId": "C",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": [
                {
                  "key": "location",
                  "operator": "=~",
                  "value": "/^$location$/"
                },
                {
                  "condition": "AND",
                  "key": "channel",
                  "operator": "!=",
                  "value": " "
                }
              ]
            },
            {
              "alias": "$col",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "hide": false,
              "measurement": "FIServerPortStats",
              "orderByTime": "ASC",
              "policy": "autogen",
              "query": "select count(last) as \"Not UP\" from (SELECT last(\"oper_state\") FROM \"$db\".\"$rp\".\"FIServerPortStats\" WHERE (\"location\" =~ /^$location$/ AND \"channel\" != '' and oper_state != 'up' and  $timeFilter) GROUP BY time($__interval),domain,fi_id,port) where  $timeFilter GROUP BY time($__interval)",
              "rawQuery": true,
              "refId": "D",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": [
                {
                  "key": "location",
                  "operator": "=~",
                  "value": "/^$location$/"
                },
                {
                  "condition": "AND",
                  "key": "channel",
                  "operator": "!=",
                  "value": " "
                }
              ]
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "FI Server Ports - Operational State - $location",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [
            {
              "id": "filterFieldsByName",
              "options": {}
            }
          ],
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": 0,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        },
        {
          "cacheTimeout": null,
          "datasource": "$data_source",
          "fieldConfig": {
            "defaults": {
              "mappings": [
                {
                  "id": 0,
                  "op": "=",
                  "text": "N/A",
                  "type": 1,
                  "value": "null"
                }
              ],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "#299c46",
                    "value": null
                  },
                  {
                    "color": "#299c46"
                  }
                ]
              },
              "unit": "none"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "Memory"
                },
                "properties": [
                  {
                    "id": "unit",
                    "value": "mbytes"
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 6,
            "w": 4,
            "x": 0,
            "y": 48
          },
          "id": 141,
          "interval": "[[polling_interval]]s",
          "links": [],
          "maxDataPoints": 100,
          "options": {
            "colorMode": "value",
            "fieldOptions": {
              "calcs": [
                "mean"
              ]
            },
            "graphMode": "area",
            "justifyMode": "auto",
            "orientation": "auto",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "text": {},
            "textMode": "auto"
          },
          "pluginVersion": "7.5.7",
          "targets": [
            {
              "alias": "$col",
              "groupBy": [
                {
                  "params": [
                    "[[polling_interval]]s"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "linear"
                  ],
                  "type": "fill"
                }
              ],
              "measurement": "BladeServers",
              "orderByTime": "ASC",
              "policy": "autogen",
              "query": "select sum(last) as \"Memory\" from (SELECT last(\"memory\") FROM \"$db\".\"$rp\".\"Servers\" WHERE (\"location\" =~ /^$location$/) AND $timeFilter GROUP BY time($__interval),domain,chassis,server,id) where $timeFilter GROUP BY time($__interval)",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "memory"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "sum"
                  }
                ]
              ],
              "tags": [
                {
                  "key": "location",
                  "operator": "=~",
                  "value": "/^$location$/"
                }
              ]
            },
            {
              "alias": "$col",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "orderByTime": "ASC",
              "policy": "default",
              "query": "select sum(last) as \"# CPU\" from (SELECT last(\"num_cpus\") FROM \"$db\".\"$rp\".\"Servers\" WHERE (\"location\" =~ /^$location$/) AND $timeFilter GROUP BY time($__interval),domain,chassis,server,id) where $timeFilter GROUP BY time($__interval)",
              "rawQuery": true,
              "refId": "B",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": []
            },
            {
              "alias": "$col",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "orderByTime": "ASC",
              "policy": "default",
              "query": "select sum(last) as \"# Cores\"  from (SELECT last(\"num_cores\") FROM \"$db\".\"$rp\".\"Servers\" WHERE (\"location\" =~ /^$location$/) AND $timeFilter GROUP BY time($__interval),domain,chassis,server,id) where $timeFilter GROUP BY time($__interval)",
              "rawQuery": true,
              "refId": "C",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": []
            },
            {
              "alias": "$col",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "orderByTime": "ASC",
              "policy": "default",
              "query": "select sum(last) as \"# vEth\" from (SELECT last(\"num_vEths\") FROM \"$db\".\"$rp\".\"Servers\" WHERE (\"location\" =~ /^$location$/) AND $timeFilter GROUP BY time($__interval),domain,chassis,server,id) where $timeFilter GROUP BY time($__interval)",
              "rawQuery": true,
              "refId": "D",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": []
            },
            {
              "alias": "$col",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "orderByTime": "ASC",
              "policy": "default",
              "query": "select sum(last) as \"# vFC\" from (SELECT last(\"num_vFCs\") FROM \"$db\".\"$rp\".\"Servers\" WHERE (\"location\" =~ /^$location$/) AND $timeFilter GROUP BY time($__interval),domain,chassis,server,id) where $timeFilter GROUP BY time($__interval)",
              "rawQuery": true,
              "refId": "E",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": []
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "Resources - $location",
          "type": "stat"
        },
        {
          "aliasColors": {},
          "bars": true,
          "cacheTimeout": null,
          "dashLength": 10,
          "dashes": false,
          "datasource": "$data_source",
          "decimals": 0,
          "fieldConfig": {
            "defaults": {},
            "overrides": []
          },
          "fill": 1,
          "fillGradient": 0,
          "gridPos": {
            "h": 6,
            "w": 5,
            "x": 4,
            "y": 48
          },
          "hiddenSeries": false,
          "id": 139,
          "interval": "[[polling_interval]]s",
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "max": false,
            "min": false,
            "rightSide": true,
            "show": true,
            "total": false,
            "values": true
          },
          "lines": false,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": 3,
          "nullPointMode": "null",
          "options": {
            "alertThreshold": true
          },
          "percentage": false,
          "pluginVersion": "7.5.7",
          "pointradius": 2,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": true,
          "steppedLine": false,
          "targets": [
            {
              "alias": "$col",
              "groupBy": [
                {
                  "params": [
                    "[[polling_interval]]s"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "hide": false,
              "measurement": "BladeServers",
              "orderByTime": "ASC",
              "policy": "autogen",
              "query": "select count(id) AS \"OK\" from (SELECT last(\"model\") FROM \"$db\".\"$rp\".\"Servers\" WHERE (\"location\" =~ /^$location$/ AND \"oper_state\" = 'ok') AND  $timeFilter GROUP BY time($__interval),domain,chassis,server,id) where  $timeFilter GROUP BY time($__interval)",
              "rawQuery": true,
              "refId": "B",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "oper_state"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "count"
                  },
                  {
                    "params": [
                      "Operation state - UP"
                    ],
                    "type": "alias"
                  }
                ]
              ],
              "tags": [
                {
                  "key": "location",
                  "operator": "=~",
                  "value": "/^$location$/"
                },
                {
                  "condition": "AND",
                  "key": "oper_state",
                  "operator": "=",
                  "value": "ok"
                }
              ]
            },
            {
              "alias": "$col",
              "groupBy": [
                {
                  "params": [
                    "[[polling_interval]]s"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "hide": false,
              "measurement": "BladeServers",
              "orderByTime": "ASC",
              "policy": "autogen",
              "query": "select count(id) AS \"Other\" from (SELECT last(\"model\") FROM \"$db\".\"$rp\".\"Servers\" WHERE (\"location\" =~ /^$location$/ AND \"oper_state\" != 'ok') AND  $timeFilter GROUP BY time($__interval),domain,chassis,blade,id) where  $timeFilter GROUP BY time($__interval)",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "oper_state"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "count"
                  },
                  {
                    "params": [
                      "Other"
                    ],
                    "type": "alias"
                  }
                ]
              ],
              "tags": [
                {
                  "key": "location",
                  "operator": "=~",
                  "value": "/^$location$/"
                },
                {
                  "condition": "AND",
                  "key": "oper_state",
                  "operator": "!=",
                  "value": "ok"
                }
              ]
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "Server Operational State - $location",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": 0,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        },
        {
          "aliasColors": {
            "Ethernet": "#a352cc",
            "FC": "#3274d9"
          },
          "bars": true,
          "cacheTimeout": null,
          "dashLength": 10,
          "dashes": false,
          "datasource": "$data_source",
          "decimals": 0,
          "fieldConfig": {
            "defaults": {},
            "overrides": []
          },
          "fill": 1,
          "fillGradient": 0,
          "gridPos": {
            "h": 5,
            "w": 5,
            "x": 9,
            "y": 49
          },
          "hiddenSeries": false,
          "id": 145,
          "interval": "[[polling_interval]]s",
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "max": false,
            "min": false,
            "rightSide": true,
            "show": true,
            "total": false,
            "values": true
          },
          "lines": false,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": 3,
          "nullPointMode": "null",
          "options": {
            "alertThreshold": true
          },
          "percentage": false,
          "pluginVersion": "7.5.7",
          "pointradius": 2,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": true,
          "steppedLine": false,
          "targets": [
            {
              "alias": "$col",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "measurement": "FIServerPortStats",
              "orderByTime": "ASC",
              "policy": "autogen",
              "query": "select count(last) AS \"FC\" from (SELECT last(\"oper_state\") FROM \"$db\".\"$rp\".\"FIUplinkPortStats\" WHERE (\"location\" =~ /^$location$/ AND \"channel\" != '' AND \"transport\" = 'FC') and  $timeFilter GROUP BY time($__interval),domain,fi_id,port) where  $timeFilter GROUP BY time($__interval)",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": [
                {
                  "key": "location",
                  "operator": "=~",
                  "value": "/^$location$/"
                },
                {
                  "condition": "AND",
                  "key": "channel",
                  "operator": "!=",
                  "value": " "
                }
              ]
            },
            {
              "alias": "$col",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "measurement": "FIServerPortStats",
              "orderByTime": "ASC",
              "policy": "autogen",
              "query": "select count(last) AS \"Ethernet\" from (SELECT last(\"oper_state\") FROM \"$db\".\"$rp\".\"FIUplinkPortStats\" WHERE (\"location\" =~ /^$location$/ AND \"channel\" != '' AND \"transport\" = 'Eth') and $timeFilter GROUP BY time($__interval),domain,fi_id,port) where $timeFilter GROUP BY time($__interval)",
              "rawQuery": true,
              "refId": "B",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": [
                {
                  "key": "location",
                  "operator": "=~",
                  "value": "/^$location$/"
                },
                {
                  "condition": "AND",
                  "key": "channel",
                  "operator": "!=",
                  "value": " "
                }
              ]
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "FI Uplink Ports - Transport - $location",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": 0,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        },
        {
          "aliasColors": {
            "16G": "dark-blue"
          },
          "bars": true,
          "cacheTimeout": null,
          "dashLength": 10,
          "dashes": false,
          "datasource": "$data_source",
          "decimals": 0,
          "fieldConfig": {
            "defaults": {},
            "overrides": []
          },
          "fill": 1,
          "fillGradient": 0,
          "gridPos": {
            "h": 5,
            "w": 5,
            "x": 14,
            "y": 49
          },
          "hiddenSeries": false,
          "id": 157,
          "interval": "[[polling_interval]]s",
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "max": false,
            "min": false,
            "rightSide": true,
            "show": true,
            "total": false,
            "values": true
          },
          "lines": false,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": 3,
          "nullPointMode": "null",
          "options": {
            "alertThreshold": true
          },
          "percentage": false,
          "pluginVersion": "7.5.7",
          "pointradius": 2,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": true,
          "steppedLine": false,
          "targets": [
            {
              "alias": "$col",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "measurement": "FIServerPortStats",
              "orderByTime": "ASC",
              "policy": "autogen",
              "query": "select count(last) AS \"4G\" from (SELECT last(\"oper_state\") FROM \"$db\".\"$rp\".\"FIUplinkPortStats\" WHERE (\"location\" =~ /^$location$/ AND \"channel\" != '' AND transport='FC' AND \"oper_speed\" = 4) and $timeFilter GROUP BY time($__interval),domain,fi_id,port) where $timeFilter GROUP BY time($__interval)",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": [
                {
                  "key": "location",
                  "operator": "=~",
                  "value": "/^$location$/"
                },
                {
                  "condition": "AND",
                  "key": "channel",
                  "operator": "!=",
                  "value": " "
                }
              ]
            },
            {
              "alias": "$col",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "measurement": "FIServerPortStats",
              "orderByTime": "ASC",
              "policy": "autogen",
              "query": "select count(last) AS \"8G\" from (SELECT last(\"oper_state\") FROM \"$db\".\"$rp\".\"FIUplinkPortStats\" WHERE (\"location\" =~ /^$location$/ AND \"channel\" != '' AND  transport='FC' AND \"oper_speed\" = 8 ) and $timeFilter GROUP BY time($__interval),domain,fi_id,port) where  $timeFilter GROUP BY time($__interval)",
              "rawQuery": true,
              "refId": "B",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": [
                {
                  "key": "location",
                  "operator": "=~",
                  "value": "/^$location$/"
                },
                {
                  "condition": "AND",
                  "key": "channel",
                  "operator": "!=",
                  "value": " "
                }
              ]
            },
            {
              "alias": "$col",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "measurement": "FIServerPortStats",
              "orderByTime": "ASC",
              "policy": "autogen",
              "query": "select count(last) AS \"16G\" from (SELECT last(\"oper_state\") FROM \"$db\".\"$rp\".\"FIUplinkPortStats\" WHERE (\"location\" =~ /^$location$/ AND \"channel\" != '' AND  transport='FC' AND \"oper_speed\" = 16) and $timeFilter GROUP BY time($__interval),domain,fi_id,port) where  $timeFilter GROUP BY time($__interval)",
              "rawQuery": true,
              "refId": "C",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": [
                {
                  "key": "location",
                  "operator": "=~",
                  "value": "/^$location$/"
                },
                {
                  "condition": "AND",
                  "key": "channel",
                  "operator": "!=",
                  "value": " "
                }
              ]
            },
            {
              "alias": "$col",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "measurement": "FIServerPortStats",
              "orderByTime": "ASC",
              "policy": "autogen",
              "query": "select count(last) AS \"32G\" from (SELECT last(\"oper_state\") FROM \"$db\".\"$rp\".\"FIUplinkPortStats\" WHERE (\"location\" =~ /^$location$/ AND \"channel\" != '' AND  transport='FC' AND \"oper_speed\" = 32) and $timeFilter GROUP BY time($__interval),domain,fi_id,port) where  $timeFilter GROUP BY time($__interval)",
              "rawQuery": true,
              "refId": "D",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": [
                {
                  "key": "location",
                  "operator": "=~",
                  "value": "/^$location$/"
                },
                {
                  "condition": "AND",
                  "key": "channel",
                  "operator": "!=",
                  "value": " "
                }
              ]
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "FI Uplink Ports - FC Speed - $location",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": 0,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        },
        {
          "aliasColors": {
            "1 Gbps": "light-purple",
            "10 Gbps": "dark-purple",
            "40 Gbps": "rgb(118, 0, 205)"
          },
          "bars": true,
          "cacheTimeout": null,
          "dashLength": 10,
          "dashes": false,
          "datasource": "$data_source",
          "decimals": 0,
          "fieldConfig": {
            "defaults": {},
            "overrides": []
          },
          "fill": 1,
          "fillGradient": 0,
          "gridPos": {
            "h": 5,
            "w": 5,
            "x": 19,
            "y": 49
          },
          "hiddenSeries": false,
          "id": 155,
          "interval": "[[polling_interval]]s",
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "max": false,
            "min": false,
            "rightSide": true,
            "show": true,
            "total": false,
            "values": true
          },
          "lines": false,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": 3,
          "nullPointMode": "null",
          "options": {
            "alertThreshold": true
          },
          "percentage": false,
          "pluginVersion": "7.5.7",
          "pointradius": 2,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": true,
          "steppedLine": false,
          "targets": [
            {
              "alias": "$col",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "measurement": "FIServerPortStats",
              "orderByTime": "ASC",
              "policy": "autogen",
              "query": "select count(last) AS \"1 Gbps\" from (SELECT last(\"oper_state\") FROM \"$db\".\"$rp\".\"FIServerPortStats\" WHERE (\"location\" =~ /^$location$/  AND \"channel\" != '' AND \"oper_speed\" = 1) and $timeFilter GROUP BY time($__interval),domain,fi_id,port) where $timeFilter GROUP BY time($__interval)",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": [
                {
                  "key": "location",
                  "operator": "=~",
                  "value": "/^$location$/"
                },
                {
                  "condition": "AND",
                  "key": "channel",
                  "operator": "!=",
                  "value": " "
                }
              ]
            },
            {
              "alias": "$col",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "measurement": "FIServerPortStats",
              "orderByTime": "ASC",
              "policy": "autogen",
              "query": "select count(last) AS \"10 Gbps\" from (SELECT last(\"oper_state\") FROM \"$db\".\"$rp\".\"FIServerPortStats\" WHERE (\"location\" =~ /^$location$/  AND \"channel\" != '' AND \"oper_speed\" = 10) and $timeFilter GROUP BY time($__interval),domain,fi_id,port) where $timeFilter GROUP BY time($__interval)",
              "rawQuery": true,
              "refId": "B",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": [
                {
                  "key": "location",
                  "operator": "=~",
                  "value": "/^$location$/"
                },
                {
                  "condition": "AND",
                  "key": "channel",
                  "operator": "!=",
                  "value": " "
                }
              ]
            },
            {
              "alias": "$col",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "measurement": "FIServerPortStats",
              "orderByTime": "ASC",
              "policy": "autogen",
              "query": "select count(last) AS \"40 Gbps\" from (SELECT last(\"oper_state\") FROM \"$db\".\"$rp\".\"FIServerPortStats\" WHERE (\"location\" =~ /^$location$/  AND \"channel\" != '' AND \"oper_speed\" = 40) and $timeFilter GROUP BY time($__interval),domain,fi_id,port) where $timeFilter GROUP BY time($__interval)",
              "rawQuery": true,
              "refId": "C",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": [
                {
                  "key": "location",
                  "operator": "=~",
                  "value": "/^$location$/"
                },
                {
                  "condition": "AND",
                  "key": "channel",
                  "operator": "!=",
                  "value": " "
                }
              ]
            },
            {
              "alias": "$col",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "measurement": "FIServerPortStats",
              "orderByTime": "ASC",
              "policy": "autogen",
              "query": "select count(last) AS \"25 Gbps\" from (SELECT last(\"oper_state\") FROM \"$db\".\"$rp\".\"FIServerPortStats\" WHERE (\"location\" =~ /^$location$/  AND \"channel\" != '' AND \"oper_speed\" = 25) and $timeFilter GROUP BY time($__interval),domain,fi_id,port) where $timeFilter GROUP BY time($__interval)",
              "rawQuery": true,
              "refId": "D",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": [
                {
                  "key": "location",
                  "operator": "=~",
                  "value": "/^$location$/"
                },
                {
                  "condition": "AND",
                  "key": "channel",
                  "operator": "!=",
                  "value": " "
                }
              ]
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "FI Server Ports - Eth Speed - $location",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": 0,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        }
      ],
      "title": "Inventory Trending",
      "type": "row"
    },
    {
      "collapsed": true,
      "datasource": "$data_source",
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 38
      },
      "id": 22,
      "panels": [
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": "$data_source",
          "description": "Combined Ethernet TX/RX traffic across all UCS domains in $location",
          "fieldConfig": {
            "defaults": {},
            "overrides": []
          },
          "fill": 1,
          "fillGradient": 0,
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 11
          },
          "hiddenSeries": false,
          "id": 19,
          "interval": "[[polling_interval]]s",
          "legend": {
            "alignAsTable": true,
            "avg": true,
            "current": false,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "nullPointMode": "connected",
          "options": {
            "alertThreshold": true
          },
          "percentage": false,
          "pluginVersion": "7.5.7",
          "pointradius": 2,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "alias": "$col",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "measurement": "FIUplinkPortStats",
              "orderByTime": "ASC",
              "policy": "default",
              "query": "select sum(RX)*8 as \"Ingress Eth\" from (SELECT max(\"bytes_rx_delta\")/[[polling_interval]] AS \"RX\" FROM \"$db\".\"$rp\".\"FIUplinkPortStats\" WHERE (\"transport\" = 'Eth' AND \"channel\" != '') AND $timeFilter GROUP BY time([[__interval_ms]]ms),domain,fi_id,port) where $timeFilter GROUP BY time([[__interval_ms]]ms)",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "bytes_rx_delta"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "sum"
                  },
                  {
                    "params": [
                      " *8/ [[polling_interval]]"
                    ],
                    "type": "math"
                  }
                ]
              ],
              "tags": [
                {
                  "key": "location",
                  "operator": "=~",
                  "value": "/^$location$/"
                },
                {
                  "condition": "AND",
                  "key": "transport",
                  "operator": "=",
                  "value": "Eth"
                },
                {
                  "condition": "AND",
                  "key": "channel",
                  "operator": "!=",
                  "value": "''"
                }
              ]
            },
            {
              "alias": "$col",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "measurement": "FIUplinkPortStats",
              "orderByTime": "ASC",
              "policy": "default",
              "query": "select sum(TX)*8 as \"Egress Eth\" from (SELECT max(\"bytes_tx_delta\")/[[polling_interval]] AS \"TX\" FROM \"$db\".\"$rp\".\"FIUplinkPortStats\" WHERE (\"transport\" = 'Eth' AND \"channel\" != '') AND $timeFilter GROUP BY time([[__interval_ms]]ms),domain,fi_id,port) where $timeFilter GROUP BY time([[__interval_ms]]ms)",
              "rawQuery": true,
              "refId": "B",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "bytes_rx_delta"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "sum"
                  },
                  {
                    "params": [
                      " *8/ [[polling_interval]]"
                    ],
                    "type": "math"
                  }
                ]
              ],
              "tags": [
                {
                  "key": "location",
                  "operator": "=~",
                  "value": "/^$location$/"
                },
                {
                  "condition": "AND",
                  "key": "transport",
                  "operator": "=",
                  "value": "Eth"
                },
                {
                  "condition": "AND",
                  "key": "channel",
                  "operator": "!=",
                  "value": "''"
                }
              ]
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "Total Traffic Across All Locations and Domains - Eth - $location",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "format": "bps",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": "0",
              "show": true
            },
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": "$data_source",
          "description": "Combined FC TX/RX traffic across all UCS domains in $location",
          "fieldConfig": {
            "defaults": {},
            "overrides": []
          },
          "fill": 1,
          "fillGradient": 0,
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 11
          },
          "hiddenSeries": false,
          "id": 20,
          "interval": "[[polling_interval]]s",
          "legend": {
            "alignAsTable": true,
            "avg": true,
            "current": false,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "nullPointMode": "connected",
          "options": {
            "alertThreshold": true
          },
          "percentage": false,
          "pluginVersion": "7.5.7",
          "pointradius": 2,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "alias": "$col",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "measurement": "FIUplinkPortStats",
              "orderByTime": "ASC",
              "policy": "default",
              "query": "select sum(RX)*8 as \"Ingress FC\" from (SELECT max(\"bytes_rx_delta\")/[[polling_interval]] AS \"RX\" FROM \"$db\".\"$rp\".\"FIUplinkPortStats\" WHERE (\"location\" =~ /^$location$/ and \"transport\" = 'FC' AND \"channel\" != '') AND $timeFilter GROUP BY time([[__interval_ms]]ms),domain,fi_id,port) where $timeFilter GROUP BY time([[__interval_ms]]ms)",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "bytes_rx_delta"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "sum"
                  },
                  {
                    "params": [
                      " *8/ [[polling_interval]]"
                    ],
                    "type": "math"
                  }
                ]
              ],
              "tags": [
                {
                  "key": "location",
                  "operator": "=~",
                  "value": "/^$location$/"
                },
                {
                  "condition": "AND",
                  "key": "transport",
                  "operator": "=",
                  "value": "Eth"
                },
                {
                  "condition": "AND",
                  "key": "channel",
                  "operator": "!=",
                  "value": "''"
                }
              ]
            },
            {
              "alias": "$col",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "hide": false,
              "measurement": "FIUplinkPortStats",
              "orderByTime": "ASC",
              "policy": "default",
              "query": "select sum(TX)*8 as \"Egress FC\" from (SELECT max(\"bytes_tx_delta\")/[[polling_interval]] AS \"TX\" FROM \"$db\".\"$rp\".\"FIUplinkPortStats\" WHERE (\"location\" =~ /^$location$/ and \"transport\" = 'FC' AND \"channel\" != '') AND $timeFilter GROUP BY time([[__interval_ms]]ms),domain,fi_id,port) where $timeFilter GROUP BY time([[__interval_ms]]ms)",
              "rawQuery": true,
              "refId": "B",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "bytes_rx_delta"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "sum"
                  },
                  {
                    "params": [
                      " *8/ [[polling_interval]]"
                    ],
                    "type": "math"
                  }
                ]
              ],
              "tags": [
                {
                  "key": "location",
                  "operator": "=~",
                  "value": "/^$location$/"
                },
                {
                  "condition": "AND",
                  "key": "transport",
                  "operator": "=",
                  "value": "Eth"
                },
                {
                  "condition": "AND",
                  "key": "channel",
                  "operator": "!=",
                  "value": "''"
                }
              ]
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "Total Traffic Across All Locations and Domains - FC - $location",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "format": "bps",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": "0",
              "show": true
            },
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": "$data_source",
          "description": "**Use Case**: Most and least busy locations, AKA top-talker and bottom-talker locations\n\n**How to use**: Monitor the traffic pattern over time in the graph. Sort by clicking on the avg or max.",
          "fieldConfig": {
            "defaults": {},
            "overrides": []
          },
          "fill": 5,
          "fillGradient": 5,
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 19
          },
          "hiddenSeries": false,
          "id": 48,
          "interval": "[[polling_interval]]s",
          "legend": {
            "alignAsTable": true,
            "avg": true,
            "current": false,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "nullPointMode": "null",
          "options": {
            "alertThreshold": true
          },
          "percentage": false,
          "pluginVersion": "7.5.7",
          "pointradius": 2,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "alias": "$tag_location",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "orderByTime": "ASC",
              "policy": "default",
              "query": "select sum(RX)*8 as \"Total RX - Eth\" from (SELECT max(\"bytes_rx_delta\")/[[polling_interval]] AS \"RX\" FROM \"$db\".\"$rp\".\"FIUplinkPortStats\" WHERE (\"location\" =~ /^$location$/ and \"transport\" = 'Eth' AND \"channel\" != '') AND $timeFilter GROUP BY time([[__interval_ms]]ms),domain,fi_id,port,location) where $timeFilter GROUP BY time([[__interval_ms]]ms),location",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": []
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "Traffic Per Location - Ingress Eth - $location",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "format": "bps",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": "$data_source",
          "description": "**Use Case**: Most and least busy locations, AKA top-talker and bottom-talker locations\n\n**How to use**: Monitor the traffic pattern over time in the graph. Sort by clicking on the avg or max.",
          "fieldConfig": {
            "defaults": {},
            "overrides": []
          },
          "fill": 5,
          "fillGradient": 5,
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 19
          },
          "hiddenSeries": false,
          "id": 46,
          "interval": "[[polling_interval]]s",
          "legend": {
            "alignAsTable": true,
            "avg": true,
            "current": false,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "nullPointMode": "connected",
          "options": {
            "alertThreshold": true
          },
          "percentage": false,
          "pluginVersion": "7.5.7",
          "pointradius": 2,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "alias": "$tag_location",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "orderByTime": "ASC",
              "policy": "default",
              "query": "select sum(RX)*8 as \"Total RX - FC\" from (SELECT max(\"bytes_rx_delta\")/[[polling_interval]] AS \"RX\" FROM \"$db\".\"$rp\".\"FIUplinkPortStats\" WHERE (\"location\" =~ /^$location$/ and \"transport\" = 'FC' AND \"channel\" != '') AND $timeFilter GROUP BY time([[__interval_ms]]ms),domain,fi_id,port,location) where $timeFilter GROUP BY time([[__interval_ms]]ms),location",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": []
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "Traffic Per Location - Ingress FC - $location",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "format": "bps",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": "$data_source",
          "description": "**Use Case**: Most and least busy locations, AKA top-talker and bottom-talker locations\n\n**How to use**: Monitor the traffic pattern over time in the graph. Sort by clicking on the avg or max.",
          "fieldConfig": {
            "defaults": {},
            "overrides": []
          },
          "fill": 5,
          "fillGradient": 5,
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 27
          },
          "hiddenSeries": false,
          "id": 49,
          "interval": "[[polling_interval]]s",
          "legend": {
            "alignAsTable": true,
            "avg": true,
            "current": false,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "nullPointMode": "connected",
          "options": {
            "alertThreshold": true
          },
          "percentage": false,
          "pluginVersion": "7.5.7",
          "pointradius": 2,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "alias": "$tag_location",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "orderByTime": "ASC",
              "policy": "default",
              "query": "select sum(TX)*8 as \"Total TX - Eth\" from (SELECT max(\"bytes_tx_delta\")/[[polling_interval]] AS \"TX\" FROM \"$db\".\"$rp\".\"FIUplinkPortStats\" WHERE (\"location\" =~ /^$location$/ and \"transport\" = 'Eth' AND \"channel\" != '') AND $timeFilter GROUP BY time([[__interval_ms]]ms),domain,fi_id,port,location) where $timeFilter GROUP BY time([[__interval_ms]]ms),location",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": []
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "Traffic Per Location - Egress Eth - $location",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "format": "bps",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": "0",
              "show": true
            },
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": "$data_source",
          "description": "**Use Case**: Most and least busy locations, AKA top-talker and bottom-talker locations\n\n**How to use**: Monitor the traffic pattern over time in the graph. Sort by clicking on the avg or max.",
          "fieldConfig": {
            "defaults": {},
            "overrides": []
          },
          "fill": 5,
          "fillGradient": 5,
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 27
          },
          "hiddenSeries": false,
          "id": 47,
          "interval": "[[polling_interval]]s",
          "legend": {
            "alignAsTable": true,
            "avg": true,
            "current": false,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "nullPointMode": "connected",
          "options": {
            "alertThreshold": true
          },
          "percentage": false,
          "pluginVersion": "7.5.7",
          "pointradius": 2,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "alias": "$tag_location",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "orderByTime": "ASC",
              "policy": "default",
              "query": "select sum(TX)*8 as \"Total TX - FC\" from (SELECT max(\"bytes_tx_delta\")/[[polling_interval]] AS \"TX\" FROM \"$db\".\"$rp\".\"FIUplinkPortStats\" WHERE (\"location\" =~ /^$location$/ and \"transport\" = 'FC' AND \"channel\" != '') AND $timeFilter GROUP BY time([[__interval_ms]]ms),domain,fi_id,port,location) where $timeFilter GROUP BY time([[__interval_ms]]ms),location",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": []
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "Traffic Per Location - Egress FC - $location",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "format": "bps",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": "0",
              "show": true
            },
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        }
      ],
      "title": "Traffic - Location",
      "type": "row"
    },
    {
      "collapsed": true,
      "datasource": "$data_source",
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 39
      },
      "id": 63,
      "panels": [
        {
          "aliasColors": {
            "Eth RX Traffic 172.25.174.41": "light-blue",
            "LAN RX Traffic 172.25.174.41": "light-blue"
          },
          "bars": true,
          "dashLength": 10,
          "dashes": false,
          "datasource": "$data_source",
          "description": "**Use Case**: Most and least busy UCS domains, AKA top-talker and bottom-talker domains\n\n**How to use**: Monitor the traffic pattern over time in the graph. Sort by clicking on the avg or max.",
          "fieldConfig": {
            "defaults": {},
            "overrides": []
          },
          "fill": 5,
          "fillGradient": 5,
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 12
          },
          "hiddenSeries": false,
          "id": 53,
          "interval": "[[polling_interval]]s",
          "legend": {
            "alignAsTable": true,
            "avg": true,
            "current": false,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": false,
          "linewidth": 1,
          "links": [],
          "nullPointMode": "null",
          "options": {
            "alertThreshold": true
          },
          "percentage": false,
          "pluginVersion": "7.5.7",
          "pointradius": 2,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "alias": "$tag_domain",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "hide": false,
              "orderByTime": "ASC",
              "policy": "default",
              "query": "select sum(RX)*8 as \"Total RX - Eth\" from (SELECT max(\"bytes_rx_delta\")/[[polling_interval]] AS \"RX\" FROM \"$db\".\"$rp\".\"FIUplinkPortStats\" WHERE (\"location\" =~ /^$location$/ and \"transport\" = 'Eth' AND \"channel\" != '') AND $timeFilter GROUP BY time([[__interval_ms]]ms),domain,fi_id,port) where $timeFilter GROUP BY time([[__interval_ms]]ms),domain",
              "rawQuery": true,
              "refId": "B",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": []
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "Traffic Per Domain - Ingress Eth - $location",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "format": "bps",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": "0",
              "show": true
            },
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        },
        {
          "aliasColors": {},
          "bars": true,
          "dashLength": 10,
          "dashes": false,
          "datasource": "$data_source",
          "description": "**Use Case**: Most and least busy UCS domains, AKA top-talker and bottom-talker domains\n\n**How to use**: Monitor the traffic pattern over time in the graph. Sort by clicking on the avg or max.",
          "fieldConfig": {
            "defaults": {},
            "overrides": []
          },
          "fill": 5,
          "fillGradient": 5,
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 12
          },
          "hiddenSeries": false,
          "id": 51,
          "interval": "[[polling_interval]]s",
          "legend": {
            "alignAsTable": true,
            "avg": true,
            "current": false,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": false,
          "linewidth": 1,
          "links": [],
          "nullPointMode": "connected",
          "options": {
            "alertThreshold": true
          },
          "percentage": false,
          "pluginVersion": "7.5.7",
          "pointradius": 2,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "alias": "$tag_domain",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "orderByTime": "ASC",
              "policy": "default",
              "query": "select sum(RX)*8 as \"Total RX - FC\" from (SELECT max(\"bytes_rx_delta\")/[[polling_interval]] AS \"RX\" FROM \"$db\".\"$rp\".\"FIUplinkPortStats\" WHERE (\"location\" =~ /^$location$/ and \"transport\" = 'FC' AND \"channel\" != '') AND $timeFilter GROUP BY time([[__interval_ms]]ms),domain,fi_id,port) where $timeFilter GROUP BY time([[__interval_ms]]ms),domain",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": []
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "Traffic Per Domain - Ingress FC - $location",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "format": "bps",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": "0",
              "show": true
            },
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        },
        {
          "aliasColors": {
            "Eth TX Traffic 172.25.174.41": "light-blue",
            "LAN TX Traffic 172.25.174.41": "light-blue"
          },
          "bars": true,
          "dashLength": 10,
          "dashes": false,
          "datasource": "$data_source",
          "description": "**Use Case**: Most and least busy UCS domains, AKA top-talker and bottom-talker domains\n\n**How to use**: Monitor the traffic pattern over time in the graph. Sort by clicking on the avg or max.",
          "fieldConfig": {
            "defaults": {},
            "overrides": []
          },
          "fill": 5,
          "fillGradient": 5,
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 20
          },
          "hiddenSeries": false,
          "id": 52,
          "interval": "[[polling_interval]]s",
          "legend": {
            "alignAsTable": true,
            "avg": true,
            "current": false,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": false,
          "linewidth": 1,
          "links": [],
          "nullPointMode": "connected",
          "options": {
            "alertThreshold": true
          },
          "percentage": false,
          "pluginVersion": "7.5.7",
          "pointradius": 2,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "alias": "$tag_domain",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "orderByTime": "ASC",
              "policy": "default",
              "query": "select sum(TX)*8 as \"Total TX - Eth\" from (SELECT max(\"bytes_tx_delta\")/[[polling_interval]] AS \"TX\" FROM \"$db\".\"$rp\".\"FIUplinkPortStats\" WHERE (\"location\" =~ /^$location$/ and \"transport\" = 'Eth' AND \"channel\" != '') AND $timeFilter GROUP BY time([[__interval_ms]]ms),domain,fi_id,port) where $timeFilter GROUP BY time([[__interval_ms]]ms),domain",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": []
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "Traffic Per Domain - Egress Eth - $location",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "format": "bps",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": "0",
              "show": true
            },
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        },
        {
          "aliasColors": {},
          "bars": true,
          "dashLength": 10,
          "dashes": false,
          "datasource": "$data_source",
          "description": "**Use Case**: Most and least busy UCS domains, AKA top-talker and bottom-talker domains\n\n**How to use**: Monitor the traffic pattern over time in the graph. Sort by clicking on the avg or max.",
          "fieldConfig": {
            "defaults": {},
            "overrides": []
          },
          "fill": 1,
          "fillGradient": 0,
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 20
          },
          "hiddenSeries": false,
          "id": 50,
          "interval": "[[polling_interval]]s",
          "legend": {
            "alignAsTable": true,
            "avg": true,
            "current": false,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": false,
          "linewidth": 1,
          "links": [],
          "nullPointMode": "connected",
          "options": {
            "alertThreshold": true
          },
          "percentage": false,
          "pluginVersion": "7.5.7",
          "pointradius": 2,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "alias": "$tag_domain",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "orderByTime": "ASC",
              "policy": "default",
              "query": "select sum(TX)*8 as \"Total TX - FC\" from (SELECT max(\"bytes_tx_delta\")/[[polling_interval]] AS \"TX\" FROM \"$db\".\"$rp\".\"FIUplinkPortStats\" WHERE (\"location\" =~ /^$location$/ and \"transport\" = 'FC' AND \"channel\" != '') AND $timeFilter GROUP BY time([[__interval_ms]]ms),domain,fi_id,port) where $timeFilter GROUP BY time([[__interval_ms]]ms),domain",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": []
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "Traffic Per Domain - Egress FC - $location",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "format": "bps",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": "0",
              "show": true
            },
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        }
      ],
      "title": "Traffic - Domain",
      "type": "row"
    },
    {
      "collapsed": true,
      "datasource": "$data_source",
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 40
      },
      "id": 65,
      "panels": [
        {
          "aliasColors": {},
          "bars": true,
          "dashLength": 10,
          "dashes": false,
          "datasource": "$data_source",
          "description": "**Use Case**: Most and least busy UCS chassis, AKA top-talker and bottom-talker chassis\n\n**How to use**: Monitor the traffic pattern over time in the graph. Sort by clicking on the avg or max.",
          "fieldConfig": {
            "defaults": {},
            "overrides": []
          },
          "fill": 1,
          "fillGradient": 0,
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 13
          },
          "hiddenSeries": false,
          "id": 56,
          "interval": "[[polling_interval]]s",
          "legend": {
            "alignAsTable": true,
            "avg": true,
            "current": false,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": false,
          "linewidth": 1,
          "links": [],
          "nullPointMode": "connected",
          "options": {
            "alertThreshold": true
          },
          "percentage": false,
          "pluginVersion": "7.5.7",
          "pointradius": 2,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "alias": "$tag_domain $tag_chassis",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "orderByTime": "ASC",
              "policy": "default",
              "query": "select sum(RX)*8 as \"Total RX - Eth\" from (SELECT max(\"bytes_rx_delta\")/[[polling_interval]] AS \"RX\" FROM \"$db\".\"$rp\".\"VnicStats\" WHERE (\"location\" =~ /^$location$/ and \"transport\" = 'Eth') AND $timeFilter GROUP BY time([[__interval_ms]]ms),domain,chassis,service_profile,vif_name) where $timeFilter GROUP BY time([[__interval_ms]]ms),chassis,domain",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": []
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "Traffic Per Chassis -  Ingress Eth - $location",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "format": "bps",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": "0",
              "show": true
            },
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        },
        {
          "aliasColors": {},
          "bars": true,
          "dashLength": 10,
          "dashes": false,
          "datasource": "$data_source",
          "description": "**Use Case**: Most and least busy UCS chassis, AKA top-talker and bottom-talker chassis\n\n**How to use**: Monitor the traffic pattern over time in the graph. Sort by clicking on the avg or max.",
          "fieldConfig": {
            "defaults": {},
            "overrides": []
          },
          "fill": 1,
          "fillGradient": 0,
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 13
          },
          "hiddenSeries": false,
          "id": 55,
          "interval": "[[polling_interval]]s",
          "legend": {
            "alignAsTable": true,
            "avg": true,
            "current": false,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": false,
          "linewidth": 1,
          "links": [],
          "nullPointMode": "connected",
          "options": {
            "alertThreshold": true
          },
          "percentage": false,
          "pluginVersion": "7.5.7",
          "pointradius": 2,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "alias": "$tag_domain $tag_chassis",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "orderByTime": "ASC",
              "policy": "default",
              "query": "select sum(RX)*8 as \"Total RX - FC\" from (SELECT max(\"bytes_rx_delta\")/[[polling_interval]] AS \"RX\" FROM \"$db\".\"$rp\".\"VnicStats\" WHERE (\"location\" =~ /^$location$/ and \"transport\" = 'FC') AND $timeFilter GROUP BY time([[__interval_ms]]ms),domain,chassis,service_profile,vif_name) where $timeFilter GROUP BY time([[__interval_ms]]ms),domain,chassis",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": []
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "Traffic Per Chassis -  Ingress FC - $location",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "format": "bps",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": "0",
              "show": true
            },
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        },
        {
          "aliasColors": {},
          "bars": true,
          "dashLength": 10,
          "dashes": false,
          "datasource": "$data_source",
          "description": "**Use Case**: Most and least busy UCS chassis, AKA top-talker and bottom-talker chassis\n\n**How to use**: Monitor the traffic pattern over time in the graph. Sort by clicking on the avg or max.",
          "fieldConfig": {
            "defaults": {},
            "overrides": []
          },
          "fill": 1,
          "fillGradient": 0,
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 21
          },
          "hiddenSeries": false,
          "id": 57,
          "interval": "[[polling_interval]]s",
          "legend": {
            "alignAsTable": true,
            "avg": true,
            "current": false,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": false,
          "linewidth": 1,
          "links": [],
          "nullPointMode": "connected",
          "options": {
            "alertThreshold": true
          },
          "percentage": false,
          "pluginVersion": "7.5.7",
          "pointradius": 2,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "alias": "$tag_domain $tag_chassis",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "orderByTime": "ASC",
              "policy": "default",
              "query": "select sum(TX)*8 as \"Total TX - Eth\" from (SELECT max(\"bytes_tx_delta\")/[[polling_interval]] AS \"TX\" FROM \"$db\".\"$rp\".\"VnicStats\" WHERE (\"location\" =~ /^$location$/ and \"transport\" = 'Eth') AND $timeFilter GROUP BY time([[__interval_ms]]ms),domain,chassis,service_profile_vif_name) where $timeFilter GROUP BY time([[__interval_ms]]ms),domain,chassis",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": []
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "Traffic Per Chassis -  Egress Eth - $location",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "format": "bps",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": "0",
              "show": true
            },
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        },
        {
          "aliasColors": {},
          "bars": true,
          "dashLength": 10,
          "dashes": false,
          "datasource": "$data_source",
          "description": "**Use Case**: Most and least busy UCS chassis, AKA top-talker and bottom-talker chassis\n\n**How to use**: Monitor the traffic pattern over time in the graph. Sort by clicking on the avg or max.",
          "fieldConfig": {
            "defaults": {},
            "overrides": []
          },
          "fill": 1,
          "fillGradient": 0,
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 21
          },
          "hiddenSeries": false,
          "id": 54,
          "interval": "[[polling_interval]]s",
          "legend": {
            "alignAsTable": true,
            "avg": true,
            "current": false,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": false,
          "linewidth": 1,
          "links": [],
          "nullPointMode": "connected",
          "options": {
            "alertThreshold": true
          },
          "percentage": false,
          "pluginVersion": "7.5.7",
          "pointradius": 2,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "alias": "$tag_domain $tag_chassis",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "orderByTime": "ASC",
              "policy": "default",
              "query": "select sum(TX)*8 as \"Total TX - FC\" from (SELECT max(\"bytes_tx_delta\")/[[polling_interval]] AS \"TX\" FROM \"$db\".\"$rp\".\"VnicStats\" WHERE (\"location\" =~ /^$location$/ and \"transport\" = 'FC') AND $timeFilter GROUP BY time([[__interval_ms]]ms),domain,chassis,service_profile,vif_name) where $timeFilter GROUP BY time([[__interval_ms]]ms),domain,chassis",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": []
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "Traffic Per Chassis -  Egress FC - $location",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "format": "bps",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": "0",
              "show": true
            },
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        }
      ],
      "title": "Traffic - Chassis",
      "type": "row"
    },
    {
      "collapsed": true,
      "datasource": "$data_source",
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 41
      },
      "id": 67,
      "panels": [
        {
          "aliasColors": {},
          "bars": true,
          "dashLength": 10,
          "dashes": false,
          "datasource": "$data_source",
          "description": "**Use Case**: Most and least busy service profiles, AKA top-talker and bottom-talker servers\n\n**How to use**: Monitor the traffic pattern over time in the graph. Sort by clicking on the avg or max.",
          "fieldConfig": {
            "defaults": {},
            "overrides": []
          },
          "fill": 1,
          "fillGradient": 0,
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 14
          },
          "hiddenSeries": false,
          "id": 60,
          "interval": "[[polling_interval]]s",
          "legend": {
            "alignAsTable": true,
            "avg": true,
            "current": false,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": false,
          "linewidth": 1,
          "links": [],
          "nullPointMode": "connected",
          "options": {
            "alertThreshold": true
          },
          "percentage": false,
          "pluginVersion": "7.5.7",
          "pointradius": 2,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "alias": "$tag_service_profile",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "hide": false,
              "orderByTime": "ASC",
              "policy": "default",
              "query": "select sum(RX)*8 as \"Total RX - Eth\" from (SELECT max(\"bytes_rx_delta\")/[[polling_interval]] AS \"RX\" FROM \"$db\".\"$rp\".\"VnicStats\" WHERE (\"location\" =~ /^$location$/ and \"transport\" = 'Eth') AND $timeFilter GROUP BY time([[__interval_ms]]ms),domain,chassis,service_profile,vif_name) where $timeFilter GROUP BY time([[__interval_ms]]ms),service_profile",
              "rawQuery": true,
              "refId": "B",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": []
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "Traffic Per Server - Ingress Eth - $location",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "format": "bps",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": "0",
              "show": true
            },
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        },
        {
          "aliasColors": {},
          "bars": true,
          "dashLength": 10,
          "dashes": false,
          "datasource": "$data_source",
          "description": "**Use Case**: Most and least busy service profiles, AKA top-talker and bottom-talker servers\n\n**How to use**: Monitor the traffic pattern over time in the graph. Sort by clicking on the avg or max.",
          "fieldConfig": {
            "defaults": {},
            "overrides": []
          },
          "fill": 1,
          "fillGradient": 0,
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 14
          },
          "hiddenSeries": false,
          "id": 59,
          "interval": "[[polling_interval]]s",
          "legend": {
            "alignAsTable": true,
            "avg": true,
            "current": false,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": false,
          "linewidth": 1,
          "links": [],
          "nullPointMode": "connected",
          "options": {
            "alertThreshold": true
          },
          "percentage": false,
          "pluginVersion": "7.5.7",
          "pointradius": 2,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "alias": "$tag_service_profile",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "hide": false,
              "orderByTime": "ASC",
              "policy": "default",
              "query": "select sum(RX)*8 as \"Total RX - FC\" from (SELECT max(\"bytes_rx_delta\")/[[polling_interval]] AS \"RX\" FROM \"$db\".\"$rp\".\"VnicStats\" WHERE (\"location\" =~ /^$location$/ and \"transport\" = 'FC') AND $timeFilter GROUP BY time([[__interval_ms]]ms),domain,chassis,service_profile,vif_name) where $timeFilter GROUP BY time([[__interval_ms]]ms),service_profile",
              "rawQuery": true,
              "refId": "B",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": []
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "Traffic Per Server - Ingress FC - $location",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "format": "bps",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": "0",
              "show": true
            },
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        },
        {
          "aliasColors": {},
          "bars": true,
          "dashLength": 10,
          "dashes": false,
          "datasource": "$data_source",
          "description": "**Use Case**: Most and least busy service profiles, AKA top-talker and bottom-talker servers\n\n**How to use**: Monitor the traffic pattern over time in the graph. Sort by clicking on the avg or max.",
          "fieldConfig": {
            "defaults": {},
            "overrides": []
          },
          "fill": 1,
          "fillGradient": 0,
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 22
          },
          "hiddenSeries": false,
          "id": 61,
          "interval": "[[polling_interval]]s",
          "legend": {
            "alignAsTable": true,
            "avg": true,
            "current": false,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": false,
          "linewidth": 1,
          "links": [],
          "nullPointMode": "connected",
          "options": {
            "alertThreshold": true
          },
          "percentage": false,
          "pluginVersion": "7.5.7",
          "pointradius": 2,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "alias": "$tag_service_profile",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "hide": false,
              "orderByTime": "ASC",
              "policy": "default",
              "query": "select sum(TX)*8 as \"Total TX - Eth\" from (SELECT max(\"bytes_tx_delta\")/[[polling_interval]] AS \"TX\" FROM \"$db\".\"$rp\".\"VnicStats\" WHERE (\"location\" =~ /^$location$/ and \"transport\" = 'Eth') AND $timeFilter GROUP BY time([[__interval_ms]]ms),domain,chassis,service_profile_vif_name) where $timeFilter GROUP BY time([[__interval_ms]]ms),service_profile",
              "rawQuery": true,
              "refId": "B",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": []
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "Traffic Per Server - Egress Eth - $location",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "format": "bps",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": "0",
              "show": true
            },
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        },
        {
          "aliasColors": {},
          "bars": true,
          "dashLength": 10,
          "dashes": false,
          "datasource": "$data_source",
          "description": "**Use Case**: Most and least busy service profiles, AKA top-talker and bottom-talker servers\n\n**How to use**: Monitor the traffic pattern over time in the graph. Sort by clicking on the avg or max.",
          "fieldConfig": {
            "defaults": {},
            "overrides": []
          },
          "fill": 1,
          "fillGradient": 0,
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 22
          },
          "hiddenSeries": false,
          "id": 58,
          "interval": "[[polling_interval]]s",
          "legend": {
            "alignAsTable": true,
            "avg": true,
            "current": false,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": false,
          "linewidth": 1,
          "links": [],
          "nullPointMode": "connected",
          "options": {
            "alertThreshold": true
          },
          "percentage": false,
          "pluginVersion": "7.5.7",
          "pointradius": 2,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "alias": "$tag_service_profile",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "hide": false,
              "orderByTime": "ASC",
              "policy": "default",
              "query": "select sum(TX)*8 as \"Total TX - FC\" from (SELECT max(\"bytes_tx_delta\")/[[polling_interval]] AS \"TX\" FROM \"$db\".\"$rp\".\"VnicStats\" WHERE (\"location\" =~ /^$location$/ and \"transport\" = 'FC') AND $timeFilter GROUP BY time([[__interval_ms]]ms),domain,chassis,service_profile,vif_name) where $timeFilter GROUP BY time([[__interval_ms]]ms),service_profile",
              "rawQuery": true,
              "refId": "B",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": []
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "Traffic Per Server - Egress FC - $location",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "format": "bps",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": "0",
              "show": true
            },
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        }
      ],
      "title": "Traffic - Server",
      "type": "row"
    },
    {
      "collapsed": true,
      "datasource": "$data_source",
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 42
      },
      "id": 92,
      "panels": [
        {
          "cacheTimeout": null,
          "datasource": "$data_source",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "continuous-BlYlRd"
              },
              "custom": {
                "align": "left",
                "filterable": false
              },
              "decimals": 0,
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  }
                ]
              },
              "unit": "short"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "FCS"
                },
                "properties": [
                  {
                    "id": "custom.displayMode",
                    "value": "gradient-gauge"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "Domain"
                },
                "properties": [
                  {
                    "id": "links",
                    "value": [
                      {
                        "targetBlank": false,
                        "title": "Traffic monitoring of UCS domain ${__value.raw}",
                        "url": "d/W7LSukHWz/ucs-domain-traffic?orgId=1&var-domain=${__value.raw}&${__url_time_range}"
                      }
                    ]
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "FI"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 60
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "Port"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 80
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 12,
            "w": 6,
            "x": 0,
            "y": 15
          },
          "id": 168,
          "interval": "[[polling_interval]]s",
          "links": [],
          "options": {
            "showHeader": true,
            "sortBy": [
              {
                "desc": true,
                "displayName": "FCS"
              }
            ]
          },
          "pluginVersion": "7.5.7",
          "repeat": "fi_id",
          "repeatDirection": "h",
          "targets": [
            {
              "aggregation": "Last",
              "alias": "",
              "decimals": 2,
              "displayAliasType": "Warning / Critical",
              "displayType": "Regular",
              "displayValueWithAlias": "Never",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "orderByTime": "ASC",
              "policy": "default",
              "query": "select top(\"FCS\",domain,fi_id,port,10) as \"FCS\" from (SELECT sum(\"fcs_delta\") as \"FCS\" FROM \"$db\".\"$rp\".\"FIUplinkPortStats\" WHERE (\"location\" =~ /^$location$/ and \"transport\" = 'Eth' AND \"channel\" != '') AND $timeFilter GROUP BY domain,fi_id,port) where $timeFilter",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "table",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": [],
              "units": "none",
              "valueHandler": "Number Threshold"
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "Top 10 FI Uplink Ports - FCS - Eth - $location",
          "transformations": [
            {
              "id": "filterFieldsByName",
              "options": {
                "include": {
                  "names": [
                    "domain",
                    "fi_id",
                    "port",
                    "FCS"
                  ]
                }
              }
            },
            {
              "id": "organize",
              "options": {
                "excludeByName": {},
                "indexByName": {
                  "FCS": 3,
                  "domain": 0,
                  "fi_id": 1,
                  "port": 2
                },
                "renameByName": {
                  "domain": "Domain",
                  "fi_id": "FI",
                  "port": "Port"
                }
              }
            }
          ],
          "type": "table"
        },
        {
          "cacheTimeout": null,
          "datasource": "$data_source",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "continuous-BlYlRd"
              },
              "custom": {
                "align": "left",
                "filterable": false
              },
              "decimals": 0,
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  }
                ]
              },
              "unit": "short"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "Out Discards"
                },
                "properties": [
                  {
                    "id": "custom.displayMode",
                    "value": "gradient-gauge"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "Domain"
                },
                "properties": [
                  {
                    "id": "links",
                    "value": [
                      {
                        "targetBlank": false,
                        "title": "Traffic monitoring of UCS domain ${__value.raw}",
                        "url": "d/W7LSukHWz/ucs-domain-traffic?orgId=1&var-domain=${__value.raw}&${__url_time_range}"
                      }
                    ]
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "FI"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 60
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "Port"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 80
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 12,
            "w": 6,
            "x": 6,
            "y": 15
          },
          "id": 169,
          "interval": "[[polling_interval]]s",
          "links": [],
          "options": {
            "showHeader": true,
            "sortBy": [
              {
                "desc": true,
                "displayName": "FCS"
              }
            ]
          },
          "pluginVersion": "7.5.7",
          "repeatDirection": "h",
          "targets": [
            {
              "aggregation": "Last",
              "alias": "",
              "decimals": 2,
              "displayAliasType": "Warning / Critical",
              "displayType": "Regular",
              "displayValueWithAlias": "Never",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "orderByTime": "ASC",
              "policy": "default",
              "query": "select top(\"Out Discards\",domain,fi_id,port,10) as \"Out Discards\" from (SELECT sum(\"out_discard_delta\") as \"Out Discards\" FROM \"$db\".\"$rp\".\"FIUplinkPortStats\" WHERE (\"location\" =~ /^$location$/ and \"transport\" = 'Eth' AND \"channel\" != '') AND $timeFilter GROUP BY domain,fi_id,port) where $timeFilter",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "table",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": [],
              "units": "none",
              "valueHandler": "Number Threshold"
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "Top 10 FI Uplink Ports - Out Discards - Eth - $location",
          "transformations": [
            {
              "id": "filterFieldsByName",
              "options": {
                "include": {
                  "names": [
                    "domain",
                    "fi_id",
                    "port",
                    "Out Discards"
                  ]
                }
              }
            },
            {
              "id": "organize",
              "options": {
                "excludeByName": {},
                "indexByName": {
                  "FCS": 3,
                  "domain": 0,
                  "fi_id": 1,
                  "port": 2
                },
                "renameByName": {
                  "domain": "Domain",
                  "fi_id": "FI",
                  "port": "Port"
                }
              }
            }
          ],
          "type": "table"
        },
        {
          "cacheTimeout": null,
          "datasource": "$data_source",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "continuous-BlYlRd"
              },
              "custom": {
                "align": "left",
                "filterable": false
              },
              "decimals": 0,
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  }
                ]
              },
              "unit": "short"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "FC CRC"
                },
                "properties": [
                  {
                    "id": "custom.displayMode",
                    "value": "gradient-gauge"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "Domain"
                },
                "properties": [
                  {
                    "id": "links",
                    "value": [
                      {
                        "targetBlank": false,
                        "title": "Traffic monitoring of UCS domain ${__value.raw}",
                        "url": "d/W7LSukHWz/ucs-domain-traffic?orgId=1&var-domain=${__value.raw}&${__url_time_range}"
                      }
                    ]
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "FI"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 60
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "Port"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 80
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 12,
            "w": 6,
            "x": 12,
            "y": 15
          },
          "id": 172,
          "interval": "[[polling_interval]]s",
          "links": [],
          "options": {
            "showHeader": true,
            "sortBy": [
              {
                "desc": true,
                "displayName": "FCS"
              }
            ]
          },
          "pluginVersion": "7.5.7",
          "repeatDirection": "h",
          "targets": [
            {
              "aggregation": "Last",
              "alias": "",
              "decimals": 2,
              "displayAliasType": "Warning / Critical",
              "displayType": "Regular",
              "displayValueWithAlias": "Never",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "orderByTime": "ASC",
              "policy": "default",
              "query": "select top(\"sum\",domain,fi_id,port,10) as \"FC CRC\" from (SELECT sum(\"crc_rx_delta\")  FROM \"$db\".\"$rp\".\"FIUplinkPortStats\" WHERE (\"location\" =~ /^$location$/ and \"transport\" = 'FC' AND \"channel\" != '') AND $timeFilter GROUP BY domain,fi_id,port) where $timeFilter",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "table",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": [],
              "units": "none",
              "valueHandler": "Number Threshold"
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "Top 10 FI Uplink Ports - CRC - FC - $location",
          "transformations": [
            {
              "id": "filterFieldsByName",
              "options": {
                "include": {
                  "names": [
                    "domain",
                    "fi_id",
                    "port",
                    "FC CRC"
                  ]
                }
              }
            },
            {
              "id": "organize",
              "options": {
                "excludeByName": {},
                "indexByName": {
                  "FCS": 3,
                  "domain": 0,
                  "fi_id": 1,
                  "port": 2
                },
                "renameByName": {
                  "domain": "Domain",
                  "fi_id": "FI",
                  "port": "Port"
                }
              }
            }
          ],
          "type": "table"
        },
        {
          "cacheTimeout": null,
          "datasource": "$data_source",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "continuous-BlYlRd"
              },
              "custom": {
                "align": "left",
                "filterable": false
              },
              "decimals": 0,
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  }
                ]
              },
              "unit": "short"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "FC RX Discards"
                },
                "properties": [
                  {
                    "id": "custom.displayMode",
                    "value": "gradient-gauge"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "Domain"
                },
                "properties": [
                  {
                    "id": "links",
                    "value": [
                      {
                        "targetBlank": false,
                        "title": "Traffic monitoring of UCS domain ${__value.raw}",
                        "url": "d/W7LSukHWz/ucs-domain-traffic?orgId=1&var-domain=${__value.raw}&${__url_time_range}"
                      }
                    ]
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "FI"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 60
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "Port"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 80
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 12,
            "w": 6,
            "x": 18,
            "y": 15
          },
          "id": 173,
          "interval": "[[polling_interval]]s",
          "links": [],
          "options": {
            "showHeader": true,
            "sortBy": [
              {
                "desc": true,
                "displayName": "FCS"
              }
            ]
          },
          "pluginVersion": "7.5.7",
          "repeatDirection": "h",
          "targets": [
            {
              "aggregation": "Last",
              "alias": "",
              "decimals": 2,
              "displayAliasType": "Warning / Critical",
              "displayType": "Regular",
              "displayValueWithAlias": "Never",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "orderByTime": "ASC",
              "policy": "default",
              "query": "select top(\"sum\",domain,fi_id,port,10) as \"FC RX Discards\" from (SELECT sum(\"discard_rx_delta\")  FROM \"$db\".\"$rp\".\"FIUplinkPortStats\" WHERE (\"location\" =~ /^$location$/ and \"transport\" = 'FC' AND \"channel\" != '') AND $timeFilter GROUP BY domain,fi_id,port) where $timeFilter",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "table",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": [],
              "units": "none",
              "valueHandler": "Number Threshold"
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "Top 10 FI Uplink Ports - RX Discards - FC - $location",
          "transformations": [
            {
              "id": "filterFieldsByName",
              "options": {
                "include": {
                  "names": [
                    "domain",
                    "fi_id",
                    "port",
                    "FC RX Discards"
                  ]
                }
              }
            },
            {
              "id": "organize",
              "options": {
                "excludeByName": {},
                "indexByName": {
                  "FCS": 3,
                  "domain": 0,
                  "fi_id": 1,
                  "port": 2
                },
                "renameByName": {
                  "domain": "Domain",
                  "fi_id": "FI",
                  "port": "Port"
                }
              }
            }
          ],
          "type": "table"
        },
        {
          "cacheTimeout": null,
          "datasource": "$data_source",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "continuous-BlYlRd"
              },
              "custom": {
                "align": "left",
                "filterable": false
              },
              "decimals": 0,
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  }
                ]
              },
              "unit": "short"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "FCS"
                },
                "properties": [
                  {
                    "id": "custom.displayMode",
                    "value": "gradient-gauge"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "Domain"
                },
                "properties": [
                  {
                    "id": "links",
                    "value": [
                      {
                        "targetBlank": false,
                        "title": "Traffic monitoring of UCS domain ${__value.raw}",
                        "url": "d/W7LSukHWz/ucs-domain-traffic?orgId=1&var-domain=${__value.raw}&${__url_time_range}"
                      }
                    ]
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "FI"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 60
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "Port"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 80
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 12,
            "w": 6,
            "x": 0,
            "y": 27
          },
          "id": 170,
          "interval": "[[polling_interval]]s",
          "links": [],
          "options": {
            "showHeader": true,
            "sortBy": [
              {
                "desc": true,
                "displayName": "FCS"
              }
            ]
          },
          "pluginVersion": "7.5.7",
          "repeatDirection": "h",
          "targets": [
            {
              "aggregation": "Last",
              "alias": "",
              "decimals": 2,
              "displayAliasType": "Warning / Critical",
              "displayType": "Regular",
              "displayValueWithAlias": "Never",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "orderByTime": "ASC",
              "policy": "default",
              "query": "select top(\"FCS\",domain,fi_id,port,10) as \"FCS\" from (SELECT sum(\"fcs_delta\") as \"FCS\" FROM \"$db\".\"$rp\".\"FIServerPortStats\" WHERE (\"location\" =~ /^$location$/ and \"transport\" = 'Eth' AND \"channel\" != '') AND $timeFilter GROUP BY domain,fi_id,port) where $timeFilter",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "table",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": [],
              "units": "none",
              "valueHandler": "Number Threshold"
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "Top 10 FI Server Ports - FCS - Eth - $location",
          "transformations": [
            {
              "id": "filterFieldsByName",
              "options": {
                "include": {
                  "names": [
                    "domain",
                    "fi_id",
                    "port",
                    "FCS"
                  ]
                }
              }
            },
            {
              "id": "organize",
              "options": {
                "excludeByName": {},
                "indexByName": {
                  "FCS": 3,
                  "domain": 0,
                  "fi_id": 1,
                  "port": 2
                },
                "renameByName": {
                  "domain": "Domain",
                  "fi_id": "FI",
                  "port": "Port"
                }
              }
            }
          ],
          "type": "table"
        },
        {
          "cacheTimeout": null,
          "datasource": "$data_source",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "continuous-BlYlRd"
              },
              "custom": {
                "align": "left",
                "filterable": false
              },
              "decimals": 0,
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  }
                ]
              },
              "unit": "short"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "Out Discards"
                },
                "properties": [
                  {
                    "id": "custom.displayMode",
                    "value": "gradient-gauge"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "Domain"
                },
                "properties": [
                  {
                    "id": "links",
                    "value": [
                      {
                        "targetBlank": false,
                        "title": "Traffic monitoring of UCS domain ${__value.raw}",
                        "url": "d/W7LSukHWz/ucs-domain-traffic?orgId=1&var-domain=${__value.raw}&${__url_time_range}"
                      }
                    ]
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "FI"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 60
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "Port"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 80
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 12,
            "w": 6,
            "x": 6,
            "y": 27
          },
          "id": 171,
          "interval": "[[polling_interval]]s",
          "links": [],
          "options": {
            "showHeader": true,
            "sortBy": [
              {
                "desc": true,
                "displayName": "FCS"
              }
            ]
          },
          "pluginVersion": "7.5.7",
          "repeatDirection": "h",
          "targets": [
            {
              "aggregation": "Last",
              "alias": "",
              "decimals": 2,
              "displayAliasType": "Warning / Critical",
              "displayType": "Regular",
              "displayValueWithAlias": "Never",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "orderByTime": "ASC",
              "policy": "default",
              "query": "select top(\"Out Discards\",domain,fi_id,port,10) as \"Out Discards\" from (SELECT sum(\"out_discard_delta\") as \"Out Discards\" FROM \"$db\".\"$rp\".\"FIServerPortStats\" WHERE (\"location\" =~ /^$location$/ and \"transport\" = 'Eth' AND \"channel\" != '') AND $timeFilter GROUP BY domain,fi_id,port) where $timeFilter",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "table",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": [],
              "units": "none",
              "valueHandler": "Number Threshold"
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "Top 10 FI Server Ports - Out Discards - Eth - $location",
          "transformations": [
            {
              "id": "filterFieldsByName",
              "options": {
                "include": {
                  "names": [
                    "domain",
                    "fi_id",
                    "port",
                    "Out Discards"
                  ]
                }
              }
            },
            {
              "id": "organize",
              "options": {
                "excludeByName": {},
                "indexByName": {
                  "FCS": 3,
                  "domain": 0,
                  "fi_id": 1,
                  "port": 2
                },
                "renameByName": {
                  "domain": "Domain",
                  "fi_id": "FI",
                  "port": "Port"
                }
              }
            }
          ],
          "type": "table"
        },
        {
          "cacheTimeout": null,
          "datasource": "$data_source",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "continuous-BlYlRd"
              },
              "custom": {
                "align": "left",
                "filterable": false
              },
              "decimals": 0,
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  }
                ]
              },
              "unit": "short"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "FC TX Discards"
                },
                "properties": [
                  {
                    "id": "custom.displayMode",
                    "value": "gradient-gauge"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "Domain"
                },
                "properties": [
                  {
                    "id": "links",
                    "value": [
                      {
                        "targetBlank": false,
                        "title": "Traffic monitoring of UCS domain ${__value.raw}",
                        "url": "d/W7LSukHWz/ucs-domain-traffic?orgId=1&var-domain=${__value.raw}&${__url_time_range}"
                      }
                    ]
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "FI"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 60
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "Port"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 80
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 12,
            "w": 6,
            "x": 12,
            "y": 27
          },
          "id": 174,
          "interval": "[[polling_interval]]s",
          "links": [],
          "options": {
            "showHeader": true,
            "sortBy": [
              {
                "desc": true,
                "displayName": "FCS"
              }
            ]
          },
          "pluginVersion": "7.5.7",
          "repeatDirection": "h",
          "targets": [
            {
              "aggregation": "Last",
              "alias": "",
              "decimals": 2,
              "displayAliasType": "Warning / Critical",
              "displayType": "Regular",
              "displayValueWithAlias": "Never",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "orderByTime": "ASC",
              "policy": "default",
              "query": "select top(\"sum\",domain,fi_id,port,10) as \"FC TX Discards\" from (SELECT sum(\"discard_tx_delta\") FROM \"$db\".\"$rp\".\"FIUplinkPortStats\" WHERE (\"location\" =~ /^$location$/ and \"transport\" = 'FC' AND \"channel\" != '') AND $timeFilter GROUP BY domain,fi_id,port) where $timeFilter",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "table",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": [],
              "units": "none",
              "valueHandler": "Number Threshold"
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "Top 10 FI Uplink Ports - TX Discards - FC  - $location",
          "transformations": [
            {
              "id": "filterFieldsByName",
              "options": {
                "include": {
                  "names": [
                    "domain",
                    "fi_id",
                    "port",
                    "FC TX Discards"
                  ]
                }
              }
            },
            {
              "id": "organize",
              "options": {
                "excludeByName": {},
                "indexByName": {
                  "FCS": 3,
                  "domain": 0,
                  "fi_id": 1,
                  "port": 2
                },
                "renameByName": {
                  "domain": "Domain",
                  "fi_id": "FI",
                  "port": "Port"
                }
              }
            }
          ],
          "type": "table"
        },
        {
          "cacheTimeout": null,
          "datasource": "$data_source",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "continuous-BlYlRd"
              },
              "custom": {
                "align": "left",
                "filterable": false
              },
              "decimals": 0,
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  }
                ]
              },
              "unit": "short"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "FC Link Failure"
                },
                "properties": [
                  {
                    "id": "custom.displayMode",
                    "value": "gradient-gauge"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "Domain"
                },
                "properties": [
                  {
                    "id": "links",
                    "value": [
                      {
                        "targetBlank": false,
                        "title": "Traffic monitoring of UCS domain ${__value.raw}",
                        "url": "d/W7LSukHWz/ucs-domain-traffic?orgId=1&var-domain=${__value.raw}&${__url_time_range}"
                      }
                    ]
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "FI"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 60
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "Port"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 80
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 12,
            "w": 6,
            "x": 18,
            "y": 27
          },
          "id": 175,
          "interval": "[[polling_interval]]s",
          "links": [],
          "options": {
            "showHeader": true,
            "sortBy": [
              {
                "desc": true,
                "displayName": "FCS"
              }
            ]
          },
          "pluginVersion": "7.5.7",
          "repeatDirection": "h",
          "targets": [
            {
              "aggregation": "Last",
              "alias": "",
              "decimals": 2,
              "displayAliasType": "Warning / Critical",
              "displayType": "Regular",
              "displayValueWithAlias": "Never",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "orderByTime": "ASC",
              "policy": "default",
              "query": "select top(\"sum\",domain,fi_id,port,10) as \"FC Link Failure\" from (SELECT sum(\"link_failures_delta\") FROM \"$db\".\"$rp\".\"FIUplinkPortStats\" WHERE (\"location\" =~ /^$location$/ and \"transport\" = 'FC' AND \"channel\" != '') AND $timeFilter GROUP BY domain,fi_id,port) where $timeFilter",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "table",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": [],
              "units": "none",
              "valueHandler": "Number Threshold"
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "Top 10 FI Uplink Ports - Link Failure - FC - $location",
          "transformations": [
            {
              "id": "filterFieldsByName",
              "options": {
                "include": {
                  "names": [
                    "domain",
                    "fi_id",
                    "port",
                    "FC Link Failure"
                  ]
                }
              }
            },
            {
              "id": "organize",
              "options": {
                "excludeByName": {},
                "indexByName": {
                  "FCS": 3,
                  "domain": 0,
                  "fi_id": 1,
                  "port": 2
                },
                "renameByName": {
                  "domain": "Domain",
                  "fi_id": "FI",
                  "port": "Port"
                }
              }
            }
          ],
          "type": "table"
        },
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": "$data_source",
          "decimals": 0,
          "fieldConfig": {
            "defaults": {},
            "overrides": []
          },
          "fill": 1,
          "fillGradient": 0,
          "gridPos": {
            "h": 12,
            "w": 6,
            "x": 0,
            "y": 39
          },
          "hiddenSeries": false,
          "id": 166,
          "interval": "[[polling_interval]]s",
          "legend": {
            "alignAsTable": true,
            "avg": true,
            "current": false,
            "max": true,
            "min": false,
            "rightSide": false,
            "show": true,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "nullPointMode": "connected",
          "options": {
            "alertThreshold": true
          },
          "percentage": false,
          "pluginVersion": "7.5.7",
          "pointradius": 2,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "alias": "$col",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "measurement": "FIUplinkPortStats",
              "orderByTime": "ASC",
              "policy": "default",
              "query": "SELECT sum(\"fcs_delta\") AS \"FCS on FI Uplink Ports\" FROM \"$db\".\"$rp\".\"FIUplinkPortStats\" WHERE (\"location\" =~ /^$location$/ AND \"transport\" = 'Eth' AND \"channel\" != '') AND $timeFilter GROUP BY time([[__interval_ms]]ms)",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "bytes_rx_delta"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "sum"
                  },
                  {
                    "params": [
                      " *8/ [[polling_interval]]"
                    ],
                    "type": "math"
                  }
                ]
              ],
              "tags": [
                {
                  "key": "location",
                  "operator": "=~",
                  "value": "/^$location$/"
                },
                {
                  "condition": "AND",
                  "key": "transport",
                  "operator": "=",
                  "value": "Eth"
                },
                {
                  "condition": "AND",
                  "key": "channel",
                  "operator": "!=",
                  "value": "''"
                }
              ]
            },
            {
              "alias": "$col",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "measurement": "FIUplinkPortStats",
              "orderByTime": "ASC",
              "policy": "default",
              "query": "SELECT sum(\"out_discard_delta\") AS \"Out Discards on FI Uplink Ports\" FROM \"$db\".\"$rp\".\"FIUplinkPortStats\" WHERE (\"location\" =~ /^$location$/ AND \"transport\" = 'Eth' AND \"channel\" != '') AND $timeFilter GROUP BY time([[__interval_ms]]ms)",
              "rawQuery": true,
              "refId": "B",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "bytes_rx_delta"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "sum"
                  },
                  {
                    "params": [
                      " *8/ [[polling_interval]]"
                    ],
                    "type": "math"
                  }
                ]
              ],
              "tags": [
                {
                  "key": "location",
                  "operator": "=~",
                  "value": "/^$location$/"
                },
                {
                  "condition": "AND",
                  "key": "transport",
                  "operator": "=",
                  "value": "Eth"
                },
                {
                  "condition": "AND",
                  "key": "channel",
                  "operator": "!=",
                  "value": "''"
                }
              ]
            },
            {
              "alias": "$col",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "hide": false,
              "measurement": "FIUplinkPortStats",
              "orderByTime": "ASC",
              "policy": "default",
              "query": "SELECT sum(\"fcs_delta\") AS \"FCS on FI Server Ports\" FROM \"$db\".\"$rp\".\"FIServerPortStats\" WHERE (\"location\" =~ /^$location$/ AND \"transport\" = 'Eth' AND \"channel\" != '') AND $timeFilter GROUP BY time([[__interval_ms]]ms)",
              "rawQuery": true,
              "refId": "C",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "bytes_rx_delta"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "sum"
                  },
                  {
                    "params": [
                      " *8/ [[polling_interval]]"
                    ],
                    "type": "math"
                  }
                ]
              ],
              "tags": [
                {
                  "key": "location",
                  "operator": "=~",
                  "value": "/^$location$/"
                },
                {
                  "condition": "AND",
                  "key": "transport",
                  "operator": "=",
                  "value": "Eth"
                },
                {
                  "condition": "AND",
                  "key": "channel",
                  "operator": "!=",
                  "value": "''"
                }
              ]
            },
            {
              "alias": "$col",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "hide": false,
              "measurement": "FIUplinkPortStats",
              "orderByTime": "ASC",
              "policy": "default",
              "query": "SELECT sum(\"out_discard_delta\") AS \"Out Discards on FI Server Ports\" FROM \"$db\".\"$rp\".\"FIServerPortStats\" WHERE (\"location\" =~ /^$location$/ AND \"transport\" = 'Eth' AND \"channel\" != '') AND $timeFilter GROUP BY time([[__interval_ms]]ms)",
              "rawQuery": true,
              "refId": "D",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "bytes_rx_delta"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "sum"
                  },
                  {
                    "params": [
                      " *8/ [[polling_interval]]"
                    ],
                    "type": "math"
                  }
                ]
              ],
              "tags": [
                {
                  "key": "location",
                  "operator": "=~",
                  "value": "/^$location$/"
                },
                {
                  "condition": "AND",
                  "key": "transport",
                  "operator": "=",
                  "value": "Eth"
                },
                {
                  "condition": "AND",
                  "key": "channel",
                  "operator": "!=",
                  "value": "''"
                }
              ]
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "CRC, Discards, etc. on FI Uplink and Server Ports - Eth - $location",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": 0,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": "0",
              "show": true
            },
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": "$data_source",
          "decimals": 0,
          "fieldConfig": {
            "defaults": {},
            "overrides": []
          },
          "fill": 1,
          "fillGradient": 0,
          "gridPos": {
            "h": 12,
            "w": 6,
            "x": 6,
            "y": 39
          },
          "hiddenSeries": false,
          "id": 24,
          "interval": "[[polling_interval]]s",
          "legend": {
            "alignAsTable": true,
            "avg": true,
            "current": false,
            "max": true,
            "min": false,
            "rightSide": false,
            "show": true,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "nullPointMode": "connected",
          "options": {
            "alertThreshold": true
          },
          "percentage": false,
          "pluginVersion": "7.5.7",
          "pointradius": 2,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "alias": "$col",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "measurement": "FIUplinkPortStats",
              "orderByTime": "ASC",
              "policy": "default",
              "query": "SELECT sum(\"crc_rx_delta\") AS \"RX CRC\" FROM \"$db\".\"$rp\".\"FIUplinkPortStats\" WHERE (\"location\" =~ /^$location$/ AND \"transport\" = 'FC' AND \"channel\" != '') AND $timeFilter GROUP BY time([[__interval_ms]]ms)",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "bytes_rx_delta"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "sum"
                  },
                  {
                    "params": [
                      " *8/ [[polling_interval]]"
                    ],
                    "type": "math"
                  }
                ]
              ],
              "tags": [
                {
                  "key": "location",
                  "operator": "=~",
                  "value": "/^$location$/"
                },
                {
                  "condition": "AND",
                  "key": "transport",
                  "operator": "=",
                  "value": "Eth"
                },
                {
                  "condition": "AND",
                  "key": "channel",
                  "operator": "!=",
                  "value": "''"
                }
              ]
            },
            {
              "alias": "$col",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "measurement": "FIUplinkPortStats",
              "orderByTime": "ASC",
              "policy": "default",
              "query": "SELECT sum(\"discard_rx_delta\") AS \"RX Discards\" FROM \"$db\".\"$rp\".\"FIUplinkPortStats\" WHERE (\"location\" =~ /^$location$/ AND \"transport\" = 'FC' AND \"channel\" != '') AND $timeFilter GROUP BY time([[__interval_ms]]ms)",
              "rawQuery": true,
              "refId": "B",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "bytes_rx_delta"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "sum"
                  },
                  {
                    "params": [
                      " *8/ [[polling_interval]]"
                    ],
                    "type": "math"
                  }
                ]
              ],
              "tags": [
                {
                  "key": "location",
                  "operator": "=~",
                  "value": "/^$location$/"
                },
                {
                  "condition": "AND",
                  "key": "transport",
                  "operator": "=",
                  "value": "Eth"
                },
                {
                  "condition": "AND",
                  "key": "channel",
                  "operator": "!=",
                  "value": "''"
                }
              ]
            },
            {
              "alias": "$col",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "measurement": "FIUplinkPortStats",
              "orderByTime": "ASC",
              "policy": "default",
              "query": "SELECT sum(\"discard_tx_delta\") AS \"TX Discards\" FROM \"$db\".\"$rp\".\"FIUplinkPortStats\" WHERE (\"location\" =~ /^$location$/ AND \"transport\" = 'FC' AND \"channel\" != '') AND $timeFilter GROUP BY time([[__interval_ms]]ms)",
              "rawQuery": true,
              "refId": "C",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "bytes_rx_delta"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "sum"
                  },
                  {
                    "params": [
                      " *8/ [[polling_interval]]"
                    ],
                    "type": "math"
                  }
                ]
              ],
              "tags": [
                {
                  "key": "location",
                  "operator": "=~",
                  "value": "/^$location$/"
                },
                {
                  "condition": "AND",
                  "key": "transport",
                  "operator": "=",
                  "value": "Eth"
                },
                {
                  "condition": "AND",
                  "key": "channel",
                  "operator": "!=",
                  "value": "''"
                }
              ]
            },
            {
              "alias": "$col",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "measurement": "FIUplinkPortStats",
              "orderByTime": "ASC",
              "policy": "default",
              "query": "SELECT sum(\"link_failures_delta\") AS \"Link Failures\" FROM \"$db\".\"$rp\".\"FIUplinkPortStats\" WHERE (\"location\" =~ /^$location$/ AND \"transport\" = 'FC' AND \"channel\" != '') AND $timeFilter GROUP BY time([[__interval_ms]]ms)",
              "rawQuery": true,
              "refId": "D",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "bytes_rx_delta"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "sum"
                  },
                  {
                    "params": [
                      " *8/ [[polling_interval]]"
                    ],
                    "type": "math"
                  }
                ]
              ],
              "tags": [
                {
                  "key": "location",
                  "operator": "=~",
                  "value": "/^$location$/"
                },
                {
                  "condition": "AND",
                  "key": "transport",
                  "operator": "=",
                  "value": "Eth"
                },
                {
                  "condition": "AND",
                  "key": "channel",
                  "operator": "!=",
                  "value": "''"
                }
              ]
            },
            {
              "alias": "$col",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "measurement": "FIUplinkPortStats",
              "orderByTime": "ASC",
              "policy": "default",
              "query": "SELECT sum(\"signal_losses_delta\") AS \"Signal losses\" FROM \"$db\".\"$rp\".\"FIUplinkPortStats\" WHERE (\"location\" =~ /^$location$/ AND \"transport\" = 'FC' AND \"channel\" != '') AND $timeFilter GROUP BY time([[__interval_ms]]ms)",
              "rawQuery": true,
              "refId": "E",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "bytes_rx_delta"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "sum"
                  },
                  {
                    "params": [
                      " *8/ [[polling_interval]]"
                    ],
                    "type": "math"
                  }
                ]
              ],
              "tags": [
                {
                  "key": "location",
                  "operator": "=~",
                  "value": "/^$location$/"
                },
                {
                  "condition": "AND",
                  "key": "transport",
                  "operator": "=",
                  "value": "Eth"
                },
                {
                  "condition": "AND",
                  "key": "channel",
                  "operator": "!=",
                  "value": "''"
                }
              ]
            },
            {
              "alias": "$col",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "measurement": "FIUplinkPortStats",
              "orderByTime": "ASC",
              "policy": "default",
              "query": "SELECT sum(\"sync_losses_delta\")  AS \"Sync losses\" FROM \"$db\".\"$rp\".\"FIUplinkPortStats\" WHERE (\"location\" =~ /^$location$/ AND \"transport\" = 'FC' AND \"channel\" != '') AND $timeFilter GROUP BY time([[__interval_ms]]ms)",
              "rawQuery": true,
              "refId": "F",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "bytes_rx_delta"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "sum"
                  },
                  {
                    "params": [
                      " *8/ [[polling_interval]]"
                    ],
                    "type": "math"
                  }
                ]
              ],
              "tags": [
                {
                  "key": "location",
                  "operator": "=~",
                  "value": "/^$location$/"
                },
                {
                  "condition": "AND",
                  "key": "transport",
                  "operator": "=",
                  "value": "Eth"
                },
                {
                  "condition": "AND",
                  "key": "channel",
                  "operator": "!=",
                  "value": "''"
                }
              ]
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "CRC, Discards, etc. on FI Uplink Ports - FC - $location",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": 0,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": "0",
              "show": true
            },
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        },
        {
          "cacheTimeout": null,
          "datasource": "$data_source",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "continuous-BlYlRd"
              },
              "custom": {
                "align": "left",
                "filterable": false
              },
              "decimals": 0,
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  }
                ]
              },
              "unit": "short"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "FC Signal Loss"
                },
                "properties": [
                  {
                    "id": "custom.displayMode",
                    "value": "gradient-gauge"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "Domain"
                },
                "properties": [
                  {
                    "id": "links",
                    "value": [
                      {
                        "targetBlank": false,
                        "title": "Traffic monitoring of UCS domain ${__value.raw}",
                        "url": "d/W7LSukHWz/ucs-domain-traffic?orgId=1&var-domain=${__value.raw}&${__url_time_range}"
                      }
                    ]
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "FI"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 60
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "Port"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 80
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 12,
            "w": 6,
            "x": 12,
            "y": 39
          },
          "id": 176,
          "interval": "[[polling_interval]]s",
          "links": [],
          "options": {
            "showHeader": true,
            "sortBy": [
              {
                "desc": true,
                "displayName": "FCS"
              }
            ]
          },
          "pluginVersion": "7.5.7",
          "repeatDirection": "h",
          "targets": [
            {
              "aggregation": "Last",
              "alias": "",
              "decimals": 2,
              "displayAliasType": "Warning / Critical",
              "displayType": "Regular",
              "displayValueWithAlias": "Never",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "orderByTime": "ASC",
              "policy": "default",
              "query": "select top(\"sum\",domain,fi_id,port,10) as \"FC Signal Loss\" from (SELECT sum(\"signal_losses_delta\") FROM \"$db\".\"$rp\".\"FIUplinkPortStats\" WHERE (\"location\" =~ /^$location$/ and \"transport\" = 'FC' AND \"channel\" != '') AND $timeFilter GROUP BY domain,fi_id,port) where $timeFilter",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "table",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": [],
              "units": "none",
              "valueHandler": "Number Threshold"
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "Top 10 FI Uplink Ports - Signal Loss - FC - $location",
          "transformations": [
            {
              "id": "filterFieldsByName",
              "options": {
                "include": {
                  "names": [
                    "domain",
                    "fi_id",
                    "port",
                    "FC Signal Loss"
                  ]
                }
              }
            },
            {
              "id": "organize",
              "options": {
                "excludeByName": {},
                "indexByName": {
                  "FCS": 3,
                  "domain": 0,
                  "fi_id": 1,
                  "port": 2
                },
                "renameByName": {
                  "domain": "Domain",
                  "fi_id": "FI",
                  "port": "Port"
                }
              }
            }
          ],
          "type": "table"
        },
        {
          "cacheTimeout": null,
          "datasource": "$data_source",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "continuous-BlYlRd"
              },
              "custom": {
                "align": "left",
                "filterable": false
              },
              "decimals": 0,
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  }
                ]
              },
              "unit": "short"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "FC Sync Failure"
                },
                "properties": [
                  {
                    "id": "custom.displayMode",
                    "value": "gradient-gauge"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "Domain"
                },
                "properties": [
                  {
                    "id": "links",
                    "value": [
                      {
                        "targetBlank": false,
                        "title": "Traffic monitoring of UCS domain ${__value.raw}",
                        "url": "d/W7LSukHWz/ucs-domain-traffic?orgId=1&var-domain=${__value.raw}&${__url_time_range}"
                      }
                    ]
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "FI"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 60
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "Port"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 80
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 12,
            "w": 6,
            "x": 18,
            "y": 39
          },
          "id": 177,
          "interval": "[[polling_interval]]s",
          "links": [],
          "options": {
            "showHeader": true,
            "sortBy": [
              {
                "desc": true,
                "displayName": "FCS"
              }
            ]
          },
          "pluginVersion": "7.5.7",
          "repeatDirection": "h",
          "targets": [
            {
              "aggregation": "Last",
              "alias": "",
              "decimals": 2,
              "displayAliasType": "Warning / Critical",
              "displayType": "Regular",
              "displayValueWithAlias": "Never",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "orderByTime": "ASC",
              "policy": "default",
              "query": "select top(\"sum\",domain,fi_id,port,10) as \"FC Sync Failure\" from (SELECT sum(\"sync_losses_delta\") FROM \"$db\".\"$rp\".\"FIUplinkPortStats\" WHERE (\"location\" =~ /^$location$/ and \"transport\" = 'FC' AND \"channel\" != '') AND $timeFilter GROUP BY domain,fi_id,port) where $timeFilter",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "table",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": [],
              "units": "none",
              "valueHandler": "Number Threshold"
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "Top 10 FI Uplink Ports - Sync Loss - FC - $location",
          "transformations": [
            {
              "id": "filterFieldsByName",
              "options": {
                "include": {
                  "names": [
                    "domain",
                    "fi_id",
                    "port",
                    "FC Sync Failure"
                  ]
                }
              }
            },
            {
              "id": "organize",
              "options": {
                "excludeByName": {},
                "indexByName": {
                  "FCS": 3,
                  "domain": 0,
                  "fi_id": 1,
                  "port": 2
                },
                "renameByName": {
                  "domain": "Domain",
                  "fi_id": "FI",
                  "port": "Port"
                }
              }
            }
          ],
          "type": "table"
        },
        {
          "cacheTimeout": null,
          "datasource": "$data_source",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "continuous-BlYlRd"
              },
              "custom": {
                "align": "left",
                "filterable": false
              },
              "decimals": 0,
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  }
                ]
              },
              "unit": "short"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "RX Drops"
                },
                "properties": [
                  {
                    "id": "custom.displayMode",
                    "value": "gradient-gauge"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "domain"
                },
                "properties": [
                  {
                    "id": "links",
                    "value": [
                      {
                        "title": "Details of traffic in UCS domain ${__value.raw}",
                        "url": "d/W7LSukHWz/ucs-domain-traffic?orgId=1&var-domain=${__value.raw}&${__url_time_range}"
                      }
                    ]
                  },
                  {
                    "id": "displayName",
                    "value": "Domain"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "service_profile"
                },
                "properties": [
                  {
                    "id": "links",
                    "value": [
                      {
                        "title": "Details of Service Profile ${__data.fields.service_profile}",
                        "url": "d/Z0M_N1vWz/service-profile-traffic?var-domain=${__data.fields.domain}&var-service_profile=${__data.fields.service_profile}&var-vif=${__data.fields.vif_name}&${__url_time_range}&var-data_source=${data_source}"
                      }
                    ]
                  },
                  {
                    "id": "displayName",
                    "value": "Service Profile"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "vif_name"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 100
                  },
                  {
                    "id": "links",
                    "value": [
                      {
                        "title": "Details of Service Profile ${__data.fields.service_profile} and ${__data.fields.vif_name}",
                        "url": "d/Z0M_N1vWz/service-profile-traffic?var-domain=${__data.fields.domain}&var-service_profile=${__data.fields.service_profile}&var-vif=${__data.fields.vif_name}&${__url_time_range}&var-data_source=${data_source}"
                      }
                    ]
                  },
                  {
                    "id": "displayName",
                    "value": "VIF"
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 12,
            "w": 6,
            "x": 0,
            "y": 51
          },
          "id": 184,
          "interval": "[[polling_interval]]s",
          "links": [],
          "options": {
            "showHeader": true,
            "sortBy": []
          },
          "pluginVersion": "7.5.7",
          "repeatDirection": "h",
          "targets": [
            {
              "aggregation": "Last",
              "alias": "",
              "decimals": 2,
              "displayAliasType": "Warning / Critical",
              "displayType": "Regular",
              "displayValueWithAlias": "Never",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "orderByTime": "ASC",
              "policy": "default",
              "query": "select top(\"sum\",domain,service_profile,vif_name,10) as \"RX Drops\" from (SELECT sum(\"dropped_rx_delta\") FROM \"$db\".\"$rp\".\"VnicStats\" WHERE (\"location\" =~ /^$location$/) AND $timeFilter GROUP BY domain,service_profile,vif_name) where $timeFilter",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "table",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": [],
              "units": "none",
              "valueHandler": "Number Threshold"
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "Top 10 vNIC/vHBA - RX Drops - $location",
          "transformations": [
            {
              "id": "filterFieldsByName",
              "options": {
                "include": {
                  "names": [
                    "domain",
                    "RX Drops",
                    "service_profile",
                    "vif_name"
                  ]
                }
              }
            },
            {
              "id": "organize",
              "options": {
                "excludeByName": {},
                "indexByName": {
                  "RX Drops": 3,
                  "domain": 0,
                  "service_profile": 1,
                  "vif_name": 2
                },
                "renameByName": {
                  "domain": "",
                  "fi_id": "FI",
                  "port": "Port",
                  "service_profile": "",
                  "vif_name": ""
                }
              }
            }
          ],
          "type": "table"
        },
        {
          "cacheTimeout": null,
          "datasource": "$data_source",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "continuous-BlYlRd"
              },
              "custom": {
                "align": "left",
                "filterable": false
              },
              "decimals": 0,
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  }
                ]
              },
              "unit": "short"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "TX Drops"
                },
                "properties": [
                  {
                    "id": "custom.displayMode",
                    "value": "gradient-gauge"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "domain"
                },
                "properties": [
                  {
                    "id": "links",
                    "value": [
                      {
                        "title": "Details of traffic in UCS domain ${__value.raw}",
                        "url": "d/W7LSukHWz/ucs-domain-traffic?orgId=1&var-domain=${__value.raw}&${__url_time_range}"
                      }
                    ]
                  },
                  {
                    "id": "displayName",
                    "value": "Domain"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "service_profile"
                },
                "properties": [
                  {
                    "id": "links",
                    "value": [
                      {
                        "title": "Details of Service Profile ${__data.fields.service_profile}",
                        "url": "d/Z0M_N1vWz/service-profile-traffic?var-domain=${__data.fields.domain}&var-service_profile=${__data.fields.service_profile}&var-vif=${__data.fields.vif_name}&${__url_time_range}&var-data_source=${data_source}"
                      }
                    ]
                  },
                  {
                    "id": "displayName",
                    "value": "Service Profile"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "vif_name"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 100
                  },
                  {
                    "id": "links",
                    "value": [
                      {
                        "title": "Details of Service Profile ${__data.fields.service_profile} and ${__data.fields.vif_name}",
                        "url": "d/Z0M_N1vWz/service-profile-traffic?var-domain=${__data.fields.domain}&var-service_profile=${__data.fields.service_profile}&var-vif=${__data.fields.vif_name}&${__url_time_range}&var-data_source=${data_source}"
                      }
                    ]
                  },
                  {
                    "id": "displayName",
                    "value": "VIF"
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 12,
            "w": 6,
            "x": 6,
            "y": 51
          },
          "id": 185,
          "interval": "[[polling_interval]]s",
          "links": [],
          "options": {
            "showHeader": true,
            "sortBy": []
          },
          "pluginVersion": "7.5.7",
          "repeatDirection": "h",
          "targets": [
            {
              "aggregation": "Last",
              "alias": "",
              "decimals": 2,
              "displayAliasType": "Warning / Critical",
              "displayType": "Regular",
              "displayValueWithAlias": "Never",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "orderByTime": "ASC",
              "policy": "default",
              "query": "select top(\"sum\",domain,service_profile,vif_name,10) as \"TX Drops\" from (SELECT sum(\"dropped_tx_delta\") FROM \"$db\".\"$rp\".\"VnicStats\" WHERE (\"location\" =~ /^$location$/) AND $timeFilter GROUP BY domain,service_profile,vif_name) where $timeFilter",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "table",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": [],
              "units": "none",
              "valueHandler": "Number Threshold"
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "Top 10 vNIC/vHBA - TX Drops - $location",
          "transformations": [
            {
              "id": "filterFieldsByName",
              "options": {
                "include": {
                  "names": [
                    "domain",
                    "service_profile",
                    "vif_name",
                    "TX Drops"
                  ]
                }
              }
            },
            {
              "id": "organize",
              "options": {
                "excludeByName": {},
                "indexByName": {
                  "RX Drops": 3,
                  "domain": 0,
                  "service_profile": 1,
                  "vif_name": 2
                },
                "renameByName": {
                  "domain": "",
                  "fi_id": "FI",
                  "port": "Port",
                  "service_profile": "",
                  "vif_name": ""
                }
              }
            }
          ],
          "type": "table"
        },
        {
          "cacheTimeout": null,
          "datasource": "$data_source",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "continuous-BlYlRd"
              },
              "custom": {
                "align": "left",
                "filterable": false
              },
              "decimals": 0,
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  }
                ]
              },
              "unit": "short"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "RX Errors"
                },
                "properties": [
                  {
                    "id": "custom.displayMode",
                    "value": "gradient-gauge"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "domain"
                },
                "properties": [
                  {
                    "id": "links",
                    "value": [
                      {
                        "title": "Details of traffic in UCS domain ${__value.raw}",
                        "url": "d/W7LSukHWz/ucs-domain-traffic?orgId=1&var-domain=${__value.raw}&${__url_time_range}"
                      }
                    ]
                  },
                  {
                    "id": "displayName",
                    "value": "Domain"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "service_profile"
                },
                "properties": [
                  {
                    "id": "links",
                    "value": [
                      {
                        "title": "Details of Service Profile ${__data.fields.service_profile}",
                        "url": "d/Z0M_N1vWz/service-profile-traffic?var-domain=${__data.fields.domain}&var-service_profile=${__data.fields.service_profile}&var-vif=${__data.fields.vif_name}&${__url_time_range}&var-data_source=${data_source}"
                      }
                    ]
                  },
                  {
                    "id": "displayName",
                    "value": "Service Profile"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "vif_name"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 100
                  },
                  {
                    "id": "links",
                    "value": [
                      {
                        "title": "Details of Service Profile ${__data.fields.service_profile} and ${__data.fields.vif_name}",
                        "url": "d/Z0M_N1vWz/service-profile-traffic?var-domain=${__data.fields.domain}&var-service_profile=${__data.fields.service_profile}&var-vif=${__data.fields.vif_name}&${__url_time_range}&var-data_source=${data_source}"
                      }
                    ]
                  },
                  {
                    "id": "displayName",
                    "value": "VIF"
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 12,
            "w": 6,
            "x": 12,
            "y": 51
          },
          "id": 186,
          "interval": "[[polling_interval]]s",
          "links": [],
          "options": {
            "showHeader": true,
            "sortBy": []
          },
          "pluginVersion": "7.5.7",
          "repeatDirection": "h",
          "targets": [
            {
              "aggregation": "Last",
              "alias": "",
              "decimals": 2,
              "displayAliasType": "Warning / Critical",
              "displayType": "Regular",
              "displayValueWithAlias": "Never",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "orderByTime": "ASC",
              "policy": "default",
              "query": "select top(\"sum\",domain,service_profile,vif_name,10) as \"RX Errors\" from (SELECT sum(\"errors_rx_delta\") FROM \"$db\".\"$rp\".\"VnicStats\" WHERE (\"location\" =~ /^$location$/) AND $timeFilter GROUP BY domain,service_profile,vif_name) where $timeFilter",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "table",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": [],
              "units": "none",
              "valueHandler": "Number Threshold"
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "Top 10 vNIC/vHBA - RX Errors - $location",
          "transformations": [
            {
              "id": "filterFieldsByName",
              "options": {
                "include": {
                  "names": [
                    "domain",
                    "service_profile",
                    "vif_name",
                    "RX Errors"
                  ]
                }
              }
            },
            {
              "id": "organize",
              "options": {
                "excludeByName": {},
                "indexByName": {
                  "RX Drops": 3,
                  "domain": 0,
                  "service_profile": 1,
                  "vif_name": 2
                },
                "renameByName": {
                  "domain": "",
                  "fi_id": "FI",
                  "port": "Port",
                  "service_profile": "",
                  "vif_name": ""
                }
              }
            }
          ],
          "type": "table"
        },
        {
          "cacheTimeout": null,
          "datasource": "$data_source",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "continuous-BlYlRd"
              },
              "custom": {
                "align": "left",
                "filterable": false
              },
              "decimals": 0,
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  }
                ]
              },
              "unit": "short"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "TX Errors"
                },
                "properties": [
                  {
                    "id": "custom.displayMode",
                    "value": "gradient-gauge"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "domain"
                },
                "properties": [
                  {
                    "id": "links",
                    "value": [
                      {
                        "title": "Details of traffic in UCS domain ${__value.raw}",
                        "url": "d/W7LSukHWz/ucs-domain-traffic?orgId=1&var-domain=${__value.raw}&${__url_time_range}"
                      }
                    ]
                  },
                  {
                    "id": "displayName",
                    "value": "Domain"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "service_profile"
                },
                "properties": [
                  {
                    "id": "links",
                    "value": [
                      {
                        "title": "Details of Service Profile ${__data.fields.service_profile}",
                        "url": "d/Z0M_N1vWz/service-profile-traffic?var-domain=${__data.fields.domain}&var-service_profile=${__data.fields.service_profile}&var-vif=${__data.fields.vif_name}&${__url_time_range}&var-data_source=${data_source}"
                      }
                    ]
                  },
                  {
                    "id": "displayName",
                    "value": "Service Profile"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "vif_name"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 100
                  },
                  {
                    "id": "links",
                    "value": [
                      {
                        "title": "Details of Service Profile ${__data.fields.service_profile} and ${__data.fields.vif_name}",
                        "url": "d/Z0M_N1vWz/service-profile-traffic?var-domain=${__data.fields.domain}&var-service_profile=${__data.fields.service_profile}&var-vif=${__data.fields.vif_name}&${__url_time_range}&var-data_source=${data_source}"
                      }
                    ]
                  },
                  {
                    "id": "displayName",
                    "value": "VIF"
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 12,
            "w": 6,
            "x": 18,
            "y": 51
          },
          "id": 187,
          "interval": "[[polling_interval]]s",
          "links": [],
          "options": {
            "showHeader": true,
            "sortBy": []
          },
          "pluginVersion": "7.5.7",
          "repeatDirection": "h",
          "targets": [
            {
              "aggregation": "Last",
              "alias": "",
              "decimals": 2,
              "displayAliasType": "Warning / Critical",
              "displayType": "Regular",
              "displayValueWithAlias": "Never",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "orderByTime": "ASC",
              "policy": "default",
              "query": "select top(\"sum\",domain,service_profile,vif_name,10) as \"TX Errors\" from (SELECT sum(\"errors_tx_delta\") FROM \"$db\".\"$rp\".\"VnicStats\" WHERE (\"location\" =~ /^$location$/) AND $timeFilter GROUP BY domain,service_profile,vif_name) where $timeFilter",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "table",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": [],
              "units": "none",
              "valueHandler": "Number Threshold"
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "Top 10 vNIC/vHBA - TX Errors - $location",
          "transformations": [
            {
              "id": "filterFieldsByName",
              "options": {
                "include": {
                  "names": [
                    "domain",
                    "service_profile",
                    "vif_name",
                    "TX Errors"
                  ]
                }
              }
            },
            {
              "id": "organize",
              "options": {
                "excludeByName": {},
                "indexByName": {
                  "RX Drops": 3,
                  "domain": 0,
                  "service_profile": 1,
                  "vif_name": 2
                },
                "renameByName": {
                  "domain": "",
                  "fi_id": "FI",
                  "port": "Port",
                  "service_profile": "",
                  "vif_name": ""
                }
              }
            }
          ],
          "type": "table"
        }
      ],
      "title": "Errors",
      "type": "row"
    },
    {
      "collapsed": true,
      "datasource": "$data_source",
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 43
      },
      "id": 70,
      "panels": [
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": "$data_source",
          "decimals": 0,
          "description": "**Use Case**: Monitor congestion against ingress traffic. \n\n![Server Ports RX PAUSE](/public/img/utm/fi_server_port_rx_pause.png)\n\n**How to use**:  This is the sum of the RX PAUSE frames received on the FI Server Ports in a location. These PAUSE frames are sent by the connected devices (FEX, IOM, or Servers) when they must apply back pressure on the incoming traffic. *Note*: Server Ingress traffic is TX for FI Server Ports and RX for FI Uplink Ports.\n\nPAUSE frames may be exchanged under normal conditions also. So, find unusual PAUSE frame activity with below symptoms (not an exhaustive list):\n- PAUSE frame rate in tens or hundreds per second is bad. Thousands, tens-of-thousands, or Millions per second is terribly bad.\n- Look for spike in PAUSE frame rate. Low stable values are probably fine.\n- Does one among many others has higher PAUSE frame activity?\n\nOnce you have a suspect location,  continue digging further into location > Domain > FI > FEX/IOM/Chassis > Service profile. You can also go to the Detailed Congestion Monitoring dashboard.\n\n**Details**: \n- A server sends PAUSE frames if it is unable to receive the traffic at the ingress rate. These frames are reported as RX PAUSE on the connected port (on FI or FEX or IOM). \n- PAUSE frames are used for FC traffic only (no-drop class). Congestion in Eth traffic is generally indicated by frame drops.\n",
          "fieldConfig": {
            "defaults": {},
            "overrides": []
          },
          "fill": 0,
          "fillGradient": 0,
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 16
          },
          "hiddenSeries": false,
          "id": 68,
          "interval": "[[polling_interval]]s",
          "legend": {
            "alignAsTable": true,
            "avg": true,
            "current": false,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "nullPointMode": "connected",
          "options": {
            "alertThreshold": true
          },
          "percentage": false,
          "pluginVersion": "7.5.7",
          "pointradius": 1,
          "points": true,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "alias": "$tag_location M",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "measurement": "FIUplinkPortStats",
              "orderByTime": "ASC",
              "policy": "default",
              "query": "select sum(\"PAUSE against Ingress Traffic\") as \"PAUSE against Ingress Traffic\" from (SELECT non_negative_difference(max(\"pause_rx\"))/elapsed(max(\"pause_rx\"),1s) AS \"PAUSE against Ingress Traffic\" FROM \"$db\".\"$rp\".\"FIServerPortStats\" WHERE \"location\" =~ /^$location$/ AND $timeFilter GROUP BY time($__interval),location,domain,fi_id,port) where $timeFilter GROUP BY time($__interval),location",
              "rawQuery": true,
              "refId": "B",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "bytes_rx_delta"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "sum"
                  },
                  {
                    "params": [
                      " *8/ [[polling_interval]]"
                    ],
                    "type": "math"
                  }
                ]
              ],
              "tags": [
                {
                  "key": "location",
                  "operator": "=~",
                  "value": "/^$location$/"
                },
                {
                  "condition": "AND",
                  "key": "transport",
                  "operator": "=",
                  "value": "Eth"
                },
                {
                  "condition": "AND",
                  "key": "channel",
                  "operator": "!=",
                  "value": "''"
                }
              ]
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "PAUSE Against Ingress Traffic (RX Pause) on FI Server Ports per Location - $location",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": 0,
              "format": "short",
              "label": null,
              "logBase": 10,
              "max": null,
              "min": "0",
              "show": true
            },
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": "$data_source",
          "decimals": 0,
          "description": "**Use Case**: Monitor congestion against egress traffic. \n\n![Server Ports TX PAUSE](/public/img/utm/fi_server_port_tx_pause.png)\n\n**How to use**:  This is the sum of the TX PAUSE frames sent on the FI Server Ports in a location. These PAUSE frames are sent to the connected devices (FEX, IOM or Servers) when the backpressure must be applied against the outgoing traffic. *Note*: Server egress traffic is RX for FI Server Ports and TX for FI Uplink Ports.\n\nPAUSE frames may be exchanged under normal conditions also. So, find unusual PAUSE frame activity with below symptoms (not an exhaustive list):\n- PAUSE frame rate in tens or hundreds per second is bad. Thousands, tens-of-thousands, or Millions per second is terribly bad.\n- Look for spike in PAUSE frame rate. Low stable values are probably fine.\n- Does one among many others has higher PAUSE frame activity?\n\nOnce you have a suspect location,  continue digging further into location > Domain > FI > FEX/IOM/Chassis > Service profile. You can also go to the Detailed Congestion Monitoring dashboard.\n\n**Details**: \n- A server receives PAUSE frames if it is transmitting data faster than the receiver can accept it. These frames are reported as TX PAUSE on the connected port (on FI or FEX or IOM). \n- PAUSE frames are used for FC traffic only (no-drop class). Congestion in Eth traffic is generally indicated by frame drops.\n",
          "fieldConfig": {
            "defaults": {},
            "overrides": []
          },
          "fill": 0,
          "fillGradient": 0,
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 16
          },
          "hiddenSeries": false,
          "id": 79,
          "interval": "[[polling_interval]]s",
          "legend": {
            "alignAsTable": true,
            "avg": true,
            "current": false,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "nullPointMode": "connected",
          "options": {
            "alertThreshold": true
          },
          "percentage": false,
          "pluginVersion": "7.5.7",
          "pointradius": 1,
          "points": true,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "alias": "$tag_location",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "measurement": "FIUplinkPortStats",
              "orderByTime": "ASC",
              "policy": "default",
              "query": "select sum(\"PAUSE against Egress Traffic\") as \"PAUSE against Egress Traffic\" from (SELECT non_negative_difference(max(\"pause_tx\"))/elapsed(max(\"pause_rx\"),1s) AS \"PAUSE against Egress Traffic\" FROM \"$db\".\"$rp\".\"FIServerPortStats\" WHERE \"location\" =~ /^$location$/ AND $timeFilter GROUP BY time($__interval),location,domain,fi_id,port) where $timeFilter GROUP BY time($__interval),location",
              "rawQuery": true,
              "refId": "B",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "bytes_rx_delta"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "sum"
                  },
                  {
                    "params": [
                      " *8/ [[polling_interval]]"
                    ],
                    "type": "math"
                  }
                ]
              ],
              "tags": [
                {
                  "key": "location",
                  "operator": "=~",
                  "value": "/^$location$/"
                },
                {
                  "condition": "AND",
                  "key": "transport",
                  "operator": "=",
                  "value": "Eth"
                },
                {
                  "condition": "AND",
                  "key": "channel",
                  "operator": "!=",
                  "value": "''"
                }
              ]
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "PAUSE Against Egress Traffic (TX Pause) on FI Server Ports per Location - $location",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": 0,
              "format": "short",
              "label": null,
              "logBase": 10,
              "max": null,
              "min": "0",
              "show": true
            },
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": "$data_source",
          "decimals": 0,
          "description": "**Use Case**: Monitor congestion against ingress traffic. \n\n![Server Ports RX PAUSE](/public/img/utm/fi_server_port_rx_pause.png)\n\n**How to use**:  This is the sum of the RX PAUSE frames received on the FI Server Ports in a UCS domain. These PAUSE frames are sent by the connected devices (FEX, IOM, or Servers) when they must apply back pressure on the incoming traffic. *Note*: Server Ingress traffic is TX for FI Server Ports and RX for FI Uplink Ports.\n\nPAUSE frames may be exchanged under normal conditions also. So, find unusual PAUSE frame activity with below symptoms (not an exhaustive list):\n- PAUSE frame rate in tens or hundreds per second is bad. Thousands, tens-of-thousands, or Millions per second is terribly bad.\n- Look for spike in PAUSE frame rate. Low stable values are probably fine.\n- Does one among many others has higher PAUSE frame activity?\n\nOnce you have a suspect location,  continue digging further into location > Domain > FI > FEX/IOM/Chassis > Service profile. You can also go to the Detailed Congestion Monitoring dashboard.\n\n**Details**: \n- A server sends PAUSE frames if it is unable to receive the traffic at the ingress rate. These frames are reported as RX PAUSE on the connected port (on FI or FEX or IOM). \n- PAUSE frames are used for FC traffic only (no-drop class). Congestion in Eth traffic is generally indicated by frame drops.\n",
          "fieldConfig": {
            "defaults": {},
            "overrides": []
          },
          "fill": 0,
          "fillGradient": 0,
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 24
          },
          "hiddenSeries": false,
          "id": 163,
          "interval": "[[polling_interval]]s",
          "legend": {
            "alignAsTable": true,
            "avg": true,
            "current": false,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "nullPointMode": "connected",
          "options": {
            "alertThreshold": true
          },
          "percentage": false,
          "pluginVersion": "7.5.7",
          "pointradius": 1,
          "points": true,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "alias": "$tag_location $tag_domain",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "measurement": "FIUplinkPortStats",
              "orderByTime": "ASC",
              "policy": "default",
              "query": "select sum(\"PAUSE against Ingress Traffic\") as \"PAUSE against Ingress Traffic\" from (SELECT non_negative_difference(max(\"pause_rx\"))/elapsed(max(\"pause_rx\"),1s) AS \"PAUSE against Ingress Traffic\" FROM \"$db\".\"$rp\".\"FIServerPortStats\" WHERE \"location\" =~ /^$location$/ AND $timeFilter GROUP BY time($__interval),location,domain,fi_id,port) where $timeFilter GROUP BY time($__interval),location,domain",
              "rawQuery": true,
              "refId": "B",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "bytes_rx_delta"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "sum"
                  },
                  {
                    "params": [
                      " *8/ [[polling_interval]]"
                    ],
                    "type": "math"
                  }
                ]
              ],
              "tags": [
                {
                  "key": "location",
                  "operator": "=~",
                  "value": "/^$location$/"
                },
                {
                  "condition": "AND",
                  "key": "transport",
                  "operator": "=",
                  "value": "Eth"
                },
                {
                  "condition": "AND",
                  "key": "channel",
                  "operator": "!=",
                  "value": "''"
                }
              ]
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "PAUSE Against Ingress Traffic (RX Pause) on FI Server Ports per Location and Domain - $location",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": 0,
              "format": "short",
              "label": null,
              "logBase": 10,
              "max": null,
              "min": "0",
              "show": true
            },
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": "$data_source",
          "decimals": 0,
          "description": "**Use Case**: Monitor congestion against egress traffic. \n\n![Server Ports TX PAUSE](/public/img/utm/fi_server_port_tx_pause.png)\n\n**How to use**:  This is the sum of the TX PAUSE frames sent on the FI Server Ports in a UCS domain. These PAUSE frames are sent to the connected devices (FEX, IOM or Servers) when the backpressure must be applied against the outgoing traffic. *Note*: Server egress traffic is RX for FI Server Ports and TX for FI Uplink Ports.\n\nPAUSE frames may be exchanged under normal conditions also. So, find unusual PAUSE frame activity with below symptoms (not an exhaustive list):\n- PAUSE frame rate in tens or hundreds per second is bad. Thousands, tens-of-thousands, or Millions per second is terribly bad.\n- Look for spike in PAUSE frame rate. Low stable values are probably fine.\n- Does one among many others has higher PAUSE frame activity?\n\nOnce you have a suspect location,  continue digging further into location > Domain > FI > FEX/IOM/Chassis > Service profile. You can also go to the Detailed Congestion Monitoring dashboard.\n\n**Details**: \n- A server receives PAUSE frames if it is transmitting data faster than the receiver can accept it. These frames are reported as TX PAUSE on the connected port (on FI or FEX or IOM). \n- PAUSE frames are used for FC traffic only (no-drop class). Congestion in Eth traffic is generally indicated by frame drops.\n",
          "fieldConfig": {
            "defaults": {},
            "overrides": []
          },
          "fill": 0,
          "fillGradient": 0,
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 24
          },
          "hiddenSeries": false,
          "id": 164,
          "interval": "[[polling_interval]]s",
          "legend": {
            "alignAsTable": true,
            "avg": true,
            "current": false,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "nullPointMode": "connected",
          "options": {
            "alertThreshold": true
          },
          "percentage": false,
          "pluginVersion": "7.5.7",
          "pointradius": 1,
          "points": true,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "alias": "$tag_location $tag_domain",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "measurement": "FIUplinkPortStats",
              "orderByTime": "ASC",
              "policy": "default",
              "query": "select sum(\"PAUSE against Egress Traffic\") as \"PAUSE against Egress Traffic\" from (SELECT non_negative_difference(max(\"pause_tx\"))/elapsed(max(\"pause_rx\"),1s) AS \"PAUSE against Egress Traffic\" FROM \"$db\".\"$rp\".\"FIServerPortStats\" WHERE \"location\" =~ /^$location$/ AND $timeFilter GROUP BY time($__interval),location,domain,fi_id,port) where $timeFilter GROUP BY time($__interval),location,domain",
              "rawQuery": true,
              "refId": "B",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "bytes_rx_delta"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "sum"
                  },
                  {
                    "params": [
                      " *8/ [[polling_interval]]"
                    ],
                    "type": "math"
                  }
                ]
              ],
              "tags": [
                {
                  "key": "location",
                  "operator": "=~",
                  "value": "/^$location$/"
                },
                {
                  "condition": "AND",
                  "key": "transport",
                  "operator": "=",
                  "value": "Eth"
                },
                {
                  "condition": "AND",
                  "key": "channel",
                  "operator": "!=",
                  "value": "''"
                }
              ]
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "PAUSE Against Egress Traffic (TX Pause) on FI Server Ports per Location and Domain - $location",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": 0,
              "format": "short",
              "label": null,
              "logBase": 10,
              "max": null,
              "min": "0",
              "show": true
            },
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        },
        {
          "datasource": null,
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "continuous-YlRd"
              },
              "custom": {
                "align": "left",
                "filterable": false
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              }
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byRegexp",
                  "options": "/PAUSE/"
                },
                "properties": [
                  {
                    "id": "custom.displayMode",
                    "value": "gradient-gauge"
                  },
                  {
                    "id": "decimals",
                    "value": 0
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "Server"
                },
                "properties": [
                  {
                    "id": "links",
                    "value": [
                      {
                        "title": "Detailed traffic monitoring of service profile ${__value.raw}",
                        "url": "d/Z0M_N1vWz/service-profile-traffic?orgId=1&var-domain=${__data.fields[domain]}&var-service_profile=${__value.raw}&${__url_time_range}"
                      }
                    ]
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "Domain"
                },
                "properties": [
                  {
                    "id": "links",
                    "value": [
                      {
                        "title": "Detailed traffic monitoring of UCS domain ${__value.raw}",
                        "url": "d/Sve32sDZk/congestion-monitoring?orgId=1&var-domain=${__value.raw}&${__url_time_range}"
                      }
                    ]
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 12,
            "w": 12,
            "x": 0,
            "y": 32
          },
          "id": 161,
          "interval": "[[polling_interval]]",
          "options": {
            "showHeader": true,
            "sortBy": [
              {
                "desc": true,
                "displayName": "PAUSE Against Ingress Traffic"
              }
            ]
          },
          "pluginVersion": "7.5.7",
          "targets": [
            {
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "orderByTime": "ASC",
              "policy": "default",
              "query": "select top(\"PAUSE against Ingress Traffic\",domain,peer_service_profile,10) as \"PAUSE Sent by Servers\" from (select sum(\"PAUSE against Ingress Traffic\") as \"PAUSE against Ingress Traffic\" from (SELECT non_negative_difference(max(\"pause_rx\"))/elapsed(max(\"pause_rx\"),1s) AS \"PAUSE against Ingress Traffic\" FROM \"$db\".\"$rp\".\"BackplanePortStats\" WHERE $timeFilter GROUP BY time($__interval),domain,fi_id,bp_port,peer_service_profile) where $timeFilter and peer_service_profile != 'Unknown' GROUP BY domain,peer_service_profile)  where $timeFilter",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "table",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": []
            }
          ],
          "title": "Top 10 Servers - Congestion Against Ingress Traffic - $location",
          "transformations": [
            {
              "id": "filterFieldsByName",
              "options": {
                "include": {
                  "names": [
                    "domain",
                    "peer_service_profile",
                    "PAUSE Sent by Servers"
                  ]
                }
              }
            },
            {
              "id": "organize",
              "options": {
                "excludeByName": {},
                "indexByName": {
                  "PAUSE against Ingress Traffic": 2,
                  "domain": 1,
                  "peer_service_profile": 0
                },
                "renameByName": {
                  "domain": "Domain",
                  "peer_service_profile": "Server"
                }
              }
            }
          ],
          "type": "table"
        },
        {
          "datasource": null,
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "continuous-YlRd"
              },
              "custom": {
                "align": "left",
                "filterable": false
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              }
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byRegexp",
                  "options": "/PAUSE/"
                },
                "properties": [
                  {
                    "id": "custom.displayMode",
                    "value": "gradient-gauge"
                  },
                  {
                    "id": "decimals",
                    "value": 0
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "Server"
                },
                "properties": [
                  {
                    "id": "links",
                    "value": [
                      {
                        "title": "Detailed traffic monitoring of service profile ${__value.raw}",
                        "url": "d/Z0M_N1vWz/service-profile-stats?orgId=1&var-domain=${__data.fields[domain]}&var-service_profile=${__value.raw}&${__url_time_range}"
                      }
                    ]
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "Domain"
                },
                "properties": [
                  {
                    "id": "links",
                    "value": [
                      {
                        "title": "Detailed traffic monitoring of UCS domain ${__value.raw}",
                        "url": "d/Sve32sDZk/congestion-monitoring?orgId=1&var-domain=${__value.raw}&${__url_time_range}"
                      }
                    ]
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 12,
            "w": 12,
            "x": 12,
            "y": 32
          },
          "id": 162,
          "interval": "[[polling_interval]]",
          "options": {
            "showHeader": true,
            "sortBy": [
              {
                "desc": true,
                "displayName": "PAUSE Against Ingress Traffic"
              }
            ]
          },
          "pluginVersion": "7.5.7",
          "targets": [
            {
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "orderByTime": "ASC",
              "policy": "default",
              "query": "select top(\"PAUSE against Egress Traffic\",domain,peer_service_profile,10) as \"PAUSE Sent to Servers\" from (select sum(\"PAUSE against Egress Traffic\") as \"PAUSE against Egress Traffic\" from (SELECT non_negative_difference(max(\"pause_tx\"))/elapsed(max(\"pause_tx\"),1s) AS \"PAUSE against Egress Traffic\" FROM \"$db\".\"$rp\".\"BackplanePortStats\" WHERE $timeFilter GROUP BY time($__interval),domain,fi_id,bp_port,peer_service_profile) where $timeFilter and peer_service_profile != 'Unknown' GROUP BY domain,peer_service_profile)  where $timeFilter",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "table",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": []
            }
          ],
          "title": "Top 10 Servers - Congestion Against Egress Traffic - $location",
          "transformations": [
            {
              "id": "filterFieldsByName",
              "options": {
                "include": {
                  "names": [
                    "domain",
                    "peer_service_profile",
                    "PAUSE Sent to Servers"
                  ]
                }
              }
            },
            {
              "id": "organize",
              "options": {
                "excludeByName": {},
                "indexByName": {
                  "PAUSE against Ingress Traffic": 2,
                  "domain": 1,
                  "peer_service_profile": 0
                },
                "renameByName": {
                  "domain": "Domain",
                  "peer_service_profile": "Server"
                }
              }
            }
          ],
          "type": "table"
        }
      ],
      "title": "Congestion monitoring",
      "type": "row"
    }
  ],
  "refresh": false,
  "schemaVersion": 27,
  "style": "dark",
  "tags": [
    "cisco",
    "UCS"
  ],
  "templating": {
    "list": [
      {
        "description": null,
        "error": null,
        "hide": 2,
        "label": "Database",
        "name": "db",
        "query": "${VAR_DB}",
        "skipUrlSync": false,
        "type": "constant",
        "current": {
          "value": "${VAR_DB}",
          "text": "${VAR_DB}",
          "selected": false
        },
        "options": [
          {
            "value": "${VAR_DB}",
            "text": "${VAR_DB}",
            "selected": false
          }
        ]
      },
      {
        "description": null,
        "error": null,
        "hide": 2,
        "label": "Retention Policy",
        "name": "rp",
        "query": "${VAR_RP}",
        "skipUrlSync": false,
        "type": "constant",
        "current": {
          "value": "${VAR_RP}",
          "text": "${VAR_RP}",
          "selected": false
        },
        "options": [
          {
            "value": "${VAR_RP}",
            "text": "${VAR_RP}",
            "selected": false
          }
        ]
      },
      {
        "current": {
          "selected": false,
          "text": "InfluxDB",
          "value": "InfluxDB"
        },
        "description": null,
        "error": null,
        "hide": 0,
        "includeAll": false,
        "label": "Data Source",
        "multi": false,
        "name": "data_source",
        "options": [],
        "query": "influxdb",
        "refresh": 1,
        "regex": "",
        "skipUrlSync": false,
        "type": "datasource"
      },
      {
        "allValue": null,
        "current": {},
        "datasource": "$data_source",
        "definition": "show tag values from \"$db\".\"$rp\".\"Servers\" with key=location where $timeFilter",
        "description": null,
        "error": null,
        "hide": 0,
        "includeAll": true,
        "label": "Location",
        "multi": false,
        "name": "location",
        "options": [],
        "query": "show tag values from \"$db\".\"$rp\".\"Servers\" with key=location where $timeFilter",
        "refresh": 2,
        "regex": "",
        "skipUrlSync": false,
        "sort": 0,
        "tagValuesQuery": "",
        "tags": [],
        "tagsQuery": "",
        "type": "query",
        "useTags": false
      },
      {
        "description": null,
        "error": null,
        "hide": 2,
        "label": null,
        "name": "polling_interval",
        "query": "${VAR_POLLING_INTERVAL}",
        "skipUrlSync": false,
        "type": "constant",
        "current": {
          "value": "${VAR_POLLING_INTERVAL}",
          "text": "${VAR_POLLING_INTERVAL}",
          "selected": false
        },
        "options": [
          {
            "value": "${VAR_POLLING_INTERVAL}",
            "text": "${VAR_POLLING_INTERVAL}",
            "selected": false
          }
        ]
      },
      {
        "allValue": null,
        "current": {},
        "datasource": "$data_source",
        "definition": "select count(domain) from (SELECT last(\"model\") FROM \"$db\".\"$rp\".\"FIEnvStats\" WHERE $timeFilter GROUP BY domain)",
        "description": null,
        "error": null,
        "hide": 2,
        "includeAll": false,
        "label": null,
        "multi": false,
        "name": "num_domain",
        "options": [],
        "query": "select count(domain) from (SELECT last(\"model\") FROM \"$db\".\"$rp\".\"FIEnvStats\" WHERE $timeFilter GROUP BY domain)",
        "refresh": 2,
        "regex": "",
        "skipUrlSync": false,
        "sort": 0,
        "tagValuesQuery": "",
        "tags": [],
        "tagsQuery": "",
        "type": "query",
        "useTags": false
      },
      {
        "allValue": null,
        "current": {},
        "datasource": "$data_source",
        "definition": "select sum(count) from (select count(distinct(chassis)) from (SELECT last(\"model\") FROM \"$db\".\"$rp\".\"Servers\" WHERE (chassis!='') AND $timeFilter GROUP BY service_profile,domain,chassis,id) group by domain)",
        "description": null,
        "error": null,
        "hide": 2,
        "includeAll": false,
        "label": null,
        "multi": false,
        "name": "num_chassis",
        "options": [],
        "query": "select sum(count) from (select count(distinct(chassis)) from (SELECT last(\"model\") FROM \"$db\".\"$rp\".\"Servers\" WHERE (chassis!='') AND $timeFilter GROUP BY service_profile,domain,chassis,id) group by domain)",
        "refresh": 2,
        "regex": "",
        "skipUrlSync": false,
        "sort": 0,
        "tagValuesQuery": "",
        "tags": [],
        "tagsQuery": "",
        "type": "query",
        "useTags": false
      },
      {
        "allValue": null,
        "current": {},
        "datasource": "$data_source",
        "definition": "select count(id) from (SELECT last(\"model\") FROM \"$db\".\"$rp\".\"Servers\" WHERE $timeFilter GROUP BY domain,chassis,type,id)",
        "description": null,
        "error": null,
        "hide": 2,
        "includeAll": false,
        "label": null,
        "multi": false,
        "name": "num_servers",
        "options": [],
        "query": "select count(id) from (SELECT last(\"model\") FROM \"$db\".\"$rp\".\"Servers\" WHERE $timeFilter GROUP BY domain,chassis,type,id)",
        "refresh": 2,
        "regex": "",
        "skipUrlSync": false,
        "sort": 0,
        "tagValuesQuery": "",
        "tags": [],
        "tagsQuery": "",
        "type": "query",
        "useTags": false
      },
      {
        "allValue": null,
        "current": {},
        "datasource": "$data_source",
        "definition": " SHOW TAG VALUES CARDINALITY FROM \"$db\".\"$rp\".\"FIEnvStats\" WITH KEY=location",
        "description": null,
        "error": null,
        "hide": 2,
        "includeAll": false,
        "label": null,
        "multi": false,
        "name": "num_locations",
        "options": [],
        "query": " SHOW TAG VALUES CARDINALITY FROM \"$db\".\"$rp\".\"FIEnvStats\" WITH KEY=location",
        "refresh": 2,
        "regex": "",
        "skipUrlSync": false,
        "sort": 0,
        "tagValuesQuery": "",
        "tags": [],
        "tagsQuery": "",
        "type": "query",
        "useTags": false
      },
      {
        "description": null,
        "error": null,
        "hide": 2,
        "label": null,
        "name": "fc_data_rate",
        "query": "${VAR_FC_DATA_RATE}",
        "skipUrlSync": false,
        "type": "constant",
        "current": {
          "value": "${VAR_FC_DATA_RATE}",
          "text": "${VAR_FC_DATA_RATE}",
          "selected": false
        },
        "options": [
          {
            "value": "${VAR_FC_DATA_RATE}",
            "text": "${VAR_FC_DATA_RATE}",
            "selected": false
          }
        ]
      },
      {
        "description": null,
        "error": null,
        "hide": 2,
        "label": null,
        "name": "5m_in_ms",
        "query": "${VAR_5M_IN_MS}",
        "skipUrlSync": false,
        "type": "constant",
        "current": {
          "value": "${VAR_5M_IN_MS}",
          "text": "${VAR_5M_IN_MS}",
          "selected": false
        },
        "options": [
          {
            "value": "${VAR_5M_IN_MS}",
            "text": "${VAR_5M_IN_MS}",
            "selected": false
          }
        ]
      },
      {
        "allValue": null,
        "current": {},
        "datasource": "${DS_INFLUXDB}",
        "definition": "select last(utm_collector_ver) from \"$db\".\"$rp\".\"FIEnvStats\"",
        "description": null,
        "error": null,
        "hide": 2,
        "includeAll": false,
        "label": null,
        "multi": false,
        "name": "utm_collector_ver",
        "options": [],
        "query": "select last(utm_collector_ver) from \"$db\".\"$rp\".\"FIEnvStats\"",
        "refresh": 1,
        "regex": "",
        "skipUrlSync": false,
        "sort": 0,
        "tagValuesQuery": "",
        "tags": [],
        "tagsQuery": "",
        "type": "query",
        "useTags": false
      }
    ]
  },
  "time": {
    "from": "now-6h",
    "to": "now"
  },
  "timepicker": {
    "refresh_intervals": [
      "10s",
      "30s",
      "1m",
      "5m",
      "15m",
      "30m",
      "1h",
      "2h",
      "1d"
    ],
    "time_options": [
      "5m",
      "15m",
      "1h",
      "6h",
      "12h",
      "24h",
      "2d",
      "7d",
      "30d"
    ]
  },
  "timezone": "browser",
  "title": "Locations",
  "uid": "ri2OFp4Wz",
  "version": 4
}